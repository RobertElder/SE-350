D2L={LP:{Web:{UI:{Html:{}}}},LE:{},PT:{},LOR:{},EP:{}};D2L.LP.Web.UI.Desktop={CompositeViews:{},Controls:{}};
D2L.LP.Web.UI.ObjectRepository={Get:function(b,c){if(D2L.OR[b]===undefined)throw"'"+b+"' not found in object repository.";if(D2L.OR[b].length<=c)throw"'"+b+"'["+c+"] not found in object repository.";if(D2L.ORD[b]!==undefined&&D2L.ORD[b].length>c&&D2L.ORD[b][c]!==undefined)return D2L.ORD[b][c];var e=D2L.LP.Web.Serialization.Json.Deserialize(D2L.OR[b][c]);if(D2L.ORD[b]===undefined)D2L.ORD[b]=[];D2L.ORD[b][c]=e;return D2L.ORD[b][c]},HasKey:function(b){return D2L.OR[b]!==undefined},Set:function(b,c,e){if(D2L.ORD[b]===
undefined)D2L.ORD[b]=[];D2L.ORD[b][c]=e}};D2L.O=function(b,c){return D2L.LP.Web.UI.ObjectRepository.Get(b,c)};D2L.OR={};D2L.ORD={};D2L.Class=function(){};D2L.Class.prototype.Construct=function(){};D2L.Class.prototype.Dispose=function(){};D2L.Class.prototype.AttachObject=function(b,c,e){if(b!==undefined&&b!==null)b[c]=e};D2L.Class.Create=function(b){var c=function(){arguments[0]!==D2L.Class&&this.Construct.apply(this,arguments)},e=new this(D2L.Class);for(var f in b)e[f]=b[f];c.prototype=e;return c};
D2L.Class.Extend=function(b){var c=function(){arguments[0]!==D2L.Class&&this.Construct.apply(this,arguments)},e=new this(D2L.Class),f=this.prototype;for(var g in b){var h=b[g];if(h instanceof Function)h.$=f;e[g]=h}c.prototype=e;c.extend=this.extend;c.Extend=this.extend;return c};D2L.Class.extend=D2L.Class.Extend;D2L.GarbageCollection={m_objects:[],Register:function(b){this.m_objects.push(b)},Dispose:function(){for(var b=this.m_objects.length,c=0;c<b;c++)this.m_objects[c].Dispose&&this.m_objects[c].Dispose()}};
D2L.Class.prototype.Construct=function(b){if(b===undefined)b=false;b&&D2L.GarbageCollection!==undefined&&D2L.GarbageCollection.Register(this)};D2L.LP.Web.UI.Events={};
D2L.LP.Web.UI.Events.Event=D2L.Class.Create({Construct:function(){this.m_arguments=undefined;this.m_callbacks=[];this.m_hasTriggered=false},AddListener:function(b){this.m_callbacks.push(b);this.m_hasTriggered&&b.apply(b,this.m_arguments)},RemoveListener:function(b){for(var c=0;c<this.m_callbacks.length;c++)this.m_callbacks[c]===b&&this.m_callbacks.splice(c,1)},Trigger:function(){this.m_arguments=arguments;this.m_hasTriggered=true;for(var b=0;b<this.m_callbacks.length;b++){var c=this.m_callbacks[b].apply(this.m_callbacks[b],
arguments);if(c!==undefined&&c===false)return}}});D2L.LP.Web.UI.Events.OnLoad=new D2L.LP.Web.UI.Events.Event;
D2L.LocalDateTime=D2L.Class.Create({Construct:function(b,c,e,f,g,h){var k=new Date;this.m_year=b!==undefined?b:k.getFullYear();this.m_month=c!==undefined?c:k.getMonth+1;this.m_day=e!==undefined?e:k.getDate();this.m_hour=f!==undefined?f:k.getHours();this.m_minute=g!==undefined?g:k.getMinutes();this.m_second=h!==undefined?h:k.getSeconds()},_deserialize:function(b){this.m_year=b.GetMember("Year");this.m_month=b.GetMember("Month");this.m_day=b.GetMember("Day");this.m_hour=b.GetMember("Hour");this.m_minute=
b.GetMember("Minute");this.m_second=b.GetMember("Second")},_serialize:function(b){b.AddMember("Year",this.m_year);b.AddMember("Month",this.m_month);b.AddMember("Day",this.m_day);b.AddMember("Hour",this.m_hour);b.AddMember("Minute",this.m_minute);b.AddMember("Second",this.m_second)},GetYear:function(){return this.m_year},GetMonth:function(){return this.m_month},GetDay:function(){return this.m_day}});D2L.LP.Web.Serialization={Json:{},Url:{}};
D2L.LP.Web.Serialization.Json.Deserialize=function(b){if(!(b===undefined||b===null||typeof b!=="string")){var c=function(h){h=h.split(".");for(var k=this,j=0;j<h.length;j++){if(k[h[j]]===undefined)return;k=k[h[j]]}if(j==h.length)return k},e=function(h){var k=c(h._type);if(k!==undefined){k=new k;if(k._deserialize!==undefined){k._deserialize(new D2L.LP.Web.Serialization.Json.Deserializer(h));h=k}}return h},f=function(h){delete h._type;return h},g=function(h){var k=c(h.Name);if(k!==undefined)return function(){for(var j=
[],l=0;l<h.Params.length;l++)j.push(h.Params[l]);for(l=0;l<arguments.length;l++)j.push(arguments[l]);return k.apply(k,j)}};return JSON.parse(b,function(h,k){if(k!==undefined&&k!==null)if(k._type!==undefined){if(k._type=="url")k._type="D2L.LP.Web.Http.UrlLocation";else if(k._type=="id")k._type="D2L.LP.Web.UI.Html.AbsoluteHtmlId";else if(k._type=="func")k._type="D2L.LP.Web.UI.Html.JavaScript.JavaScriptFunction";k=k._type=="D2L.LP.Util.Dictionary"?f(k):k._type=="D2L.LP.Web.UI.Html.JavaScript.JavaScriptFunction"?
g(k):e(k)}return k})}};D2L.LP.Web.Serialization.Json.Deserializer=D2L.Class.Create({Construct:function(b){this.m_json=b},GetMember:function(b,c){return this.HasMember(b)?this.m_json[b]:c},HasMember:function(b){return this.m_json[b]!==undefined}});D2L.LP.Web.Serialization.Url.Serialize=function(b){if(b===undefined||b===null||typeof b!=="object")return"";var c=new D2L.LP.Web.Serialization.Url.Serializer;for(var e in b)c.AddMember(e,b[e]);return c.Serialize()};
D2L.LP.Web.Serialization.Url.Serializer=D2L.Class.Create({Construct:function(){this.m_scopeString="";this.m_values={}},AddMember:function(b,c){var e=typeof c;if(!(e==="undefined"||e==="function"))if(e==="number"||e==="boolean"||e==="string"||c===null)this.m_values[this.m_scopeString+b]=c;else if(e==="object"){this.m_scopeString+=b+"$";if(c._serialize!==undefined)c._serialize(this);else for(var f in c)this.AddMember(f,c[f]);this.m_scopeString=this.m_scopeString.substr(0,this.m_scopeString.length-(b.length+
1))}},Serialize:function(){var b="",c="";for(var e in this.m_values){b+=c+D2L.Util.Url.Encode(e)+"="+D2L.Util.Url.Encode(this.m_values[e]);c="&"}return b}});D2L.LP.Web.Http={};D2L.LP.Web.Http.ILocation=function(){};D2L.LP.Web.Http.ILocation.prototype.GetUrl=function(){};
D2L.LP.Web.Http.UrlLocation=D2L.Class.Create({Construct:function(b){if(b===undefined||b===null)b="";this.m_url=b},_deserialize:function(b){this.m_url=b.GetMember("Url")},_serialize:function(b){b.AddMember("Url",this.m_url)},GetUrl:function(){return this.m_url},WithQueryString:function(b,c){var e=this.m_url;if(e.indexOf("?",0)==-1)e+="?";e+=b;e+="=";e+=D2L.Util.Url.Encode(c);return new D2L.LP.Web.Http.UrlLocation(e)}});D2L.LP.Web.UI.Rpc={};
D2L.LP.Web.UI.Rpc.Connect=function(b,c,e,f){var g=new D2L.LP.Web.UI.Events.Event;if(b===undefined||b===null||b!="GET"&&b!="POST")throw"Invalid RPC verb: '"+b+"'.";if(c===undefined||c===null)throw"Invalid RPC location: '"+c+"'.";if(e===undefined||e===null)e={};if(f===undefined)f={};c=c.GetUrl();var h=false,k=false,j=function(){g.Trigger(false);var p=true,r=function(){D2L.LP.Web.UI.Rpc.OnFailure.Trigger({reason:D2L.LP.Web.UI.Rpc.FailureReasons.Unknown})};if(e.failure!==undefined){var s=e.failure.call(e.failure),
v=s!==undefined?s.Trigger!==undefined:false,u=function(w){this.Trigger(w);w!==true&&r()};if(s===true)p=false;else if(v){p=false;s.AddListener(u)}}p&&r()},l=new XMLHttpRequest;l.onreadystatechange=function(){if(!(k||l.readyState!=4)){h=true;if(l.status==200){g.Trigger(true);e.success!==undefined&&e.success.call(e.success,l.responseText)}else if(l.status==403&&l.responseText=="Not authenticated.")e.notAuthenticated!==undefined?e.notAuthenticated.call(e.notAuthenticated):D2L.LP.Web.UI.Rpc.OnFailure.Trigger({reason:D2L.LP.Web.UI.Rpc.FailureReasons.NotAuthenticated});
else j()}};f.isXhr="true";f.d2l_session=D2L.LP.Web.UI.Html.Form.GetSessionVal();if(e.keepAlive!==undefined&&!e.keepAlive)f["X-D2L-Session"]="no-keep-alive";f=D2L.LP.Web.Serialization.Url.Serialize(f);if(b==D2L.LP.Web.UI.Rpc.Verbs.GET){var o=c.indexOf("?")>-1?"&":"?";c+=o+f}l.open(b,c,true);c=undefined;if(b==D2L.LP.Web.UI.Rpc.Verbs.POST){l.setRequestHeader("Content-type","application/x-www-form-urlencoded");c=f}e.timeout!==undefined&&setTimeout(function(){if(!h){k=true;j()}},e.timeout);l.send(c);return g};
D2L.LP.Web.UI.Rpc.ConnectJson=function(b,c,e,f){if(e===undefined)e={};return D2L.LP.Web.UI.Rpc.Connect(b,c,{success:function(g){e.success&&e.success.call(e.success,D2L.LP.Web.Serialization.Json.Deserialize(g))},failure:e.failure,notAuthenticated:e.notAuthenticated,timeout:e.timeout,keepAlive:e.keepAlive},f)};
D2L.LP.Web.UI.Rpc.ConnectPartial=function(b,c,e,f,g){if(f===undefined||f===null)f={};if(g===undefined||g===null)g={};var h=new D2L.LP.Web.UI.Events.Event;g._d2l_prc=D2L.O(b.GetValue(),0);D2L.LP.Web.UI.Rpc.ConnectJson(c,e,{success:function(k){h.Trigger(k);f.success!==undefined&&f.success.call(f.success)},failure:function(){h.Trigger(false);f.failure!==undefined&&f.failure.call(f.failure)},timeout:6E4,notAuthenticated:function(){D2L.LP.Web.UI.Rpc.OnFailure.Trigger({reason:D2L.LP.Web.UI.Rpc.FailureReasons.NotAuthenticated})}},
g);return h};D2L.LP.Web.UI.Rpc.Verbs={GET:"GET",POST:"POST"};D2L.Files={RestrictedExtensions:[],TypeInfos:null,TypeInfosDr:null};
D2L.Control=D2L.Class.extend({Construct:function(b){arguments.callee.$.Construct.call(this,b);this.IChildrenDomNode=this.IDomNode=null;this.isD2LControl=true;this.m_children=[];this.m_isIntegrated=this.m_hasDomBeenBuilt=false;this.m_parent=this.m_previousSibling=this.m_nextSibling=null;this.m_window=window;this.m_ignoreTransformEvent=false;this.m_mappedId="";this.m_controlId=new D2L.Control.Id;this.OnChildAdd=new D2L.EventHandler;this.OnChildRemove=new D2L.EventHandler;this.OnChildRemoveStructure=
new D2L.EventHandler;this.OnDomInsertion=new D2L.EventHandler;this.m_parentChangeEvent=new D2L.EventHandler},AppendChild:function(b,c){return this.InsertBefore(b,undefined,c)},AppendChildren:function(b,c){this.m_ignoreTransformEvent=true;for(var e=0;e<b.length;e++){if(e==b.length-1)this.m_ignoreTransformEvent=false;this.AppendChild(b[e],c)}this.m_ignoreTransformEvent=false},AppendTo:function(b){if(b){b.d2l_win!==undefined&&this.SetWindow(b.d2l_win);this.m_hasDomBeenBuilt||this.BuildDom();if(b.isD2LControl)b.AppendChild(this);
else if(b.appendChild){b.appendChild(this.IDomNode);this.OnDomInsertion.Trigger()}}},BuildDom:function(){this.m_hasDomBeenBuilt=true},Children:function(){return this.m_children},ChildrenDomNode:function(){return this.IChildrenDomNode?this.IChildrenDomNode:this.IDomNode},CreateCell:function(b,c){if(c===undefined)c=-1;b=b.insertCell(c);this.AttachObject(b,"d2l_win",this.GetWindow());return b},CreateElement:function(b){return this.GetUI().CreateElement(b)},CreateTextNode:function(b){return this.GetUI().CreateTextNode(b)},
GetControlId:function(){return this.m_controlId},GetDomNode:function(){if(this.IDomNode===null&&this.m_mappedId.length>0)this.IDomNode=UI.GetById(this.GetMappedId());return this.IDomNode},GetMappedId:function(){if(this.m_mappedId.length===0)this.m_mappedId=this.IDomNode!==null&&this.IDomNode.id.length>0?this.IDomNode.id:UI.GetUniqueHtmlId();return this.m_mappedId},GetUI:function(){return this.GetWindow().UI},GetWindow:function(){return this.Parent()?this.Parent().GetWindow():this.m_window},IsRendered:function(){return this.m_hasDomBeenBuilt},
Integrate:function(b,c){this.IntegrateChild(b,c)},IntegrateChild:function(b,c){if(b){this.m_parent=b;this.ParentChangeEvent().Trigger(b);if(b.m_children.length>0){b.m_children[b.m_children.length-1].m_nextSibling=this;this.m_previousSibling=b.m_children[b.m_children.length-1]}b.m_children.push(this)}if(c){this.IDomNode=c;this.AttachObject(this.IDomNode,"ID2L",this);this.m_hasDomBeenBuilt=true}},IntegrateControlInfo:function(b,c){if(!this.IsIntegrated()){this.m_isIntegrated=true;if(c===undefined)c=
true;(this.m_hasDomBeenBuilt=c)&&this.GetDomNode()!==null&&this.AttachObject(this.GetDomNode(),"ID2L",this)}},IntegrateControl:function(b,c){this.IntegrateControlInfo(b,c)},IntegrateControlMin:function(b,c){this.IntegrateControlInfo(b,c)},InsertBefore:function(b,c,e){if(!b||b===undefined||b===null)return null;if(!b.isD2LControl){var f=new D2L.Control;f.IDomNode=b;f.m_hasDomBeenBuilt=true;b=f}if(b.Parent()==this)b=this.RemoveChildStructure(b);this.m_hasDomBeenBuilt||this.BuildDom();if(e===undefined)e=
this.ChildrenDomNode();c&&!c.m_hasDomBeenBuilt&&c.BuildDom();var g=-1;if(c)for(f=0;f<this.m_children.length;f++)if(this.m_children[f]==c){g=f;break}if(c&&(g==-1||c.IDomNode.parentNode!=e)){c=null;g=-1}b.m_parent=this;b.ParentChangeEvent().Trigger(this);if(g>-1){if(this.m_children[g].m_previousSibling){this.m_children[g].m_previousSibling.m_nextSibling=b;b.m_previousSibling=this.m_children[g].m_previousSibling}this.m_children[g].m_previousSibling=b;b.m_nextSibling=this.m_children[g];this.m_children.splice(g,
0,b)}else{if(this.m_children.length>0){this.m_children[this.m_children.length-1].m_nextSibling=b;b.m_previousSibling=this.m_children[this.m_children.length-1]}this.m_children.push(b)}b.m_hasDomBeenBuilt||b.BuildDom();if(g>-1){if(b.IDomNode.parentNode!=e){e.insertBefore(b.IDomNode,c.IDomNode);this.OnDomInsertion.Trigger()}}else if(b.IDomNode&&(!b.IDomNode.parentNode||b.IDomNode.parentNode!=e))try{if(b.IDomNode.tagName&&b.IDomNode.tagName.toLowerCase()!="tr"){e.appendChild(b.IDomNode);b.OnDomInsertion.Trigger()}}catch(h){}this.OnChildAdd.Trigger(new D2L.Event("ChildAdd",
this),b);this.m_ignoreTransformEvent||(new D2L.TransformEvent(b.IDomNode)).Bubble();return b},InsertSorted:function(b,c){for(var e,f=0;f<this.Children().length;f++)if(c(this.Children()[f],b)){e=this.Children()[f];break}return this.InsertBefore(b,e)},IsFirstSibling:function(){return this.PreviousSibling()===null},IsInDom:function(){try{var b=this.GetDomNode();if(b!==null){for(;b.parentNode!==null;)b=b.parentNode;return b==document}}catch(c){return false}return false},IsIntegrated:function(){return this.m_isIntegrated},
IsLastSibling:function(){return this.NextSibling()===null},NextSibling:function(){return this.m_nextSibling},Parent:function(){return this.m_parent},ParentChangeEvent:function(){return this.m_parentChangeEvent},PreviousSibling:function(){return this.m_previousSibling},Remove:function(b){if(b===undefined)b=undefined;if(this.IDomNode){var c=this,e=function(){if(c.m_parent&&c.m_parent.isD2LControl)return c.m_parent.RemoveChild(c);else if(c.IDomNode.parentNode){if(c.IDomNode.parentNode.deleteRow)c.IDomNode.parentNode.deleteRow(c.IDomNode.rowIndex);
else c.IDomNode=c.IDomNode.parentNode.removeChild(c.IDomNode);(new D2L.TransformEvent(c.IDomNode)).Bubble()}};if(b){b=new YAHOO.util.Anim(this.IDomNode,{opacity:{to:0}},0.5);b.onComplete.subscribe(function(){e()});b.animate()}else e();return c}return null},RemoveChild:function(b){if(!b||b===undefined||b===null)return null;(b=this.RemoveChildStructure(b))&&this.OnChildRemove.Trigger(new D2L.Event("ChildRemove",this),b);return b},RemoveChildStructure:function(b){if(!b||b===undefined||b===null)return null;
for(var c=0;c<this.m_children.length;c++)if(this.m_children[c]==b)break;if(c>=this.m_children.length)return null;var e=b;if(b.NextSibling())b.NextSibling().m_previousSibling=b.PreviousSibling();if(b.PreviousSibling())b.PreviousSibling().m_nextSibling=b.NextSibling();b.m_parent=null;b.m_nextSibling=null;b.m_previousSibling=null;if((e=b.IDomNode)&&e.parentNode){this.m_children.splice(c,1);if(e.parentNode.deleteRow)e.parentNode.deleteRow(e.rowIndex);else e=e.parentNode.removeChild(e);(new D2L.TransformEvent(e)).Bubble()}this.OnChildRemoveStructure.Trigger(new D2L.Event("ChildRemoveStructure",
this),b);return b},RequireControlId:function(){this.m_controlId.ID().length===0&&this.SetControlId(UI.GetUniqueHtmlId())},SetControlId:function(b,c){UI.GetControlMap().UnregisterControl(this);this.m_controlId=new D2L.Control.Id(b,c);UI.GetControlMap().RegisterControl(this)},SetDomNode:function(b){return this.IDomNode=b},SetValidator:function(b){this.RequireControlId();b.RequireControlId();UI.GetValidationManager().SetControlValidator(this.GetControlId(),b.GetControlId())},SetValidationGroup:function(b){this.RequireControlId();
UI.GetValidationManager().SetControlValidationGroup(this.GetControlId(),b)},SetValidationSubject:function(b){this.RequireControlId();UI.GetValidationManager().SetControlSubject(this.GetControlId(),b)},SetWindow:function(b){this.m_window=b}});D2L.Control.TextFormat={Normal:1,Bold:2};D2L.C=function(b,c,e){if(b!==undefined&&b!==null&&b.length>0)window[b]=UI.GetControl(c,e)};
D2L.Control.Id=D2L.Class.extend({Construct:function(b,c){arguments.callee.$.Construct.call(this);if(b===undefined)b="";else b.isString||(b=b.toString());if(c===undefined)c="";else c.isString||(c=c.toString());this.m_id=b.toLowerCase();this.m_sid=c.toLowerCase()},Deserialize:function(b){this.m_id=b.GetMember("ID");if(b.HasMember("SID"))this.m_sid=b.GetMember("SID")},DeserializeMin:function(b){this.m_id=b.GetMember();if(b.HasMember())this.m_sid=b.GetMember()},Serialize:function(b){b.AddMember("ID",
this.m_id);this.m_sid.length>0&&b.AddMember("SID",this.m_sid)},ID:function(){return this.m_id},SID:function(){return this.m_sid}});D2L.Util={};
D2L.Util.MethodProxy=D2L.Class.extend({Construct:function(b,c,e){arguments.callee.$.Construct.call(this);if(e===undefined)e=true;this.m_beginMethod=b;this.m_endMethod=c;this.m_isAsynchronous=e},Call:function(){var b=undefined;if(this.m_isAsynchronous){var c=new D2L.Util.DelayedReturn;b=c;if(this.m_endMethod)b=c.RegisterWithReturn(this.m_endMethod);this.m_beginMethod&&c.Trigger(this.m_beginMethod.apply(this.m_beginMethod,arguments))}else{if(this.m_beginMethod)b=this.m_beginMethod.apply(this.m_beginMethod,
arguments);if(this.m_endMethod)b=this.m_endMethod.apply(this.m_endMethod,[b])}return b}});
D2L.UI=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.displayGroups=null;this.formName="d2l_form";this.form={};this.initialized=false;this.Form=D2L.UI.GetByName;this.ValidateArray=[];this.prefetchedImages=[];this.windowId="";this.hitCodeSeed=0;this.Callback={};this.LanguageManager=new D2L.Language.LanguageManager;this.qsParams=this.DisplayGroupsManager=null;this.m_bodyType=D2L.UI.BodyType.Normal;this.m_formManager=this.m_dragDropManager=this.m_displayGroupManager=
this.m_d2lTextCacheManager=this.m_culture=this.m_controlMap=null;this.m_helpDialogs={};this.m_hitCode="";this.m_hitCodeCount=0;this.m_isPageFullScreen=true;this.m_messageArea=null;this.m_messageAreaSiblingId=this.m_messageAreaParentId="";this.m_multiEditManager=null;this.m_onPageLoad=new D2L.EventHandler;this.m_onPageUnload=new D2L.EventHandler;this.m_pageLoadTime=0;this.m_parentDialog=null;this.m_parentDialogDr=new D2L.Util.DelayedReturn;this.m_relativeFontSizeManager=null;this.m_relativeZIndex=
1E3;this.m_stateManager=this.m_shimController=this.m_reorderManager=null;this.m_uniqueHtmlId=0;this.m_validationManager=null;this.m_warnings=[];this.m_windowEventManager=null;this.m_zIndex=1E3;var b=this;this.OnPageLoad().RegisterMethod(function(){b.m_pageLoadTime=(new Date).getTime()-D2L.InitTime;b.GetControlMap();b.GetReorderManager().Init();if(b.m_warnings.length>0){for(var c=b.GetMessageArea(),e=0;e<b.m_warnings.length;e++)c.AddWarningMessage(new D2L.LP.Text.SmlText(b.m_warnings[e]),false);setTimeout(function(){c.RenderWarningLabel();
c.RenderHeight()})}b.FixPNGs();D2L.LP.Web.UI.Events.OnLoad.Trigger()})},DeserializeMin:function(b){window.UI=this;window.Nav=new D2L.Nav;window.WindowEventManager=this.GetWindowEventManager();window.Events=FindEventController();window.RpcManager=new D2L.Rpc.Manager;window.FormManager=this.GetFormManager();this.windowId=b.GetMember();this.pageId=b.GetMember();this.hitCodeSeed=b.GetMember();this.m_bodyType=b.GetMember();this.m_relativeFontSizeManager=new D2L.Style.RelativeFontSizeManager(b.GetDictionaryMin());
this.m_displayGroupManager=b.GetObjectMin(D2L.DisplayGroups.DisplayGroupManager);this.m_reorderManager=b.GetObjectMin(D2L.Reorder.ReorderManager);this.m_validationManager=b.GetObjectMin(D2L.Validation.Manager);this.m_multiEditManager=b.GetObjectMin(D2L.MultiEdit.Manager);this.m_culture=b.GetObjectMin(D2L.Culture);window.Culture=this.m_culture;this.m_warnings=b.GetMember();this.m_isPageFullScreen=b.GetBoolean();D2L.Util.DateTime.LoadDateTime=b.GetObject();new D2L.UI.AriaController(this)},CreateArray:function(){return[]},
CreateElement:function(b){b=document.createElement(b);this.AttachObject(b,"d2l_win",window);return b},CreateTextNode:function(b){if(b===undefined||b===null)return document.createTextNode("\ufeff");else if(b.isString){if(b.length===0)b="\ufeff";return document.createTextNode(b)}else{var c=document.createTextNode("\ufeff");b.AssignText(c,"data");return c}},C:function(b,c){b.className!="dlk_d"&&b.className.indexOf("di_l_d")<0&&(new Function(c)).call(b)},FixPNGs:function(){this.GetBrowserInfo().Type==
D2L.UI.BrowserType.IE&&this.GetBrowserInfo().MajorVersion<7&&YAHOO.util.Dom.getElementsBy(function(b){if(b!==undefined&&b!==null&&b.src!==undefined&&b.runtimeStyle!==undefined)return b.src.indexOf(".png")>-1;return false},"img",undefined,function(b){var c=b.src;b.src="/d2l/img/lp/pixel.gif";b.runtimeStyle.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+c+"')"})},G:function(b){return this.GetById(b)},GenerateHitCode:function(){var b=new Date;this.m_hitCodeCount++;var c=(this.m_hitCodeCount%
10).toString();this.m_hitCode=this.hitCodeSeed.toString()+(b.getTime()+1E8)%1E8+c;if(this.form)if(b=this.GetByName("d2l_hitCode"))b.value=this.m_hitCode;return this.m_hitCode},GetBrowserInfo:function(){return BrowserInfo},GetById:function(b){return document.getElementById(b)},GetByClassName:function(b){return YAHOO.util.Dom.getElementsByClassName(b)},GetByTagName:function(b){return document.getElementsByTagName(b)},GetControl:function(b,c){return this.GetControlMap().GetControl(b,c)},GetControls:function(b){return this.GetControlMap().GetControls(b)},
GC:function(b){return this.GetControlMap().GetControlByMappedId(b)},GetControlMap:function(){if(this.m_controlMap===null)if(this.GetForm())this.m_controlMap=this.GetForm().d2l_controlMap!==undefined?D2L.Serialization.JsonDeserializerMin.Deserialize(this.GetForm().d2l_controlMap.value,D2L.ControlMap):new D2L.ControlMap;else return new D2L.ControlMap;return this.m_controlMap},GetCulture:function(){return this.m_culture},GetDisplayGroupManager:function(){return this.m_displayGroupManager},GetLanguageManager:function(){return this.LanguageManager},
GetForm:function(){return document.forms[this.formName]},GetFormManager:function(){if(this.m_formManager===null)this.m_formManager=new D2L.FormManager;return this.m_formManager},GetD2LTextCacheManager:function(){if(this.m_d2lTextCacheManager===null)this.m_d2lTextCacheManager=new D2L.LP.Text.Cache;return this.m_d2lTextCacheManager},GetHitCode:function(){return this.m_hitCode},GetMessageArea:function(){if(this.GetBodyType()==D2L.UI.BodyType.IFrame&&window.parent!==window&&window.parent.UI!==undefined)return window.parent.UI.GetMessageArea();
if(this.m_messageArea===null){this.m_messageArea=UI.GetControl("ctl_messageArea");if(this.m_messageArea===null)this.m_messageArea=new D2L.Control.MessageArea}return this.m_messageArea},GetMultiEditManager:function(){return this.m_multiEditManager},GetPageLoadTime:function(){return this.m_pageLoadTime},GetParentDialog:function(){return this.m_parentDialog},GetParentDialogDelayed:function(){return this.m_parentDialogDr},GetRelativeFontSizeManager:function(){return this.m_relativeFontSizeManager},GetReorderManager:function(){return this.m_reorderManager},
GetShimController:function(){if(this.m_shimController===null)this.m_shimController=new D2L.UI.ShimController(this);return this.m_shimController},GetStateManager:function(){if(this.m_stateManager===null)if(this.GetForm())this.m_stateManager=this.GetForm().d2l_state!==undefined?D2L.Serialization.JsonDeserializerMin.Deserialize(this.GetForm().d2l_state.value,D2L.State.StateManager):new D2L.State.StateManager;else return new D2L.State.StateManager;return this.m_stateManager},GetValidationManager:function(){if(this.m_validationManager===
null)if(this.GetForm())this.m_validationManager=this.GetForm().d2l_validationManager!==undefined?D2L.Serialization.JsonDeserializerMin.Deserialize(this.GetForm().d2l_validationManager.value,D2L.Validation.Manager):new D2L.Validation.Manager;else return new D2L.Validation.Manager;return this.m_validationManager},GetWindowEventManager:function(){if(this.m_windowEventManager===null)this.m_windowEventManager=new D2L.WindowEventManager;return this.m_windowEventManager},HideNavBar:function(){if(window.document.getElementById("d_navBar")!=
null){for(var b=false,c=true,e=window;e&&!b;){try{if(!c&&e.document.getElementById("d_navBar")!==null){b=true;break}}catch(f){break}c=false;for(var g=e.document.getElementsByTagName("frame"),h=0;h<g.length;h++)if(g[h].name=="nav"&&g[h].contentWindow!=window){b=true;break}if(e==e.parent)break;e=e.parent}b&&YAHOO.util.Dom.addClass(this.GetBodyElement(),"dbd_noNav")}},EncodeUrl:function(b){return D2L.Util.Url.Encode(b)},Init:function(){this.HideNavBar();if(document.forms)this.form=document.forms[this.formName];
this.initialized=true;this.GenerateHitCode();var b=this;(new D2L.LP.Text.LangTerm("Standard.Misc.txtCopyright",(new Date).getFullYear())).GetText().Register(function(c){window.defaultStatus=c;b.AttachObject(document,"onmouseout",function(){window.status=c})});this.displayGroups=this.DisplayGroupsManager=this.GetDisplayGroupManager();this.StateManager=this.GetStateManager();window.StateManager=this.GetStateManager();window.ValidationManager=this.GetValidationManager()},InitMessageArea:function(b,c){this.m_messageAreaParentId=
b;this.m_messageAreaSiblingId=c},IsPageFullScreen:function(){return this.m_isPageFullScreen},IsValidJsVariableName:function(b){return/^([a-zA-Z])+([a-zA-Z0-9_])*$/.test(b)},GetByName:function(b){var c=null,e=this.form;this.initialized||(e=document.forms[this.formName]);if(e[b])c=e[b];else if(window[b])c=window[b];if(c)if(D2L.Util.JavaScript.IsArray(c))for(b=0;b<c.length;b++){if(c[b].ID2L)c[b]=c[b].ID2L}else if(c.ID2L)c=c.ID2L;return c},GetBodyElement:function(){return document.getElementById("d2l_body")},
GetBodyType:function(){return this.m_bodyType},PrefetchImage:function(b,c,e,f,g){if(!g||g===undefined)g="";if(!this.prefetchedImages[b]||this.prefetchedImages[b]&&this.prefetchedImages[b]===null){var h=new Image(e,f);h.src=c;h.alt=g;h.w=e;h.h=f;this.prefetchedImages[b]=h}else if(this.prefetchedImages[b]&&this.prefetchedImages[b].src!=c){this.prefetchedImages[b].src=c;this.prefetchedImages[b].alt=g;this.prefetchedImages[b].w=e;this.prefetchedImages[b].h=f}},FetchImage:function(b){return this.prefetchedImages[b]},
SwapImages:function(b,c,e){if(this.prefetchedImages[c]&&b){c=this.prefetchedImages[c];e=e!==undefined?e:c.alt.length>0?c.alt:"";b.src=c.src;b.width=c.w;b.height=c.h;if(e.length>0){b.alt=e;b.title=e}}},AddCallback:function(b,c){var e=false;c=this.FindWindow(c);if(c!==null)if(c[b]){e=true;this.Callback[b]=c[b]}e||(this.Callback[b]=function(){return null})},FindWindow:function(b,c){if(c===undefined)c=true;var e=null,f=window;if(c)for(;f&&f.parent!=f&&f.UI;)f=f.parent;return function(g){if(g.UI&&g.UI.windowId==
b)return g;for(var h=g.document.getElementsByTagName("frame"),k=0;k<h.length;k++){var j=h[k].contentWindow;if(j.UI)if(e=j.UI.FindWindow(b,false))return e}h=g.document.getElementsByTagName("iframe");for(k=0;k<h.length;k++){j=h[k].contentWindow;if(j.UI)if(e=j.UI.FindWindow(b,false))return e}if(g.opener&&g.opener.UI)if(e=g.opener.UI.FindWindow(b))return e;return null}(f)},GetUniqueHtmlId:function(){this.m_uniqueHtmlId+=1;return"d2l_cntl_"+this.windowId+"_"+this.m_uniqueHtmlId},GetWindowWidth:function(b){if(b===
undefined)b=window;if(b.innerWidth)return b.innerWidth;else if(b.document.documentElement&&b.document.documentElement.clientWidth)return b.document.documentElement.clientWidth;else if(b.document.body)return b.document.body.clientWidth;return 0},GetWindowHeight:function(b){if(b===undefined)b=window;if(b.innerHeight)return b.innerHeight;else if(b.document.documentElement&&b.document.documentElement.clientHeight)return b.document.documentElement.clientHeight;else if(b.document.body)return b.document.body.clientHeight;
return 0},GetPageWidth:function(b){if(b===undefined)b=window;return Math.max(b.document.documentElement.scrollWidth,UI.GetWindowWidth(b))},GetPageHeight:function(b){if(b===undefined)b=window;var c=undefined;try{c=b.document}catch(e){}var f=b=0,g=0;if(c!==undefined){if(c.height!==undefined)b=c.height;if(c.body!==undefined){if(c.body.scrollHeight!==undefined)f=c.body.scrollHeight;if(c.body.offsetHeight!==undefined)g=c.body.offsetHeight}}return Math.max(Math.max(b,f),g)},GetScrollLeft:function(b){if(b===
undefined)b=window;if(b.document.documentElement&&b.document.documentElement.scrollLeft)return b.document.documentElement.scrollLeft;else if(b.document.body)return b.document.body.scrollLeft;return 0},GetScrollTop:function(b){if(b===undefined)b=window;if(b.document.documentElement&&b.document.documentElement.scrollTop)return b.document.documentElement.scrollTop;else if(b.document.body)return b.document.body.scrollTop;return 0},GetCursorX:function(b,c){var e=0;return e=b.event?b.event.clientX+b.document.documentElement.scrollLeft+
b.document.body.scrollLeft:c.clientX+b.scrollX},GetCursorY:function(b,c){var e=0;return e=b.event?b.event.clientY+b.document.documentElement.scrollTop+b.document.body.scrollTop:c.clientY+b.scrollY},GetCursorPositionInEdit:function(b,c){if(b===undefined)b=window;if(c.selectionStart)return c.selectionStart;else if(b.document.selection){var e=b.document.selection.createRange();b=e.text;e.text=b+"$5b6aaf4b8a6c6c498a74cc6d$";e.moveStart("character",0-b.length-26);c=c.value;e.text=b;for(e=0;e<=c.length;e++)if(c.substring(e,
e+26)=="$5b6aaf4b8a6c6c498a74cc6d$")return e-b.length;return 0}return 0},SetCursorPositionInEdit:function(b,c,e){c.focus();if(c.selectionStart&&e>=0)c.setSelectionRange(e,e);else if(c.createTextRange){b=c.createTextRange();b.collapse(true);b.moveEnd("character",e);b.moveStart("character",e);b.select()}},SetParentDialog:function(b){this.m_parentDialog=b;this.m_parentDialogDr.Trigger(this.m_parentDialog)},EnableLoadingPageShim:function(b){b?this.GetShimController().Shim(null,true):this.GetShimController().ClearShims()},
Confirm:function(b,c,e,f,g,h){if(f!==undefined&&f!==null&&(f.isString!==undefined||f.m_isLangTerm!==undefined)){h=g;g=f;f=undefined}b=new D2L.Dialog.Confirm(this.GetUniqueHtmlId(),b,c,e);g!==undefined&&b.SetPositiveButtonText(g);h!==undefined&&b.SetNegativeButtonText(h);return b.Open(f)},Error:function(b,c,e){return(new D2L.Dialog.Error(this.GetUniqueHtmlId(),b,c)).Open(e)},Info:function(b,c,e){return(new D2L.Dialog.Info(this.GetUniqueHtmlId(),b,c)).Open(e)},Warning:function(b,c,e){return(new D2L.Dialog.Warning(this.GetUniqueHtmlId(),
b,c)).Open(e)},GetRelativeZIndex:function(){this.m_relativeZIndex--;return this.m_relativeZIndex},GetZIndex:function(){this.m_zIndex++;return this.m_zIndex},AH:function(b,c){var e=new d2l_Popup;e.height=800;e.width=800;e.title=b;e.bodySource="/d2l/lp/Lang/admin/modify/language_instructions_edit.d2l";e.queryString="ou="+Global.OrgUnitId+"&cname="+c;e.AddCloseButton();e.AddSaveButton();e.Open()},H:function(b,c){var e=b.toLowerCase().replace(".","_").replace("\\","_"),f=this.m_helpDialogs[e],g=this;
if(f===undefined||f===null){f=new D2L.NonModalDialog("popupHelp_"+e,function(){f.Close();g.m_helpDialogs[e]=null});f.SetSrc("/d2l/common/dialogs/popupHelp/popupHelp.d2l");f.AddButton(D2L.Control.Button.Type.Close);f.SetSize(600,400);this.m_helpDialogs[e]=f}f.SetSrcParam("tt",b);f.SetSrcParam("dt",c);f.Open()},HT:function(b,c,e){b=new D2L.Dialog.Info(this.GetUniqueHtmlId(),new D2L.LP.Text.HtmlText(b,false),new D2L.LP.Text.HtmlText(c,false));b.SetOpener(e);return b.Open()},OnPageLoad:function(){return this.m_onPageLoad},
OnPageUnload:function(){return this.m_onPageUnload}});
D2L.LP.Web.UI.Html.Aria={m_isEnabled:false,Init:function(b){D2L.LP.Web.UI.Html.Aria.m_isEnabled=b},IsEnabled:function(){return D2L.LP.Web.UI.Html.Aria.m_isEnabled},Politeness:{Off:"off",Polite:"polite",Assertive:"assertive",Rude:"rude"},RemoveAttribute:function(b,c){D2L.LP.Web.UI.Html.Aria.IsEnabled()&&b!==undefined&&b!==null&&b.removeAttribute("aria-"+c)},SetAttribute:function(b,c,e){D2L.LP.Web.UI.Html.Aria.IsEnabled()&&b!==undefined&&b!==null&&b.setAttribute("aria-"+c,e)},SetRole:function(b,c){D2L.LP.Web.UI.Html.Aria.IsEnabled()&&
b!==undefined&&b!==null&&b.setAttribute("role",c)}};D2L.LP.Web.UI.Html.Form={GetSessionVal:function(){for(var b=document.cookie.split(";"),c=0;c<b.length;c++)if(b[c].length>0){var e=b[c].split("=");if(e.length>1&&e[0].trim()=="d2lSessionVal")return e[1].trim()}return""}};D2L.LP.Web.UI.Html.JavaScript={};
D2L.LP.Web.UI.Html.JavaScript.IncludeScript=function(b,c){var e=b.indexOf("?")>-1?"&":"?";for(var f in c){b+=e+D2L.Util.Url.Encode(f)+"="+D2L.Util.Url.Encode(c[f]);e="&"}c=document.body.getElementsByTagName("script");for(e=0;e<c.length;e++)if(c[e].src.length>=b.length&&c[e].src.substr(c[e].src.length-b.length)==b)return;c=document.createElement("script");c.src=b;document.body.appendChild(c);return c};
D2L.LP.Web.UI.Html.JavaScript.IncludeScriptBlock=function(b){var c=document.createElement("script");c.appendChild(document.createTextNode(b));document.body.appendChild(c);return c};D2L.LP.Web.UI.Html.Dom={};D2L.LP.Web.UI.Html.Dom.AddEventListener=function(b,c,e){if(c.addEventListener){if(b.length>2&&b.substr(0,2)=="on")b=b.substr(2);c.addEventListener(b,e,false)}else if(c.attachEvent){if(b.substr(0,2)!="on")b="on"+b;c.attachEvent(b,e)}};
D2L.LP.Web.UI.Html.Dom.GetElementsByClassName=function(b,c){if(c===undefined||c===null)c=document;if(c.getElementsByClassName!==undefined){c=c.getElementsByClassName(b);var e=[];for(b=0;b<c.length;b++)e.push(c[b]);return e}c=c.all?c.all:c.getElementsByTagName("*");e=[];b=b.replace(/\-/g,"\\-");var f=new RegExp("(^|\\s)"+b+"(\\s|$)");for(b=0;b<c.length;b++)f.test(c[b].className)&&e.push(c[b]);return e};
D2L.LP.Web.UI.Html.Dom.GetLastElementChild=function(b){if(b.lastElementChild!==undefined)return b.lastElementChild;for(var c=b.childNodes.length-1;c>=0;c--)if(b.childNodes[c].nodeType==1)return b.childNodes[c];return null};D2L.LP.Web.UI.Html.Dom.OpenWindow=function(b,c,e,f,g,h){b=b.replace(".","_");e="width="+e+",height="+f+",location=1,menubar="+(g?"1":"0")+",resizable=1,scrollbars=1,status=1,toolbar="+(h?"1":"0");window.open(c.GetUrl(),b,e).focus()};D2L.LP.Web.UI.Html.Style={};
D2L.LP.Web.UI.Html.Style.IncludeStyleSheet=function(b,c){var e=document.getElementsByTagName("head");if(e.length==1){var f=b.indexOf("?")>-1?"&":"?";for(var g in c){b+=f+D2L.Util.Url.Encode(g)+"="+D2L.Util.Url.Encode(c[g]);f="&"}c=document.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=b;e[0].appendChild(c);return c}};
D2L.LP.Web.UI.Html.Style.IncludeStyleBlock=function(b){var c=document.getElementsByTagName("head");if(c.length==1){var e=document.createElement("style");e.type="text/css";if(e.styleSheet)e.styleSheet.cssText=b;else e.appendChild(document.createTextNode(b));c[0].appendChild(e);return e}};
D2L.Control.Button=D2L.Control.extend({Construct:function(b){arguments.callee.$.Construct.call(this);this.m_float=D2L.Style.Float.None;this.m_isDisplayed=this.m_isEnabled=true;this.m_onClick=function(){};this.m_navInfo=null;this.m_text=D2L.LP.Text.IText.Normalize(b,"D2L.Control.Button","Constructor","text");this.m_title=null},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);this.SetDomNode(this.CreateElement("button"));this.GetDomNode().setAttribute("type","button");
this.GetDomNode().style.display="none";this.SetText(this.m_text);this.SetTitle(this.m_title);this.SetIsEnabled(this.IsEnabled());this.RenderFloat();var b=this;D2L.Control.Button.InstallEvents(this.GetDomNode(),function(){return b})}},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);if(this.GetDomNode().firstChild)this.m_text=new D2L.LP.Text.PlainText(this.GetDomNode().firstChild.data);this.m_isEnabled=!this.GetDomNode().disabled;this.m_isDisplayed=this.GetDomNode().style.display!=
"none";if(this.GetDomNode().title.length>0)this.m_title=new D2L.LP.Text.PlainText(this.GetDomNode().title);this.SetOnClick(new Function(b.GetMember()));this.m_float=b.GetMember()},Click:function(){this.m_onClick.call(this)},Focus:function(){this.IsRendered()&&this.IsDisplayed()&&this.GetDomNode().focus()},GetFloat:function(){return this.m_float},GetName:function(){UI.GetMessageArea().AddWarningMessage(new D2L.LP.Text.PlainText("Button.GetName() is obsolete. Use GetControlId() instead."),true);return this.GetControlId().ID()},
GetOnClick:function(){return this.m_onClick},GetText:function(){return this.m_text},Hide:function(){this.SetIsDisplayed(false)},IsDisplayed:function(){return this.m_isDisplayed},IsEnabled:function(){return this.m_isEnabled},RenderFloat:function(){this.IsRendered()&&D2L.Util.Style.ApplyFloat(this.GetDomNode(),this.GetFloat())},SetIsDisplayed:function(b){if(b!=this.IsDisplayed()){if(this.IsRendered()){this.GetDomNode().style.display=b?"inline":"none";(new D2L.TransformEvent(this.GetDomNode())).Bubble()}this.m_isDisplayed=
b}},SetFloat:function(b){this.m_float=b;this.RenderFloat()},SetIsEnabled:function(b){this.m_isEnabled=b;if(this.IsRendered()){this.GetDomNode().disabled=!b;this.GetDomNode().className=b?"dbtn dbtn_n":"dbtn dbtn_d"}},SetOnClick:function(b){if(b){if(this.m_navInfo==null)this.m_navInfo=new D2L.NavInfo;this.m_navInfo.SetOnClick(b);this.SetNav(this.m_navInfo)}},SetNav:function(b){if(b){this.m_navInfo=b;this.m_onClick=this.m_navInfo.SetupHrefOnClick(this,false).OnClick}},SetText:function(b){this.m_text=
D2L.LP.Text.IText.Normalize(b,"D2L.Control.Button","SetText","text");if(this.IsRendered()){if(this.GetDomNode().firstChild){D2L.Util.Dom.Purge(this.GetDomNode().firstChild);this.GetDomNode().removeChild(this.GetDomNode().firstChild)}var c=this;this.m_text.GetText().Register(function(e){if(e.length>0){c.GetDomNode().appendChild(c.CreateTextNode(c.m_text));c.GetDomNode().style.display="inline"}else c.GetDomNode().style.display="none"})}},SetTitle:function(b){this.m_title=D2L.LP.Text.IText.Normalize(b,
"D2L.Control.Button","SetTitle","title");if(this.IsRendered())this.m_title!==null?this.m_title.AssignText(this.GetDomNode(),"title"):this.GetDomNode().removeAttribute("title")},Show:function(){this.SetIsDisplayed(true)}});
D2L.Control.Button.InstallEvents=function(b,c){var e=false;UI.AttachObject(b,"onclick",function(){var f=c();f!==null&&f.IsEnabled()&&f.m_onClick&&f.m_onClick.call(f)});UI.AttachObject(b,"onmouseover",function(){b.className="dbtn dbtn_o"});UI.AttachObject(b,"onfocus",function(){if(!e)b.className="dbtn dbtn_o"});UI.AttachObject(b,"onmouseup",function(){e=false;b.className="dbtn dbtn_o"});UI.AttachObject(b,"onmouseout",function(){e=false;b.className="dbtn dbtn_n"});UI.AttachObject(b,"onblur",function(){b.className=
"dbtn dbtn_n"});UI.AttachObject(b,"onmousedown",function(){e=true;b.className="dbtn dbtn_c"})};D2L.Button=D2L.Control.Button.extend({Construct:function(b,c,e){arguments.callee.$.Construct.call(this,c);b!==undefined&&this.SetControlId(b);e!==undefined&&this.SetOnClick(e);UI.GetMessageArea().AddWarningMessage(new D2L.LP.Text.PlainText("D2L.Button( name, text, onClick ) constructor is obsolete. Use D2L.Control.Button( text ) instead."),true)}});
D2L.Control.Button.Type={Custom:0,Cancel:1,Ok:2,Yes:3,No:4,Save:5,Create:6,Copy:7,Insert:8,Close:9,Add:10,Back:11,Next:12};
D2L.Control.Button.GetTermForType=function(b){var c=null;return c=b==D2L.Control.Button.Type.Cancel?new D2L.LP.Text.LangTerm("Standard.Buttons.btnCancel"):b==D2L.Control.Button.Type.Ok?new D2L.LP.Text.LangTerm("Standard.Buttons.btnOk"):b==D2L.Control.Button.Type.Yes?new D2L.LP.Text.LangTerm("Standard.Buttons.btnYes"):b==D2L.Control.Button.Type.No?new D2L.LP.Text.LangTerm("Standard.Buttons.btnNo"):b==D2L.Control.Button.Type.Save?new D2L.LP.Text.LangTerm("Standard.Buttons.btnSave"):b==D2L.Control.Button.Type.Create?
new D2L.LP.Text.LangTerm("Standard.Buttons.btnCreate"):b==D2L.Control.Button.Type.Copy?new D2L.LP.Text.LangTerm("Standard.Buttons.btnCopy"):b==D2L.Control.Button.Type.Insert?new D2L.LP.Text.LangTerm("Standard.Buttons.btnInsert"):b==D2L.Control.Button.Type.Close?new D2L.LP.Text.LangTerm("Standard.Buttons.btnClose"):b==D2L.Control.Button.Type.Add?new D2L.LP.Text.LangTerm("Standard.Buttons.btnAdd"):b==D2L.Control.Button.Type.Back?new D2L.LP.Text.LangTerm("Standard.Buttons.btnBack"):b==D2L.Control.Button.Type.Next?
new D2L.LP.Text.LangTerm("Standard.Buttons.btnNext"):new D2L.LP.Text.LangTerm("Standard.Buttons.btnOk")};
D2L.Control.Container=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_height=null;this.m_isCollapseAnimated=this.m_isCollapsible=this.m_hasTitle=false;this.m_collapseAnimationSpeed="0.2";this.m_title=new D2L.LP.Text.PlainText;this.m_collapseImg=this.m_titleNode=null;this.m_mergeTitleWithContent=this.m_isExpanded=this.m_isDisplayed=true;this.m_border=new D2L.Style.BorderInfo;this.m_borderRadius=0;this.m_backgroundColour=null;this.m_float=D2L.Style.Float.None;
this.m_padding=new D2L.Style.Spacing(D2L.Style.Spacing.Type.Padding);this.m_spacing=new D2L.Style.Spacing(D2L.Style.Spacing.Type.Spacing);this.m_ddObject=null;this.m_dragDropMode=D2L.DragDrop.Modes.None;this.m_contextMenuPlaceHolder=this.m_dragDropInfo=null;this.OnExpandCollapse=new D2L.EventHandler;this.m_isDisplayedChangeEvent=new D2L.EventHandler;this.m_width=null;this.m_widthType=D2L.Style.WidthType.None;this.m_widthTypeIsSet=false;this.InstallEvents()},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,
b);if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE&&UI.GetBrowserInfo().MajorVersion<7)this.GetDomNode().style.zIndex=this.GetWindow().UI.GetRelativeZIndex();this.m_hasTitle=b.GetBoolean();this.m_isCollapsible=b.GetBoolean();this.m_isCollapseAnimated=b.GetBoolean();this.m_isDisplayed=b.GetBoolean();this.m_isExpanded=b.GetBoolean();this.m_mergeTitleWithContent=b.GetBoolean();this.m_border=b.GetObjectMin(D2L.Style.BorderInfo);this.m_borderRadius=b.GetMember();this.m_float=b.GetMember();this.m_dragDropMode=
b.GetMember();if(b.GetBoolean()){var c=b.GetObjectMin(D2L.Control.Id);if(c)this.m_dragDropInfo=UI.GetControl(c.ID(),c.SID()).GetDragDropInfo()}if(this.HasTitle()){this.m_titleNode=this.GetDomNode().firstChild;this.m_collapseImg=UI.GetControl(this.GetMappedId()+"_imgCol")}this.m_title=new D2L.LP.Text.PlainText(b.GetMember());this.m_contextMenuPlaceHolder=this.GetUI().GetControl(this.GetMappedId()+"_cmp");this.IChildrenDomNode=this.GetDomNode().childNodes[this.GetDomNode().childNodes.length-1];this.InstallEvents();
this.m_dragDropMode!=D2L.DragDrop.Modes.None&&this.InstallDragDrop()},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);this.BuildDom_Container();this.SetBorder(this.m_border);this.GetBorderRadius()>0&&this.SetBorderRadius(this.m_borderRadius);this.SetBackgroundColour(this.m_backgroundColour);this.RenderFloat();this.RenderPadding();this.RenderSpacing();this.RenderWidth();this.RenderHeight();this.m_dragDropMode!=D2L.DragDrop.Modes.None&&this.SetDragDrop(this.m_dragDropMode,
this.m_dragDropInfo)}},BuildDom_Container:function(){this.SetDomNode(this.CreateElement("div"));this.GetDomNode().style.zIndex=this.GetWindow().UI.GetZIndex();this.GetDomNode().className=this.GetClassName();this.IChildrenDomNode=this.CreateElement("div");this.IChildrenDomNode.className="dco_c";this.GetDomNode().appendChild(this.IChildrenDomNode);this.SetHasTitle(this.HasTitle(),true)},InstallDragDrop:function(){var b,c=this.GetDomNode();if(this.HasTitle())c=this.m_titleNode;if(this.m_dragDropMode==
D2L.DragDrop.Modes.DraggableDroppable)b=new D2L.DragDrop.DraggableDroppable(this,c);if(this.m_dragDropMode==D2L.DragDrop.Modes.Draggable)b=new D2L.DragDrop.Draggable(this,c);if(this.m_dragDropMode==D2L.DragDrop.Modes.Droppable)b=new D2L.DragDrop.Droppable(this,c);if(this.m_dragDropMode==D2L.DragDrop.Modes.DraggableDroppable||this.m_dragDropMode==D2L.DragDrop.Modes.Draggable)this.IChildrenDomNode.className+=" draggable ";this.SetDragDropObject(b);this.GetDragDropObject()&&this.m_dragDropInfo&&D2L.DragDrop.SetDragDropInfo(this.GetDragDropObject(),
this.m_dragDropInfo)},InstallEvents:function(){var b=this;this.m_spacing.OnChange().RegisterMethod(function(){b.RenderSpacing()});this.m_padding.OnChange().RegisterMethod(function(){b.RenderPadding()});if(this.m_isCollapsible){this.AttachObject(this.GetDomNode(),"ID2LOnExpand",new D2L.EventHandler);this.GetDomNode().ID2LOnExpand.RegisterMethod(function(){b.IsExpanded()||b.SetIsExpanded(true)})}},RenderFloat:function(){this.IsRendered()&&D2L.Util.Style.ApplyFloat(this.GetDomNode(),this.GetFloat())},
RenderHeight:function(){if(this.IsRendered())if(this.m_height!==null)this.GetDomNode().style.height=this.m_height+"px";else this.GetDomNode().style.height="auto"},RenderPadding:function(){if(this.IsRendered())this.IChildrenDomNode.style.padding=this.GetPadding().ToCss()},RenderSpacing:function(){if(this.IsRendered())this.GetDomNode().style.margin=this.GetSpacing().ToCss()},RenderWidth:function(){if(this.IsRendered()){var b="auto";if(this.m_width!==null)b=this.m_widthTypeIsSet?this.m_widthType==D2L.Style.WidthType.Em?
this.m_width+"em":this.m_widthType==D2L.Style.WidthType.Percent?this.m_width+"%":this.m_width+"px":this.m_width+"px";this.GetDomNode().style.width=b}},GetBackgroundColour:function(){if(this.IsRendered())return this.IChildrenDomNode.style.backgroundColor;return""},GetBorder:function(){return this.m_border},GetBorderRadius:function(){return this.m_borderRadius},GetClassName:function(){return"dco"},GetDragDropObject:function(){return this.m_ddObject},GetFloat:function(){return this.m_float},GetHeight:function(){return this.m_height},
GetPadding:function(){return this.m_padding},GetSpacing:function(){return this.m_spacing},GetTextAlignment:function(){return this.IsRendered()&&this.IChildrenDomNode!=null?D2L.Style.Utility.CssToTextAlign(this.IChildrenDomNode.style.textAlign):D2L.Style.TextAlignment.Left},GetTitle:function(){return this.m_title},GetTitleAlignment:function(){if(this.IsRendered()&&this.HasTitle())return this.m_titleNode.style.textAlign;return""},GetTitleBackgroundColour:function(){if(this.IsRendered()&&this.HasTitle())return this.m_titleNode.style.backgroundColor;
return""},GetTitleColour:function(){if(this.IsRendered()&&this.HasTitle())return this.m_titleNode.style.color;return""},GetWidth:function(){return this.m_width},GetWidthType:function(){return this.m_widthType},HasTitle:function(){return this.m_hasTitle},IsCollapsible:function(){return this.m_isCollapsible},IsCollapseAnimated:function(){return this.m_isCollapseAnimated},IsDisplayed:function(){return this.m_isDisplayed},IsDisplayedChangeEvent:function(){return this.m_isDisplayedChangeEvent},IsExpanded:function(){return this.m_isExpanded},
MergeTitleWithContent:function(){return this.m_mergeTitleWithContent},SetBackgroundColour:function(b){this.m_backgroundColour=b;if(this.IsRendered()&&b!==null)this.IChildrenDomNode.style.backgroundColor=b},SetBorder:function(b){this.m_border=b;if(this.IsRendered())this.IChildrenDomNode.style.border=this.m_border.ToCss()},SetBorderRadius:function(b){this.m_borderRadius=b;if(this.IsRendered())if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.Safari||UI.GetBrowserInfo().Type==D2L.UI.BrowserType.Chrome)this.IChildrenDomNode.style.WebkitBorderRadius=
b+"px";else if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.Firefox)this.IChildrenDomNode.style.MozBorderRadius=b+"px"},SetDragDrop:function(b,c){this.m_dragDropMode=b;this.m_dragDropInfo=c;this.IsRendered()&&this.m_dragDropMode!=D2L.DragDrop.Modes.None&&this.InstallDragDrop()},SetDragDropObject:function(b){this.m_ddObject=b},SetFloat:function(b){this.m_float=b;this.RenderFloat()},SetHasTitle:function(b,c){if(c===undefined)c=false;this.m_hasTitle=b;if(this.IsRendered()||c)if(!b&&this.m_titleNode!==
null){this.m_titleNode.parentNode.removeChild(this.m_titleNode);this.m_titleNode=null;if(this.m_collapseImg){this.m_collapseImg.Remove();this.m_collapseImg=null}}else if(b&&this.m_titleNode===null){this.m_titleNode=this.CreateElement("div");this.m_titleNode.className="dco_t";var e=this;this.m_collapseImg=new D2L.Image;this.m_collapseImg.AppendTo(this.m_titleNode);this.m_collapseImg.SetOnClick(function(){e.TC()});this.m_titleNode.appendChild(this.CreateElement("h3"));this.GetDomNode().insertBefore(this.m_titleNode,
this.IChildrenDomNode)}this.SetTitle(this.GetTitle());this.SetIsCollapsible(this.IsCollapsible());this.SetIsExpanded(this.IsExpanded())},SetHeight:function(b){this.m_height=b;this.RenderHeight()},SetIsCollapsible:function(b){if(this.IsRendered()&&this.HasTitle())if(b)this.m_collapseImg.SetIsDisplayed(true);else this.m_collapseImg!==null&&this.m_collapseImg.SetIsDisplayed(false);b||this.SetIsExpanded(true);(this.m_isCollapsible=b)&&this.SetIsExpanded(this.IsExpanded())},SetIsCollapseAnimated:function(b){this.m_isCollapseAnimated=
b},SetIsDisplayed:function(b){if(this.IsRendered())this.GetDomNode().style.display=b?"block":"none";if(b!=this.m_isDisplayed){this.m_isDisplayed=b;this.IsDisplayedChangeEvent().Trigger(b)}},SetIsExpanded:function(b){if(this.IsCollapsible()&&this.m_isExpanded!=b)if(this.IsRendered()&&this.HasTitle()){var c=this,e=function(){var g="Framework.Container.alt",h="Shared.Main.act",k="Shared.Main.hover";if(b){c.IChildrenDomNode.style.display="block";h+="Hide";g+="Collapse";k+="Hide"}else{c.IChildrenDomNode.style.display=
"none";h+="Show";g+="Expand";k+="Show"}var j=new D2L.LP.Text.LangTerm(g);c.GetTitle().GetText().Register(function(l){c.m_collapseImg.SetImage(new D2L.Images.ImageTerm(h));c.m_collapseImg.SetHoverImage(new D2L.Images.ImageTerm(k));j.SetSubject(l);c.m_collapseImg.SetAlt(j)});g=c.GetBorder();if(g.GetStyle()!=D2L.Style.BorderStyle.None&&c.m_mergeTitleWithContent)c.m_titleNode.style.borderBottom=b?"none":g.ToCss();c.m_isExpanded=b;c.OnExpandCollapse.Trigger(c);b&&(new D2L.DisplayVisibleEvent(c.GetDomNode())).Bubble()};
if(this.m_isCollapseAnimated){var f=function(g){var h=1,k=0.2;if(!b){h=0.2;k=1}c.IChildrenDomNode.style.position="relative";g=new YAHOO.util.Anim(c.IChildrenDomNode,{height:{to:g}},c.m_collapseAnimationSpeed,YAHOO.util.Easing.easeNone);h=new YAHOO.util.ColorAnim(c.IChildrenDomNode,{opacity:{from:k,to:h}},c.m_collapseAnimationSpeed,YAHOO.util.Easing.easeNon);g.onComplete.subscribe(function(){e();c.IChildrenDomNode.style.position="";c.IChildrenDomNode.style.overflow="visible";c.IChildrenDomNode.style.height=
"auto";if(b)if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE)c.IChildrenDomNode.style.filter="";else c.IChildrenDomNode.style.opacity="";c.m_collapseImg.SetIsEnabled(true)});if(b)c.IChildrenDomNode.style.height="0px";c.IChildrenDomNode.style.overflow="hidden";c.IChildrenDomNode.style.display="block";c.m_collapseImg.SetIsEnabled(false);g.animate();h.animate()};b?f(D2L.Util.Dom.GetHeightHelper(this.IChildrenDomNode)):f(0)}else e()}},SetSize:function(b,c){this.SetWidth(b);this.SetHeight(c)},SetTextAlignment:function(b){if(this.IsRendered()&&
this.IChildrenDomNode!=null)this.IChildrenDomNode.style.textAlign=D2L.Style.Utility.TextAlignToCss(b)},SetTitle:function(b){this.m_title=D2L.LP.Text.IText.Normalize(b,"D2L.Control.Container","SetTitle","title");if(this.IsRendered()&&this.HasTitle()){var c=this.m_titleNode.firstChild.firstChild;c.firstChild&&c.removeChild(c.firstChild);c.appendChild(this.CreateTextNode(this.m_title));this.m_contextMenuPlaceHolder!==null&&this.m_contextMenuPlaceHolder.SetSubject(b)}},SetWidth:function(b){this.m_width=
b;this.RenderWidth()},SetWidthType:function(b){this.m_widthType=b;this.m_widthTypeIsSet=true;this.RenderWidth()},TC:function(){this.IsCollapsible()&&this.SetIsExpanded(!this.IsExpanded());return false}});
D2L.Control.Container.InstallEvents=function(b){b.ID2LOnChange===undefined&&UI.AttachObject(b,"ID2LOnChange",new D2L.EventHandler);b.ID2LOnChange.RegisterMethod(function(c){if(!c.hasChangeBeenShown){b.style.backgroundColor="#e8e8ff";c.hasChangeBeenShown=true}});FormManager.OnChangeReset.RegisterMethod(function(){b.style.backgroundColor="#ffffff"})};
D2L.Control.Container.Floating=D2L.Control.Container.extend({Construct:function(b){arguments.callee.$.Construct.call(this,b);this.m_hasAutoHide=this.m_doIgnoreHide=false;this.m_posY=this.m_posX=0;this.m_isDisplayed=false;this.m_animationMode=D2L.Style.AnimationMode.None},IntegrateControlMin:function(){},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);this.GetDomNode().id=this.GetMappedId();if(this.m_hasAutoHide){var b=this;WindowEventManager.Click.RegisterMethod(function(){b.IsDisplayed()&&
!b.m_doIgnoreHide&&b.Hide()});this.AttachObject(this.GetDomNode(),"onclick",function(c){D2L.Util.Dom.CancelBubble(c)})}}},GetAnimationMode:function(){return this.m_animationMode},GetClassName:function(){return"dco_f"},GetPosX:function(){return this.m_posX},GetPosY:function(){return this.m_posY},Hide:function(){if(this.IsDisplayed()){if(this.IsRendered())this.IDomNode=this.GetDomNode().parentNode.removeChild(this.GetDomNode());this.m_isDisplayed=false;this.IsDisplayedChangeEvent().Trigger(false)}},
RenderPosition:function(){this.IsRendered()&&this.IsDisplayed()&&YAHOO.util.Dom.setXY(this.GetDomNode(),[this.m_posX,this.m_posY],true)},SetAnimationMode:function(b){this.m_animationMode=b},SetIsDisplayed:function(b){b?this.Show():this.Hide()},SetHasAutoHide:function(b){this.m_hasAutoHide=b},SetPosition:function(b,c){this.m_posX=b;this.m_posY=c;this.RenderPosition()},SetPosX:function(b){this.m_posX=b;this.RenderPosition()},SetPosY:function(b){this.m_posY=b;this.RenderPosition()},Show:function(b){if(!this.IsDisplayed()){this.m_isDisplayed=
true;b===undefined&&D2L.Debug.Error("You must define the insertAfter parameter. For accessbility reasons it is important to put the container in the right DOM order. insertAfter could be a D2L.Control or a DOM node. For instance if you have an icon that opens a floating div, you must pass that image node as the insertBefore so floating container is inserted rigth after that node in DOM hierarchy.");var c;if(b.isD2LControl){b.IsRendered()||b.BuildDom();c=b.GetDomNode()}else c=b;this.IsRendered()||
this.BuildDom();this.GetDomNode().style.zIndex=this.GetWindow().UI.GetZIndex();if(b=c.parentNode)(c=c.nextSibling)?b.insertBefore(this.GetDomNode(),c):b.appendChild(this.GetDomNode());this.RenderPosition();var e=this;if(this.GetAnimationMode()===D2L.Style.AnimationMode.Slide){b=D2L.Util.Dom.GetSizeHelper(this.GetDomNode());this.GetDomNode().style.display="none";c=b.height;e.GetDomNode().style.overflow="hidden";e.GetDomNode().style.display="block";e.GetDomNode().style.height="1px";e.GetDomNode().style.width=
"1px";var f=this.GetWidth();if(f===null)f=b.width;b=new YAHOO.util.Anim(e.GetMappedId(),{height:{to:c},width:{to:f}},0.1,YAHOO.util.Easing.easeOut);b.onComplete.subscribe(function(){e.GetDomNode().style.overflow="visible";e.GetDomNode().style.height="auto";D2L.Util.Dom.ScrollTo(e.GetDomNode(),false,true)});b.animate()}else e.GetDomNode().style.display="block";if(this.m_hasAutoHide){this.m_doIgnoreHide=true;setTimeout(function(){e.m_doIgnoreHide=false},0)}this.IsDisplayedChangeEvent().Trigger(true)}}});
D2L.Control.Container.IFrame=D2L.Control.Container.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_autoResizeToContents=true;this.m_src=this.m_iframeDiv=this.m_loadingDiv=this.m_iframe=null;this.m_srcParams=[];this.m_iframeTitle=this.m_iframeWindow=null;this.OnLoad=new D2L.EventHandler;this.SetSrcParam("d2l_body_type",D2L.UI.BodyType.IFrame)},BuildDom:function(){this.IsRendered()||arguments.callee.$.BuildDom.call(this)},BuildDom_Container:function(){arguments.callee.$.BuildDom_Container.call(this);
this.m_loadingDiv=this.CreateElement("div");this.m_loadingDiv.className="d2l_loading";var b=this.CreateElement("img");b.alt="";D2L.Images.ImageTerm.Assign("Shared.Main.actLoadingLg",b,false);this.m_loadingDiv.appendChild(b);this.m_loadingDiv.appendChild(this.CreateTextNode(new D2L.LP.Text.LangTerm("Standard.Misc.txtLoading")));this.m_iframeDiv=this.CreateElement("div");this.GetDomNode().appendChild(this.m_loadingDiv);this.GetDomNode().appendChild(this.m_iframeDiv)},BuildDom_IFrame:function(){var b=
this,c=this.GetWindow().UI.GetUniqueHtmlId();this.m_iframeDiv.innerHTML="<iframe name='"+c+"' id='"+c+"' style='width:100%;height:1px;border:none;' scrolling='no' frameBorder='0'></iframe><div class='d2l_loading' style='display:none;'><img src='/d2l/img/lp/loading_lg.gif' width='24' height='24' alt='' />";this.m_iframe=this.m_iframeDiv.firstChild;this.m_iframeTitle!==null&&this.SetIFrameTitle(this.m_iframeTitle);var e=function(){try{b.m_iframeWindow=b.GetWindow().frames[c]}catch(f){}if(b.m_autoResizeToContents){var g=
undefined;try{g=b.m_iframeWindow.UI}catch(h){}g!==undefined&&g.GetWindowEventManager().Transform.RegisterMethod(function(){b.ResizeToContents()});b.ResizeToContents()}if(b.m_iframeTitle===null)try{b.m_iframe.title=b.m_iframeWindow.document.title}catch(k){}b.m_loadingDiv.style.display="none";b.OnLoad.Trigger()};if(this.m_iframe.attachEvent)this.m_iframe.attachEvent("onload",e);else this.m_iframe.onload=e},GetIFrameWindow:function(){return this.m_iframeWindow},GetSrc:function(){return this.m_src},Load:function(){if(this.IsRendered()&&
this.m_src!==null){var b=this,c=function(){if(b.m_src.indexOf(".d2l")>0){var e=b.GetWindow().UI.GetById("d2l_body"),f=b.CreateElement("form");f.method="post";f.target=b.m_iframe.name;f.action=b.m_src;for(var g in b.m_srcParams){var h=b.CreateElement("input");h.type="hidden";h.name=g;h.value=b.m_srcParams[g];f.appendChild(h)}e.appendChild(f);f.submit();D2L.Util.Dom.Purge(f);e.removeChild(f)}else b.m_iframe.src=b.m_src;b.m_loadingDiv.style.display="block"};setTimeout(function(){b.m_iframe===null&&b.BuildDom_IFrame();
c()},0)}},RenderHeight:function(){if(this.IsRendered()&&this.m_iframe)if(this.m_height!==null){this.GetDomNode().style.height=this.m_height+"px";this.m_iframe.style.height=this.m_height+"px"}else this.GetDomNode().style.height="auto"},ResizeToContents:function(){this.m_iframe.style.height="auto";var b=this.GetWindow().UI.GetPageHeight(this.m_iframeWindow);b>0&&this.SetHeight(b)},SetAutoResizeToContents:function(b){this.m_autoResizeToContents=b},SetIFrameTitle:function(b){this.m_iframeTitle=D2L.LP.Text.IText.Normalize(b,
"D2L.Control.Container.IFrame","SetIFrameTitle","iframeTitle");this.IsRendered()&&this.m_iframe&&this.m_iframeTitle.AssignText(this.m_iframe,"title")},SetSrc:function(b){this.m_src=b;if(this.m_src.indexOf(".d2l")>0)if(this.m_src.indexOf("ou=")<0){this.m_src+=this.m_src.indexOf("?")<0?"?":"&";this.m_src+="ou="+Global.OrgUnitId}},SetSrcParam:function(b,c){this.m_srcParams[b]=c}});
D2L.ControlMap=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.ID={};this.SID={}},DeserializeMin:function(b){this.ID=b.GetMember();for(var c in this.ID){var e=D2L.Serialization.JsonDeserializerMin.Deserialize(this.ID[c],D2L.ControlMap.IntegrateInfo);this.ID[c]=e;e.InstallEvents&&e.JsClass!==undefined&&e.JsClass.InstallEvents(UI.GetById(e.MappedId),new Function("return UI.GetControl('"+c+"');"));e.DelayClientSideIntegration||setTimeout(new Function("UI.GetControlMap().GetControl('"+
c+"');"))}this.SID=b.GetMember();for(c in this.SID)for(var f in this.SID[c]){e=D2L.Serialization.JsonDeserializerMin.Deserialize(this.SID[c][f],D2L.ControlMap.IntegrateInfo);this.SID[c][f]=e;e.InstallEvents&&e.JsClass!==undefined&&e.JsClass.InstallEvents(UI.GetById(e.MappedId),new Function("return UI.GetControl('"+c+"','"+f+"');"));e.DelayClientSideIntegration||setTimeout(new Function("UI.GetControlMap().GetControl('"+c+"','"+f+"');"))}},Serialize:function(b){var c={};for(var e in this.ID)c[e]=this.ID[e].MappedId;
var f={};for(e in this.SID){f[e]={};for(var g in this.SID[e])f[e][g]=this.SID[e][g].MappedId}b.AddMember("ID",c);b.AddMember("SID",f)},AddControlMapToForm:function(){UI.GetByName("d2l_controlMapPrev").value=D2L.Serialization.JsonSerializer.Serialize(this)},GetControl:function(b,c){if(c===undefined||c===null)c="";b.isString||(b=b.toString());c.isString||(c=c.toString());b=b.toLowerCase();c=c.toLowerCase();var e=null;if(c.length===0){if(this.ID[b]!==undefined){if(this.ID[b].Control!==null)return this.ID[b].Control;
e=this.ID[b]}}else if(this.SID[b]!==undefined&&this.SID[b][c]!==undefined){if(this.SID[b][c].Control!==null)return this.SID[b][c].Control;e=this.SID[b][c]}if(e===null)return null;if(e.JsClass===undefined)return null;var f=new e.JsClass;f.m_mappedId=e.MappedId;f.m_controlId=new D2L.Control.Id(b,c);f.IntegrateControlMin(new D2L.Serialization.JsonDeserializerMin(e.SerializedDataMin));f.IntegrateControl(new D2L.Serialization.JsonDeserializer(e.SerializedData));if(c.length===0)this.ID[b].Control=f;else this.SID[b][c].Control=
f;return f},GetControlByMappedId:function(b){for(var c in this.ID)if(this.ID[c].MappedId==b)return this.GetControl(c);for(c in this.SID)for(var e in this.SID[c])if(this.SID[c][e].MappedId==b)return this.GetControl(c,e);return null},GetControls:function(b){if(b===undefined||b===null)return[];b=b.toLowerCase();var c=[];this.ID[b]!==undefined&&c.push(this.GetControl(b));for(var e in this.SID[b])c.push(this.GetControl(b,e));return c},RegisterControl:function(b){var c=b.GetControlId().ID(),e=b.GetControlId().SID();
if(c.length===0)return false;var f=b.GetMappedId();if(e.length===0){this.ID[c]=new D2L.ControlMap.IntegrateInfo(f);this.ID[c].Control=b}else{if(this.SID[c]===undefined)this.SID[c]={};this.SID[c][e]=new D2L.ControlMap.IntegrateInfo(f);this.SID[c][e].Control=b}return true},UnregisterControl:function(b){var c=b.GetControlId().ID();b=b.GetControlId().SID();if(c.length===0)return false;if(b.length===0)this.ID[c]=undefined;else if(this.SID[c]!==undefined)this.SID[c][b]=undefined}});
D2L.ControlMap.IntegrateInfo=D2L.Class.extend({Construct:function(b){if(b===undefined)b="";arguments.callee.$.Construct.call(this);this.MappedId=b;this.JsClass=undefined;this.SerializedDataMin={};this.SerializedData={};this.InstallEvents=false;this.DelayClientSideIntegration=true;this.Control=null},DeserializeMin:function(b){this.MappedId=b.GetMember();var c=b.GetMember();if(c.indexOf(".")>-1)try{this.JsClass=eval(c)}catch(e){throw"Class '"+c+"' is undefined.";}else try{this.JsClass=D2L.Control[c]}catch(f){throw"Class 'D2L.Control."+
c+"' is undefined.";}this.SerializedDataMin=b.GetMember();this.SerializedData=b.GetMember();this.InstallEvents=b.GetBoolean();this.DelayClientSideIntegration=b.GetBoolean()}});D2L.LP.Globalization={};D2L.LP.Globalization.Formatting={};
D2L.LP.Globalization.Formatting.DateTimeFormatter=D2L.Class.extend({Construct:function(b){this.DateTimeFormatDescriptor=b},FormatInputDate:function(b){var c=this.DateTimeFormatDescriptor.GetInputDateFormatSeparator(),e=this.DateTimeFormatDescriptor.GetInputDateFormatParts();if(c!=null&&e!=null){for(var f="",g=0;g<e.length;g++){var h=e[g];if(h.Type==D2L.LP.Globalization.Formatting.DateTimeFormatPart.Type.Day)f+=this.PrePadByZero(b.GetDay(),h.Format.length);else if(h.Type==D2L.LP.Globalization.Formatting.DateTimeFormatPart.Type.Month)f+=
this.PrePadByZero(b.GetMonth(),h.Format.length);else if(h.Type==D2L.LP.Globalization.Formatting.DateTimeFormatPart.Type.Year)f+=b.GetYear().toString();if(g<e.length-1)f+=c}return Culture.ConvertToNativeDigit(f)}},PrePadByZero:function(b,c){b=b.toString();for(var e=D2L.Util.Integer.Format(0).toString();e.length>0&&b.length<c;)b=e+b;return b}});
D2L.LP.Globalization.Formatting.DateTimeFormatDescriptor=D2L.Class.extend({Construct:function(){this.InputDateFormat=this.m_inputDateFormatParts=this.m_inputDateFormatSeparator=null},GetInputDateFormatSeparator:function(){if(this.m_inputDateFormatSeparator==null){var b=/\W/.exec(this.InputDateFormat);if(b!=null)this.m_inputDateFormatSeparator=b[0]}return this.m_inputDateFormatSeparator},GetInputDateFormatParts:function(){var b=[],c=this.GetInputDateFormatSeparator();if(c==null)return null;c=this.InputDateFormat.split(c);
if(c.length!=3)return null;for(var e=false,f=0;f<c.length;f++){part=c[f].trim();if(part=="dd"||part=="d")b.push(new D2L.LP.Globalization.Formatting.DateTimeFormatPart(D2L.LP.Globalization.Formatting.DateTimeFormatPart.Type.Day,part));else if(part=="MM"||part=="M")b.push(new D2L.LP.Globalization.Formatting.DateTimeFormatPart(D2L.LP.Globalization.Formatting.DateTimeFormatPart.Type.Month,part));else if(part=="yyyy")b.push(new D2L.LP.Globalization.Formatting.DateTimeFormatPart(D2L.LP.Globalization.Formatting.DateTimeFormatPart.Type.Year,
part));else e=true}return e?null:b}});D2L.LP.Globalization.Formatting.DateTimeFormatPart=D2L.Class.extend({Construct:function(b,c){this.Type=b;this.Format=c}});D2L.LP.Globalization.Formatting.DateTimeFormatPart.Type={Day:0,Month:1,Year:2,Hour:3,Minute:4,Second:5};
D2L.LP.Globalization.Formatting.DateTimeParser=D2L.Class.extend({Construct:function(b){this.DateTimeFormatDescriptor=b},ParseInputDate:function(b){var c=new D2L.Util.Dictionary;b=b.toString().trim();var e=this.DateTimeFormatDescriptor.GetInputDateFormatSeparator(),f=this.DateTimeFormatDescriptor.GetInputDateFormatParts();if(e!=null&&f!=null){b=b.split(e);if(b.length!=f.length)throw D2L.LP.Globalization.Formatting.DateTimeExceptions.InvalidDateFormat;for(e=0;e<f.length;e++){var g=f[e];try{var h=D2L.Util.Integer.Parse(b[e])}catch(k){throw D2L.LP.Globalization.Formatting.DateTimeExceptions.InvalidDateFormat;
}c.Add(g.Type,h)}return c}else throw D2L.LP.Globalization.Formatting.DateTimeExceptions.UnsupportedInputDateFormat;}});D2L.LP.Globalization.Formatting.DateTimeExceptions={InvalidDateFormat:0,UnsupportedInputDateFormat:1};
D2L.Culture=D2L.Class.extend({Construct:function(){this.Lang_Days=this.Lang_Day=this.Lang_Hours=this.Lang_Hour=this.Lang_HourShort=this.Lang_Minutes=this.Lang_Minute=this.Lang_MinuteShort=this.integerRegex=this.decimalRegex="";this.m_firstDayOfWeek=0;this.m_shortDayOfWeekNames=[];this.m_longDayOfWeekNames=[];this.m_shortMonthNames=[];this.m_longMonthNames=[];this.m_isRightToLeft=false;this.m_decimalSeparator=".";this.m_negativeFormat=1;this.m_negativeSign="-";this.m_groupSeparator=",";this.m_nativeDigits=
["0","1","2","3","4","5","6","7","8","9"];this.m_percentSymbol="%";this.m_percentNegativePattern=this.m_percentPositivePattern=0;this.m_weekendDays=[];this.m_shortDateFormat="";this.m_hasNativeDigitsSupport=false;this.m_groupSizes=[];this.m_dateTimeParser=this.m_dateTimeFormatter=this.m_dateTimeFormatDescriptor=null},DeserializeMin:function(b){this.m_firstDayOfWeek=b.GetMember();this.m_shortDayOfWeekNames=b.GetMember();this.m_longDayOfWeekNames=b.GetMember();this.m_shortMonthNames=b.GetMember();this.m_longMonthNames=
b.GetMember();this.Lang_MinuteShort=b.GetMember();this.Lang_Minute=b.GetMember();this.Lang_Minutes=b.GetMember();this.Lang_HourShort=b.GetMember();this.Lang_Hour=b.GetMember();this.Lang_Hours=b.GetMember();this.Lang_Day=b.GetMember();this.Lang_Days=b.GetMember();this.decimalRegex=b.GetMember();this.integerRegex=b.GetMember();this.m_isRightToLeft=b.GetBoolean();this.m_decimalSeparator=b.GetMember();this.m_negativeFormat=b.GetMember();this.m_negativeSign=b.GetMember();this.m_groupSeparator=b.GetMember();
this.m_nativeDigits=b.GetMember();this.m_percentSymbol=b.GetMember();this.m_percentPositivePattern=b.GetMember();this.m_percentNegativePattern=b.GetMember();this.m_weekendDays=b.GetMember();this.m_inputDateFormat=b.GetMember();this.m_hasNativeDigitsSupport=b.GetBoolean();this.m_groupSizes=b.GetMember();this.m_dateTimeFormatDescriptor=new D2L.LP.Globalization.Formatting.DateTimeFormatDescriptor;this.m_dateTimeFormatDescriptor.InputDateFormat=this.m_inputDateFormat;this.m_dateTimeFormatter=new D2L.LP.Globalization.Formatting.DateTimeFormatter(this.m_dateTimeFormatDescriptor);
this.m_dateTimeParser=new D2L.LP.Globalization.Formatting.DateTimeParser(this.m_dateTimeFormatDescriptor)},FormatInputDate:function(b){return this.m_dateTimeFormatter.FormatInputDate(b)},ParseInputDate:function(b){return this.m_dateTimeParser.ParseInputDate(b)},FormatFileSize:function(b){return b>=1073741824?new D2L.LP.Text.LangTerm("Standard.FileSizeUnitShort.txtGigaBytesString",D2L.Util.Decimal.Format(Math.round(b/1073741824*100)/100)):b>=1048576?new D2L.LP.Text.LangTerm("Standard.FileSizeUnitShort.txtMegaBytesString",
D2L.Util.Decimal.Format(Math.round(b/1048576*100)/100)):b>=1024?new D2L.LP.Text.LangTerm("Standard.FileSizeUnitShort.txtKiloBytesString",D2L.Util.Decimal.Format(Math.round(b/1024*100)/100)):b==1?new D2L.LP.Text.LangTerm("Standard.FileSizeUnitShort.txtByteString",D2L.Util.Integer.Format(b)):new D2L.LP.Text.LangTerm("Standard.FileSizeUnitShort.txtBytesString",D2L.Util.Integer.Format(b))},PluralizeText:function(b,c,e){return b==1?c:e},Pluralize:function(b,c,e){return b+" "+this.PluralizeText(b,c,e)},
GetFirstDayOfWeek:function(){return this.m_firstDayOfWeek},GetWeekendDays:function(){return this.m_weekendDays},GetLongMonthNames:function(){return this.m_longMonthNames},GetLongShortNames:function(){return this.m_shortMonthNames},GetLongDayOfWeekNames:function(){return this.m_longDayOfWeekNames},GetMarginPaddingPosition:function(b){return b==D2L.Culture.MarginPaddingPosition.First?this.IsRightToLeft()?"Right":"Left":this.IsRightToLeft()?"Left":"Right"},GetFloat:function(b){return this.IsRightToLeft()?
b==D2L.Style.Float.Left?D2L.Style.Float.Right:b==D2L.Style.Float.Right?D2L.Style.Float.Left:b:b},GetShortDayOfWeekNames:function(){return this.m_shortDayOfWeekNames},IsRightToLeft:function(){return this.m_isRightToLeft},DecimalSeparator:function(){return this.m_decimalSeparator},NegativeFormat:function(){return this.m_negativeFormat},NegativeSign:function(){return this.m_negativeSign},GroupSeparator:function(){return this.m_groupSeparator},PercentSymbol:function(){return this.m_percentSymbol},PercentPositivePattern:function(){return this.m_percentPositivePattern},
PercentNegativePattern:function(){return this.m_percentPositivePattern},GroupSizes:function(){return this.m_groupSizes},NativeDigits:function(){return this.m_nativeDigits},ConvertToNativeDigit:function(b){b=b.toString();if(this.m_hasNativeDigitsSupport){for(var c=new D2L.Util.StringBuilder,e=0;e<b.length;e++){var f=parseInt(b.substr(e,1));!isNaN(f)&&f>=0&&f<=9?c.Append(this.m_nativeDigits[f]):c.Append(b.substr(e,1))}return c.ToString()}else return b},LimitChars:function(b,c){if(c<1||b.length<=c)return b;
if(b.length>=3)b=b.substr(0,c-3)+"...";return b}});function d2l_TimeSpan(b,c,e,f){this.Days=b;this.Hours=c;this.Minutes=e;this.Seconds=f}D2L.Culture.MarginPaddingPosition={First:0,Last:1};D2L.Debug={Error:function(){},Info:function(){},Warn:function(){},Debug:function(){},Trace:function(){},IsEnabled:function(){return false},SetLevel:function(){},Level:{Error:0,Warn:1,Info:2,Debug:3,Trace:4}};
function FindEventController(){if(window.EventController)return window.EventController;else if(window.parent!=window)try{if(window.parent.window.EventController)return window.parent.window.EventController;else if(window.parent.window.FindEventController)return window.parent.window.FindEventController()}catch(b){}else try{if(window.opener&&!window.opener.closed)if(window.opener.window.EventController)return window.opener.window.EventController;else if(window.opener.window.FindEventController)return window.opener.window.FindEventController()}catch(c){}return null}
function RaiseEvent(b,c){Events.evtName.Raise(c)}
D2L.WindowEventManager=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.Click=new D2L.EventHandler;this.KeyPress=new D2L.EventHandler;this.Resize=new D2L.EventHandler;this.Transform=new D2L.EventHandler;this.BC=this.BubbleChangeEvent;this.BE=this.BubbleExpandEvent;this.SelectIeHack=new D2L.EventHandler;this.HideContextMenus=new D2L.EventHandler;this.m_iframes=[];var b=this,c=function(g){WindowEventManager.Click.Trigger(new D2L.Event("click",g))},e=function(g){b.Resize.Trigger(new D2L.Event("resize",
g))},f=function(){b.resizeTimer&&clearTimeout(b.resizeTimer);b.resizeTimer=setTimeout(e,100)};if(document.addEventListener){document.addEventListener("click",c,false);window.addEventListener("resize",e,false)}else if(document.attachEvent){document.attachEvent("onclick",c);window.attachEvent("onresize",f)}this.InstallKpel(document,function(g,h){return WindowEventManager.KeyPress.Trigger(h)});UI.OnPageLoad().RegisterMethod(function(){b.Transform.Trigger()})},InstallKpel:function(b,c){if(!(b===undefined||
b===null))if(b.addEventListener){b.addEventListener("keypress",function(f){var g=0,h="";if(f.charCode&&f.charCode!==0){g=parseInt(f.charCode);h=String.fromCharCode(f.charCode)}else if(f.keyCode&&f.keyCode!==0)g=parseInt(f.keyCode);return c.call(b,b,new D2L.KeyPressEvent(g,h,f,null))},false);if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.Safari||UI.GetBrowserInfo().Type==D2L.UI.BrowserType.Chrome)b.addEventListener("keydown",function(f){var g=parseInt(f.keyCode);if(D2L.KeyPressEvent.IsCharacter(g))g=
0;return g!==0?c.call(b,b,new D2L.KeyPressEvent(g,"",f,null)):false},false)}else if(b.attachEvent){var e=0;b.attachEvent("onkeydown",function(){if(window.event.keyCode==D2L.KeyPressEvent.Key.Backspace)return c.call(b,b,new D2L.KeyPressEvent(window.event.keyCode,"",window.event,null));else e=window.event.keyCode;return true});b.attachEvent("onkeypress",function(){if(window.event&&window.event.keyCode)if(window.event.keyCode==D2L.KeyPressEvent.Key.Enter||window.event.keyCode>=32&&window.event.keyCode<=
126){e=0;return c.call(b,b,new D2L.KeyPressEvent(window.event.keyCode,String.fromCharCode(window.event.keyCode),window.event,null))}return true});b.attachEvent("onkeyup",function(){if(window.event&&window.event.keyCode==e)return c.call(b,b,new D2L.KeyPressEvent(window.event.keyCode,"",window.event,null));return true})}},BubbleChangeEvent:function(b,c){(new D2L.ChangeEvent(b,c)).Bubble()},BubbleExpandEvent:function(b,c){(new D2L.ExpandEvent(b,c)).Bubble()},BubbleRemoveEvent:function(b){(new D2L.RemoveEvent(b)).Bubble(false)}});
D2L.Event=D2L.Class.extend({Construct:function(b,c,e){arguments.callee.$.Construct.call(this);this.type=b;this.source=c;this.m_doBubble=true;this.eventObj=e},BubbleDownByClassName:function(b){if(D2L.Util.Html.IsDomNode(this.source)){for(var c=D2L.Util.Dom.GetElementsByClassName(this.source,b),e=[],f=0;f<c.length;f++)e.push(c[f]);D2L.Util.Dom.HasClassName(b,this.source)>=0&&e.push(this.source);if(e.length>0){b="Default";for(var g in D2L.Event.Type)if(D2L.Event.Type[g]==this.type){b=g;break}for(f=0;f<
e.length;f++){g=e[f];c="ID2LOn"+b;g[c]&&g[c].Trigger(this)}}}},Bubble:function(b){if(b===undefined)b=true;var c="Default";for(var e in D2L.Event.Type)if(D2L.Event.Type[e]==this.type){c=e;break}var f="ID2LOn"+c,g=this,h=function(j){if(j){j[f]&&j[f].Trigger(g);j.parentNode&&g.DoBubble()&&h(j.parentNode)}},k=function(j){j[f]!==undefined&&j[f].Trigger(g);if(g.DoBubble()){if(j.cells!==undefined)for(var l=0;l<j.cells.length;l++)k(j.cells[l]);if(j.rows!==undefined)for(l=0;l<j.rows.length;l++)k(j.rows[l]);
for(l=0;l<j.childNodes.length;l++)k(j.childNodes[l])}};b?h(this.source):k(this.source)},GetDomEvent:function(){return this.eventObj},CancelBubbling:function(){this.m_doBubble=false},DoBubble:function(){return this.m_doBubble},ResumeBubbling:function(){this.m_doBubble=true}});D2L.Event.Type={Default:1,Change:2,KeyPress:3,Expand:4,Transform:5,Remove:7,Scroll:8,DisplayVisible:9};
D2L.ChangeEvent=D2L.Event.extend({Construct:function(b,c){arguments.callee.$.Construct.call(this,D2L.Event.Type.Change,b,c);this.hasChangeBeenShown=false}});
D2L.KeyPressEvent=D2L.Event.extend({Construct:function(b,c,e,f){arguments.callee.$.Construct.call(this,D2L.Event.Type.KeyPress,f,e);this.m_keyCode=b;this.m_character=c},IsNumber:function(){var b=this.GetKey();return b>=48&&b<=57},GetKey:function(){return this.m_keyCode},GetCharacter:function(){return this.m_character},Cancel:function(){this.eventObj.preventDefault&&this.eventObj.preventDefault()},StopPropagation:function(){if(this.eventObj.stopPropagation)this.eventObj.stopPropagation();else if(this.eventObj.cancelBubble!==
undefined)this.eventObj.cancelBubble=true}});D2L.KeyPressEvent.Key={Backspace:8,Enter:13,Escape:27,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Delete:46};D2L.KeyPressEvent.IsCharacter=function(b){return b!=D2L.KeyPressEvent.Key.Backspace&&b!=D2L.KeyPressEvent.Key.Escape&&b!=D2L.KeyPressEvent.Key.ArrowLeft&&b!=D2L.KeyPressEvent.Key.ArrowUp&&b!=D2L.KeyPressEvent.Key.ArrowRight&&b!=D2L.KeyPressEvent.Key.ArrowDown&&b!=D2L.KeyPressEvent.Key.Delete};
D2L.DisplayVisibleEvent=D2L.Event.extend({Construct:function(b){arguments.callee.$.Construct.call(this,D2L.Event.Type.DisplayVisible,b)},Bubble:function(){this.BubbleDownByClassName("D2LEventDV")}});D2L.ExpandEvent=D2L.Event.extend({Construct:function(b,c){arguments.callee.$.Construct.call(this,D2L.Event.Type.Expand,b,c)},Bubble:function(b){UI.GetDisplayGroupManager().Init();arguments.callee.$.Bubble.call(this,b)}});
D2L.RemoveEvent=D2L.Event.extend({Construct:function(b){arguments.callee.$.Construct.call(this,D2L.Event.Type.Remove,b)}});D2L.TransformEvent=D2L.Event.extend({Construct:function(b){arguments.callee.$.Construct.call(this,D2L.Event.Type.Transform,b)}});
D2L.EventHandler=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.methodListeners=[];this.objectListeners=[];this.jsListeners=[];this.ignoreEvents=false},RegisterJs:function(b){this.jsListeners.push(b)},RegisterMethod:function(b){for(var c=false,e=0;e<this.methodListeners.length;e++)if(this.methodListeners[e]==b){c=true;break}c||this.methodListeners.push(b)},Register:function(b,c){for(var e=false,f=0;f<this.objectListeners.length;f++)if(this.objectListeners[f].object==
b&&this.objectListeners[f].method==c){e=true;break}if(!e){e={};e.object=b;e.method=c;this.objectListeners.push(e)}},SetIgnoreEvents:function(b){this.ignoreEvents=b},Trigger:function(){if(this.ignoreEvents)return false;var b=true,c;for(c=0;c<this.methodListeners.length;c++)try{b=this.methodListeners[c].apply(this.methodListeners[c],arguments);if(b===false)return false}catch(e){if(D2L.Debug.IsEnabled())throw e;}var f,g;for(c=0;c<this.objectListeners.length;c++){b=g=null;try{f=this.objectListeners[c];
b=f.object;g=b[f.method]}catch(h){}if(g!==undefined&&g!==null&&b!==undefined&&b!==null){b=g.apply(b,arguments);if(b===false)return false}}for(c=0;c<this.jsListeners.length;c++)eval(this.jsListeners[c]);return true}});D2L.Files.FilterType={All:0,WordProcessing:6,Archive:2,Images:1,Web:3,Spreadsheet:7,Presentation:8,Media:4,LiveRoom:5,Pdf:9,Executable:10,QuickTime:11,Xml:12,Text:13};
D2L.Files.Area={MyComputer:"mycomputer",OuFiles:"oufiles",SharedFiles:"sharedfiles",MyLocker:"mylocker",GroupLocker:"grouplocker",LearningPortfolio:"learningportfolio"};D2L.Files.MaxDirectoryNameCharacters=50;D2L.Files.MaxFileNameCharacters=128;D2L.Files.ValidDirectoryNameRegex='^([^\\\\/:*?"<>|]{0,'+(D2L.Files.MaxDirectoryNameCharacters-1)+'}[^\\\\./:*?"<>|])?$';D2L.Files.ValidFileNameRegex='^([^\\\\/:*?"<>|]{0,'+(D2L.Files.MaxFileNameCharacters-1)+'}[^\\./:*?"<>|])?$';
D2L.Files.ValidFileNameNoMaxCharactersRegex='^([^\\\\/:*?"<>|]*[^\\\\./:*?"<>|])?$';D2L.Files.InvalidFileNameCharactersRegex='[\\\\/:*?"<>|]';D2L.Files.InvalidDirectoryNameCharacters='\\ / : * ? " < > |';D2L.Files.InvalidFileNameCharacters='\\ / : * ? " < > |';D2L.Files.FileTypeInfo=D2L.Class.extend({Construct:function(b,c){arguments.callee.$.Construct.call(this);this.m_image=b;this.m_description=c},GetImageInfo:function(){return this.GetImage()},GetImage:function(){return this.m_image},GetDescription:function(){return this.m_description}});
D2L.Files.FileInfo=D2L.Class.extend({Construct:function(b,c,e,f,g){arguments.callee.$.Construct.call(this);if(b===undefined)b="";if(c===undefined)c="";if(e===undefined)e="";if(f===undefined)f=0;f=parseInt(f);if(g===undefined)g="";this.FileSystemType=b;this.FileId=c;this.FileName=e;this.Size=f;this.LastModified=0;this.m_description=g},Deserialize:function(b){this.FileSystemType=b.GetMember("FileSystemType");this.FileId=b.GetMember("FileId");this.FileName=b.GetMember("FileName");this.Size=b.GetMember("Size");
this.LastModified=b.GetMember("LastModified");this.m_description=b.GetMember("Description")},DeserializeMin:function(b){this.FileId=b.GetMember();this.FileSystemType=b.GetMember();this.FileName=b.GetMember();this.Size=b.GetMember();this.LastModified=b.GetMember();this.m_description=b.GetMember()},Serialize:function(b){b.AddMember("FileSystemType",this.GetFileSystemType());b.AddMember("FileId",this.GetFileId());b.AddMember("FileName",this.GetFileName());b.AddMember("Size",this.GetSize());b.AddMember("LastModified",
this.GetLastModified());b.AddMember("Description",this.GetDescription())},Equals:function(b){if(b===null||b===undefined)return false;return this.GetFileSystemType()!=b.GetFileSystemType()||this.GetFileId()!=b.GetFileId()||this.GetFileName()!=b.GetFileName()||this.GetSize()!=b.GetSize()||this.GetLastModified()!=b.GetLastModified()||this.GetDescription()!=b.GetDescription()},GetFileSystemType:function(){return this.FileSystemType},GetFileId:function(){return this.FileId},GetFileName:function(){return this.FileName},
GetSize:function(){return this.Size},GetLastModified:function(){return this.LastModified},GetDescription:function(){return this.m_description},Rename:function(b){this.FileName=b}});
D2L.Files.HandleFileNameDuplicates=function(b,c,e,f,g){var h=new D2L.Util.DelayedReturn;D2L.Files.HandleFileNameDuplicates.InProgress=true;if(g===undefined)g=true;var k=function(o){D2L.Files.HandleFileNameDuplicates.InProgress=false;h.Trigger(o)};f=[];for(var j=0;j<b.Children().length;j++){var l=b.Children()[j].GetFile();if(l)f.push(l.GetFileName());else if(b.Children()[j].GetFileName){l=b.Children()[j].GetFileName(false);l!=null&&l.trim()!=""&&f.push(l)}}j=function(o){var p=function(r){if(r>=o.length)k(true);
else{for(var s=o[r],v=null,u=0;u<b.Children().length;u++){var w=b.Children()[u].GetFile(),A;if(w)A=w.GetFileName();else if(b.Children()[u].GetFileName){w=b.Children()[u].GetFileName(false);if(w!=null&&w.trim()!="")A=w}if(A==s){v=b.Children()[u];break}}u=function(C){if(C.GetType()==D2L.Dialog.ResponseType.Positive){if(v)v.m_overwriteFileName=true;C.GetDialog().Close();p(++r)}else{C.GetDialog().Close();k(false)}};if(v.m_overwriteFileName)p(++r);else if(g)UI.Confirm(u,new D2L.LP.Text.LangTerm("FrameworkWebPages.DuplicateFileNameDialog.lblPrimary",
s,c),new D2L.LP.Text.LangTerm("FrameworkWebPages.DuplicateFileNameDialog.lblSecondary"));else{UI.Error(new D2L.LP.Text.LangTerm("FrameworkWebPages.DuplicateFileNameDialog.lblErrorPrimary",s,c));k(false)}}};o.length===0?k(true):p(0)};f.length===0?k(true):e(f,c).Register(j);return h};D2L.Files.HandleFileNameDuplicates.InProgress=false;D2L.Files.CleanFileName=function(b){return b.replace(new RegExp(D2L.Files.InvalidFileNameCharactersRegex,"g"),"")};
D2L.Files.GetFileTypeInfo=function(b){var c=new D2L.Util.DelayedReturn,e=function(){var f=b.substr(b.lastIndexOf(".")).toLowerCase();if(D2L.Files.TypeInfos[f])c.Trigger(D2L.Files.TypeInfos[f]);else{var g=D2L.Files.TypeInfos["*"];c.Trigger(new D2L.Files.FileTypeInfo(g.GetImageInfo(),g.GetDescription().replace("[0]",f.substr(1).toUpperCase())))}};if(D2L.Files.TypeInfos===null){D2L.Files.TypeInfosDr=new D2L.Util.DelayedReturn;D2L.Files.TypeInfosDr.Register(e);D2L.LP.Web.UI.Html.JavaScript.IncludeScript("/d2l/common/language/fileTypeInfo.d2l",
{ou:Global.OrgUnitId})}else e();return c};D2L.Images={};
D2L.Images.Image=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.ClassName="D2L.Images.Image";this.m_height=this.m_width=0;this.m_path=""},Assign:function(b,c){this.GetSrc().Register(function(l){b.src=l});var e=this.GetWidth(),f=this.GetHeight();if(c===undefined)c=true;if(c){b.className=b.className.replace("di_16","");b.className=b.className.replace("di_24","")}var g=UI.GetRelativeFontSizeManager().ToDictionary(),h=16*g.d2l_body,k=0;for(var j in g)k++;if(c&&k==
1)if(e==16&&f==16)b.className+=" di_16 ";else if(e==24&&f==24)b.className+=" di_24 ";else if(e>0&&f>0){b.style.width=D2L.Style.Utility.PixelToEm(h,e)+"em";b.style.height=D2L.Style.Utility.PixelToEm(h,f)+"em"}else{b.style.width="";b.style.height=""}else if(e>0&&f>0){b.style.width=e+"px";b.style.height=f+"px"}},Deserialize:function(b){this.m_height=b.GetMember("H");this.m_width=b.GetMember("W");b=b.GetMember("F");this.m_path=b.substr(0,1)!="/"&&!D2L.Util.Url.IsExternal(b)?"/d2l/img/"+b:b},DeserializeMin:function(b){this.m_path=
b.GetMember();if(this.m_path.substr(0,1)!="/"&&!D2L.Util.Url.IsExternal(this.m_path))this.m_path="/d2l/img/"+this.m_path+"?v="+Global.ImageVersion;if(b.HasMember()){this.m_height=b.GetMember();this.m_width=b.HasMember()?b.GetMember():this.m_height}else this.m_width=this.m_height=16},GetHeight:function(){return this.m_height},GetSrc:function(){return this.m_path.length>0?new D2L.Util.DelayedReturn(this.m_path):new D2L.Util.DelayedReturn("/d2l/img/lp/pixel.gif")},GetWidth:function(){return this.m_width},
Serialize:function(b){b.AddMember("ClassName",this.ClassName);b.AddMember("W",this.m_width);b.AddMember("H",this.m_height);b.AddMember("F",this.m_path)}});D2L.Images.ImageInfo=D2L.Images.Image.extend({Construct:function(b,c,e){arguments.callee.$.Construct.call(this);if(b===undefined)b="";if(c===undefined)c=0;if(e===undefined)e=0;this.m_path=b;this.m_width=c;this.m_height=e},GetImageFile:function(){return this.m_path}});
D2L.Images.ImageTerm=D2L.Images.Image.extend({Construct:function(b){arguments.callee.$.Construct.call(this);if(b===undefined)b="";this.m_termName=b.toLowerCase();this.m_image=null},GetSrc:function(){if(D2L.Images.ImageTerm.SrcCache[this.m_termName]!==undefined)return new D2L.Util.DelayedReturn(D2L.Images.ImageTerm.SrcCache[this.m_termName]);if(this.m_image!==null)return this.m_image.GetSrc();var b=new D2L.Util.DelayedReturn,c=this;UI.GetLanguageManager().GetImageTerm(this.m_termName).Register(function(e){c.m_image=
e;e.GetSrc().Register(function(f){D2L.Images.ImageTerm.SrcCache[c.m_termName]=f;b.Trigger(f)})});return b},GetTermName:function(){return this.m_name}});D2L.Images.ImageTerm.SrcCache={};D2L.Images.ImageTerm.Assign=function(b,c,e){(new D2L.Images.ImageTerm(b)).Assign(c,e)};D2L.LP.Web.ISF={};D2L.LP.Web.ISF.UploadValidationResults={Invalid:0,Valid:1,Exists:2};
D2L.Language={Collections:{},ImageCollections:{},PrefetchedTerms:{},PrefetchedImageTerms:{},ImageTerm:D2L.Images.ImageTerm,InitImg:function(b,c){for(var e in b)D2L.Language.InitImgCol(e,b[e]);for(var f in c)D2L.Language.PrefetchedImageTerms[f]=D2L.Serialization.JsonDeserializerMin.Deserialize(c[f],D2L.Images.Image)},InitImgCol:function(b,c){var e={};for(var f in c)e[f]=D2L.Serialization.JsonDeserializerMin.Deserialize(c[f],D2L.Images.Image);D2L.Language.ImageCollections[b]=e},InitLang:function(b,
c){D2L.Language.Collections=b;D2L.Language.PrefetchedTerms=c}};
D2L.Language.LanguageManager=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_cachedImageObjects={};this.m_waitingCollections={};this.m_waitingImageCollections={};this.SmlProcessor=new D2L.Sml.SmlProcessor;var b=this;this.OnCollectionLoad=new D2L.EventHandler;this.OnCollectionLoad.RegisterMethod(function(c){b.m_waitingCollections[c]&&b.m_waitingCollections[c].Trigger()});this.OnImageCollectionLoad=new D2L.EventHandler;this.OnImageCollectionLoad.RegisterMethod(function(c){b.m_waitingImageCollections[c]&&
b.m_waitingImageCollections[c].Trigger()})},GetCollection:function(b){b=b.toLowerCase();if(D2L.Language.Collections[b]!==undefined)return new D2L.Util.DelayedReturn(D2L.Language.Collections[b]);var c=new D2L.Util.DelayedReturn;if(this.m_waitingCollections[b]===undefined){D2L.Debug.Warn("Client-side fetch of language collection: '"+b+"'.");this.m_waitingCollections[b]=new D2L.Util.DelayedReturn;D2L.LP.Web.UI.Html.JavaScript.IncludeScript("/d2l/common/language/language.d2l",{ou:Global.OrgUnitId,collection:b,
lid:Global.Language.LanguageId})}this.m_waitingCollections[b].Register(function(){c.Trigger(D2L.Language.Collections[b])});return c},GetCollectionName:function(b){return b.substring(0,b.lastIndexOf(".")).toLowerCase()},GetImageCollection:function(b){b=b.toLowerCase();if(D2L.Language.ImageCollections[b]!==undefined)return new D2L.Util.DelayedReturn(D2L.Language.ImageCollections[b]);var c=new D2L.Util.DelayedReturn;if(this.m_waitingImageCollections[b]===undefined){D2L.Debug.Warn("Client-side fetch of image collection: '"+
b+"'.");this.m_waitingImageCollections[b]=new D2L.Util.DelayedReturn;D2L.LP.Web.UI.Html.JavaScript.IncludeScript("/d2l/common/language/image.d2l",{ou:Global.OrgUnitId,isi:Global.ImageSetId,iv:Global.ImageVersion,collection:b})}this.m_waitingImageCollections[b].Register(function(){c.Trigger(D2L.Language.ImageCollections[b])});return c},GetPrefetchedTerm:function(b){b=b.toLowerCase();if(D2L.Language.PrefetchedTerms[b]!==undefined)return D2L.Language.PrefetchedTerms[b];else{var c=this.GetCollectionName(b);
b=this.GetTermName(b,c);if(D2L.Language.Collections[c]!==undefined&&D2L.Language.Collections[c][b]!==undefined)return D2L.Language.Collections[c][b]}return""},GetTerm:function(b){b=b.toLowerCase();var c=new D2L.Util.DelayedReturn,e=this.GetCollectionName(b),f=this.GetTermName(b,e);D2L.Language.PrefetchedTerms[b]!==undefined?c.Trigger(D2L.Language.PrefetchedTerms[b]):this.GetCollection(e).Register(function(g){g[f]&&c.Trigger(g[f])});return c},GetTermName:function(b,c){return b.substr(c.length+1)},
GetImageTerm:function(b){var c=new D2L.Util.DelayedReturn;b=b.toLowerCase();var e=this.GetCollectionName(b),f=this.GetTermName(b,e),g=this;if(this.m_cachedImageObjects[b]!==undefined)c.Trigger(this.m_cachedImageObjects[b]);else if(D2L.Language.PrefetchedImageTerms[b]!==undefined){this.m_cachedImageObjects[b]=D2L.Language.PrefetchedImageTerms[b];c.Trigger(D2L.Language.PrefetchedImageTerms[b])}else this.GetImageCollection(e).Register(function(h){if(h[f]){g.m_cachedImageObjects[f]=h[f];c.Trigger(h[f])}});
return c},GetPrefetchedImageTerm:function(b){b=b.toLowerCase();var c=null;if(D2L.Language.PrefetchedImageTerms[b]!==undefined)c=D2L.Language.PrefetchedImageTerms[b];else{var e=this.GetCollectionName(b);b=this.GetTermName(b,e);if(D2L.Language.ImageCollections[e]!==undefined)c=D2L.Language.ImageCollections[e][b]}return c!==undefined&&c!==null?new D2L.Images.ImageInfo(c.m_path):new D2L.Images.ImageInfo("/d2l/common/img/failed_cache_image.gif",16,16)},HasTerm:function(b){b=b.toLowerCase();var c=this.GetCollectionName(b),
e=this.GetTermName(b,c);return D2L.Language.PrefetchedTerms[b]!==undefined||D2L.Language.Collections[c]!==undefined&&D2L.Language.Collections[c][e]!==undefined}});D2L.LP.LayeredArch={};
D2L.LP.LayeredArch.PagingInfo=D2L.Class.extend({Construct:function(b,c){if(b===undefined)b=20;if(c===undefined)c=1;arguments.callee.$.Construct.call(this);this.m_pageSize=b;this.m_pageNumber=c},Deserialize:function(b){this.m_pageSize=b.GetMember("PageSize");this.m_pageNumber=b.GetMember("PageNumber")},GetPageSize:function(){return this.m_pageSize},GetPageNumber:function(){return this.m_pageNumber},Serialize:function(b){b.AddMember("PageSize",this.GetPageSize());b.AddMember("PageNumber",this.GetPageNumber())},
SetPageSize:function(b){this.m_pageSize=b},SetPageNumber:function(b){this.m_pageNumber=b}});D2L.LP.LayeredArch.SelectionFilterTypes={None:0,All:1,AllExcept:2,Some:3};
D2L.LP.LayeredArch.SortingInfo=D2L.Class.extend({Construct:function(b,c,e){if(b===undefined)b="";if(c===undefined)c=true;if(e===undefined)e=null;arguments.callee.$.Construct.call(this);this.m_collationCultureCode=null;this.m_isAscending=c;this.m_sortField=b},Deserialize:function(b){this.m_isAscending=b.GetMember("IsAscending");this.m_sortField=b.GetMember("SortField");if(b.HasMember("CollationCultureCode"))this.m_collationCultureCode=b.GetMember("CollationCultureCode")},GetCollationCultureCode:function(){return this.m_collationCultureCode},
GetSortField:function(){return this.m_sortField},IsAscending:function(){return this.m_isAscending},Serialize:function(b){b.AddMember("SortField",this.GetSortField());b.AddMember("IsAscending",this.IsAscending());b.AddMember("CollationCultureCode",this.GetCollationCultureCode())},SetIsAscending:function(b){this.m_isAscending=b},SetSortField:function(b){this.m_sortField=b}});D2L.Layouts={};
D2L.Layouts.ViewModeIntegration=function(b){var c=UI.GetById(b),e=function(){setTimeout(function(){for(var g=0;g<c.rows.length;g++)for(var h=c.rows[g],k=0;k<h.cells.length;k++)for(var j=h.cells[k],l=0;l<j.childNodes.length;l++){var o=j.childNodes[l];if(o.className&&o.className.indexOf("dlay_autofill")!=-1)o.style.height="auto";else if(o.firstChild&&o.firstChild.className&&o.firstChild.className.indexOf("dlay_autofill")!=-1)o.firstChild.style.height="auto"}D2L.Layouts.Adjustautofill(c)},0)};WindowEventManager.Transform.RegisterMethod(function(){try{e()}catch(g){}});
try{e()}catch(f){}};
D2L.Layouts.Adjustautofill=function(b){for(var c=0;c<b.rows.length;c++)for(var e=b.rows[c],f=0;f<e.cells.length;f++){for(var g=e.cells[f],h=[],k=0;k<g.childNodes.length;k++){var j=g.childNodes[k];if(j.className&&j.className.indexOf("dlay_autofill")!=-1)h.push(j);else j.firstChild&&j.firstChild.className&&j.firstChild.className.indexOf("dlay_autofill")!=-1&&h.push(j.firstChild)}for(k=0;k<h.length;k++)h[k].style.height="auto";k=g.offsetHeight;if(h.length>0){j=h[h.length-1].offsetHeight;var l=k+1;h[h.length-
1].style.height=h[h.length-1].offsetHeight+l+"px";g=(l-(g.offsetHeight-k))/h.length;for(k=0;k<h.length-1;k++)h[k].style.height=h[k].offsetHeight+g+"px";h[h.length-1].style.height=j+g+"px"}}};D2L.MultiEdit={};
D2L.MultiEdit.Manager=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_controls=[];this.m_includeUnchanged=false;var b=this;UI.GetFormManager().OnChangeReset.RegisterMethod(function(){for(var c=0;c<b.m_controls.length;c++)b.m_controls[c].Reset()})},DeserializeMin:function(b){this.m_controls=b.GetObjectArrayMin(D2L.MultiEdit.MultiEditControl);this.m_includeUnchanged=b.GetBoolean()},Serialize:function(b){for(var c=[],e=0;e<this.m_controls.length;e++)if(this.m_controls[e].IsInDom()&&
(this.m_controls[e].HasChanged()||this.m_includeUnchanged))c.push(this.m_controls[e]);b.AddMember("Controls",c)},AddMultiEditToForm:function(){var b=UI.GetForm(),c=UI.GetById("d2l_multiedit");if(!c){c=document.createElement("input");c.type="hidden";c.name="d2l_multiedit";c.id="d2l_multiedit";b.appendChild(c)}c.value=D2L.Serialization.JsonSerializer.Serialize(this)},GetMultiEditObject:function(b,c){c=c.toLowerCase();for(var e=0;e<this.m_controls.length;e++)if(this.m_controls[e].GetKey()==b&&this.m_controls[e].GetField().toLowerCase()==
c)return this.m_controls[e];return null},GetMultiEditObjectsByField:function(b){b=b.toLowerCase();for(var c={},e=0;e<this.m_controls.length;e++)if(this.m_controls[e].GetField().toLowerCase()==b)c[this.m_controls[e].GetKey()]=this.m_controls[e];return c},GetMultiEditObjectsByKey:function(b){for(var c={},e=0;e<this.m_controls.length;e++)if(this.m_controls[e].GetKey()==b)c[this.m_controls[e].GetField()]=this.m_controls[e];return c}});D2L.MultiEdit.GetManager=function(){return UI.GetMultiEditManager()};
D2L.MultiEdit.MultiEditControl=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_controlId=null;this.m_field=this.m_originalValue=this.m_key="";this.m_includeWhenUnchanged=false},DeserializeMin:function(b){this.m_controlId=b.GetObjectMin(D2L.Control.Id);this.m_key=b.GetMember();this.m_originalValue=b.GetMember();this.m_field=b.GetMember();this.m_includeWhenUnchanged=b.GetBoolean()},Serialize:function(b){b.AddMember("Key",this.GetKey());b.AddMember("Field",this.GetField());
b.AddMember("Value",this.GetValue())},GetControl:function(){return UI.GetControl(this.m_controlId.ID(),this.m_controlId.SID())},GetField:function(){return this.m_field},GetKey:function(){return this.m_key},GetObject:function(){return this.GetControl()},GetValue:function(){return this.GetControl().GetMultiEditValue()},GetOriginalValue:function(){return this.m_originalValue},HasChanged:function(){return this.IncludeWhenUnchanged()||this.GetOriginalValue()!=this.GetValue()},IncludeWhenUnchanged:function(){return this.m_includeWhenUnchanged},
IsInDom:function(){var b=this.GetControl().GetDomNode();if(b!==null){for(;b.parentNode!==null;)b=b.parentNode;return b==document}return false},Reset:function(){this.m_originalValue=this.GetValue()},SetIncludeWhenUnchanged:function(b){this.m_includeWhenUnchanged=b}});
D2L.LP.Web.Packaging={InitLoadedPackages:function(){if(!D2L.LP.Web.Packaging.PackagesAreInit){D2L.LP.Web.Packaging.PackagesAreInit=true;for(var b=UI.GetByTagName("script"),c=0;c<b.length;c++){var e=D2L.LP.Web.Packaging.PackageNameReRelease.exec(b[c].src);if(e==null){e=D2L.LP.Web.Packaging.PackageNameReDebug.exec(b[c].src);if(e!==null)D2L.LP.Web.Packaging.IsRelease=false}if(e!==null&&e.length>1)D2L.LP.Web.Packaging.LoadedPackages[e[1]]=1}}},IsRelease:true,LoadedPackages:{},PackagesAreInit:false,PackageNameReDebug:/\/d2l\/common\/packages\/package\.d2l\?pn=([a-zA-Z0-9.]*)/,
PackageNameReRelease:/\/d2l\/common\/js\/([a-zA-Z0-9.]*).js/,Register:function(b){D2L.LP.Web.Packaging.LoadedPackages[b]=1}};
D2L.LP.Web.Packaging.Definition=D2L.Class.Create({Construct:function(){this.m_dependencies=[];this.m_hasJavaScript=this.m_hasCss=false;this.m_imageCollections=[];this.m_languageCollections=[];this.m_name=""},Deserialize:function(b){this.m_dependencies=b.GetObjectArray("Dependencies");this.m_hasCss=b.GetMember("HasCss");this.m_hasJavaScript=b.GetMember("HasJavaScript");this.m_imageCollections=b.GetMember("ImageCollections");this.m_languageCollections=b.GetMember("LanguageCollections");this.m_name=
b.GetMember("Name")},GetDependencies:function(){return this.m_dependencies},GetImageCollections:function(){return this.m_imageCollections},GetLanguageCollections:function(){return this.m_languageCollections},GetName:function(){return this.m_name},HasCss:function(){return this.m_hasCss},HasJavaScript:function(){return this.m_hasJavaScript}});
D2L.LP.Web.Packaging.Loader=D2L.Class.Create({Construct:function(){},Include:function(b,c){var e="",f={v:Global.AssemblyVersion};if(D2L.LP.Web.Packaging.IsRelease)e="/d2l/common/"+c+"/"+b+"."+c;else{e="/d2l/common/packages/package.d2l";f.pn=b;f.t=c}c=="js"?D2L.LP.Web.UI.Html.JavaScript.IncludeScript(e,f):D2L.LP.Web.UI.Html.Style.IncludeStyleSheet(e,f)},Load:function(b,c){D2L.LP.Web.Packaging.InitLoadedPackages();var e=function(){c!==undefined&&c.call(c)};if(D2L.LP.Web.Packaging.LoadedPackages[b]==
1)e();else{var f=this;D2L.Rpc.Create("GetPackageDefinition",function(g){g.GetType()==D2L.Rpc.ResponseType.Success&&f.LoadDefinition(g.GetResult(),e)},"/d2l/common/packages/package.d2l").Call(b)}},LoadDefinition:function(b,c){var e=b.GetName(),f=b.GetDependencies(),g=this,h=UI.GetLanguageManager(),k=function(l,o){l==f.length?o.call(o):g.LoadDefinition(f[l],function(){k(++l,o)})},j=function(l){D2L.LP.Web.Packaging.LoadedPackages[e]==1?l.Trigger():setTimeout(function(){j(l)},100)};k(0,function(){if(D2L.LP.Web.Packaging.LoadedPackages[e]==
1)c.call(c);else{var l=[];l.push(new D2L.Util.DelayedReturn(true));for(var o=b.GetLanguageCollections(),p=0;p<o.length;p++)l.push(h.GetCollection(o[p]));o=b.GetImageCollections();for(p=0;p<o.length;p++)l.push(h.GetImageCollection(o[p]));b.HasCss()&&g.Include(e,"css");if(b.HasJavaScript()){p=new D2L.Util.DelayedReturn;l.push(p);g.Include(e,"js");j(p)}D2L.Util.DelayedReturn.RegisterMultiple(l,function(){c.call(c)})}})}});D2L.Rpc={};
D2L.Rpc.Create=function(b,c,e){return new D2L.RpcMethodProxy(D2L.Rpc.Type.Ajax,b,c,e)};D2L.Rpc.CreatePost=function(b,c,e){return new D2L.RpcMethodProxy(D2L.Rpc.Type.Post,b,c,e)};D2L.Rpc.CreateSynchronous=function(b,c){return new D2L.RpcMethodProxy(D2L.Rpc.Type.Synchronous,b,undefined,c)};D2L.Rpc.ResponseType={Success:0,Error:1};D2L.Rpc.Type={Ajax:0,Post:1,Synchronous:2};
D2L.Rpc.Manager=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_xhrNum=0},Send:function(b,c,e,f){this.m_xhrNum++;c={Type:b,ServerFunc:c,Src:e,Params:f,Num:new Number(this.m_xhrNum)};if(b==D2L.Rpc.Type.Synchronous){b=this.SendAjax(c);if(b.responseText.substr(0,13)=="while(true){}"){D2L.Debug.Trace("Rpc "+c.Num+": Received positive response '"+b.responseText+"'.");return D2L.Serialization.JsonDeserializer.Deserialize(b.responseText.substr(13),D2L.Rpc.Response)}}else{c.DR=
new D2L.Util.DelayedReturn;this.SendAjax(c);return c.DR}},SendAjax:function(b){var c=b.Src.lastIndexOf(".d2l");if(c>-1)b.Src=b.Src.substring(0,c)+".d2lfile"+b.Src.substr(c+4);c=this.GetXhr(b,b.Type==D2L.Rpc.Type.Ajax);UI.GenerateHitCode();b.Params+="&d2l_session="+D2L.LP.Web.UI.Html.Form.GetSessionVal()+"&d2l_hitcode="+UI.GetHitCode()+"&d2l_action=rpc";UI.GenerateHitCode();c.open("POST",b.Src+"&d2l_rh=rpc&d2l_rt=call",b.Type==D2L.Rpc.Type.Ajax);c.setRequestHeader("Content-type","application/x-www-form-urlencoded");
c.send(b.Params);return c},GetXhr:function(b,c){var e=function(){try{return new XMLHttpRequest}catch(h){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(k){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(j){}D2L.Debug.Error("Rpc "+b.Num+": Could not initialize D2L.Rpc object.");return null}();if(c){var f=new Date,g=new D2L.Rpc.Response;g.SetType(D2L.Rpc.ResponseType.Error);e.onreadystatechange=function(){var h=null,k=null;try{h=e.readyState;k=D2L}catch(j){}if(h&&k){D2L.Debug.Trace("Rpc "+
b.Num+": Ready State:"+h);if(h==4){var l;try{l=e.status}catch(o){}if(l){D2L.Debug.Trace("Rpc "+b.Num+": Status is '"+l+"'.");if(l==200){try{if(e.responseText.substr(0,13)=="while(true){}"){g=D2L.Serialization.JsonDeserializer.Deserialize(e.responseText.substr(13),D2L.Rpc.Response);D2L.Debug.Trace("Rpc "+b.Num+": Received positive response '"+e.responseText+"'.")}}catch(p){D2L.Debug.Error("Rpc "+b.Num+": Error evaluating response '"+e.responseText+"'.")}if(g.GetRedirectUrl().length>0)document.location.href=
g.GetRedirectUrl();else{if(h=g.GetMessages())if(h.GetStatusType()!=D2L.Control.MessageArea.Status.None||h.HasCustomStatus()||h.HasErrors()){UI.GetMessageArea().SetMessages(h);h.GetStatusType()==D2L.Control.MessageArea.Status.Saved&&FormManager.ResetChanges()}g.SetDuration((new Date).valueOf()-f.valueOf());b.DR.Trigger(g)}}else{D2L.Debug.Error(e.responseText);b.DR.Trigger(g)}}delete e.onreadystatechange}}}}return e}});
D2L.RpcMethodProxy=D2L.Util.MethodProxy.extend({Construct:function(b,c,e,f){this.m_skipValidation=true;if(b==D2L.Rpc.Type.Post)this.m_skipValidation=false;this.m_sessionKeepAlive=true;if(f===undefined||f.length===0)f=document.location.href;f=f.split("#")[0];if(f.indexOf("ou=")==-1){f+=f.indexOf("?")==-1?"?":"&";f+="ou="+Global.OrgUnitId}var g=this,h=function(){var j="d2l_rf="+c+"&params="+D2L.Util.Url.Encode(D2L.Serialization.JsonSerializer.Serialize({Arguments:arguments,Serialize:function(o){for(var p=
0;p<this.Arguments.length;p++)o.AddMember("param"+(p+1),this.Arguments[p])}}));g.m_sessionKeepAlive||(j+="&d2l_nokeepalive=1&X-D2L-Session=");if(g.m_includeState!==null){j+="&d2l_stateGroups="+D2L.Util.Url.Encode(g.m_includeState.Groups);j+="&d2l_stateScopes="+D2L.Util.Url.Encode(g.m_includeState.Scopes);j+="&d2l_statePageId="+D2L.Util.Url.Encode(UI.pageId);for(var l in g.m_includeState.State)j+="&d2l_state_"+l+"="+D2L.Util.Url.Encode(g.m_includeState.State[l])}return RpcManager.Send(b,c,f,j)},k=
function(){var j=new D2L.Util.DelayedReturn,l=UI.GetUniqueHtmlId();if(document.body.insertAdjacentHTML)document.body.insertAdjacentHTML("beforeEnd","<iframe id='"+l+"' name='"+l+"' style='display:none'></iframe>");else{var o=document.createElement("iframe");o.id=l;o.name=l;o.style.position="absolute";o.style.left="-200px";o.style.top="-200px";o.style.width="1px";o.style.height="1px";document.body.appendChild(o)}o=UI.GetUniqueHtmlId();window[o]=function(r){var s=D2L.Serialization.JsonDeserializer.Deserialize(r,
D2L.Rpc.Response);if(s.GetRedirectUrl().length>0)document.location.href=s.GetRedirectUrl();else{if(!g.m_skipValidation){var v=s.GetMessages();if(v!==null){UI.GetMessageArea().SetMessages(v);v.GetStatusType()==D2L.Control.MessageArea.Status.Saved&&FormManager.ResetChanges()}}D2L.Debug.Trace("Post-Rpc: Received positive response '"+r+"'.");j.Trigger(s)}};arguments.Serialize=function(r){for(var s=0;s<this.length;s++)r.AddMember("param"+(s+1),this[s])};var p=new D2L.NavInfo;p.navigation=f;p.target=l;
p.action="RPC";p.SetParam("d2l_rh","rpc");p.SetParam("d2l_rt","post");p.SetParam("d2l_rcb",o);p.SetParam("d2l_rf",c);p.SetParam("params",D2L.Serialization.JsonSerializer.Serialize(arguments));D2L.Debug.Trace("Post-Rpc: posting to function '"+c+"' on Src '"+f+"'...");Nav.Go(p,g.m_skipValidation);return j};arguments.callee.$.Construct.call(this,b==D2L.Rpc.Type.Post?k:h,e,b!=D2L.Rpc.Type.Synchronous);this.m_includeState=null},SetSessionKeepAlive:function(b){this.m_sessionKeepAlive=b},SetSkipValidation:function(b){this.m_skipValidation=
b},SetIncludeState:function(b){this.m_includeState=b}});
D2L.Rpc.Response=D2L.Class.extend({Construct:function(b){if(b===undefined)b=0;this.m_duration=b;this.m_isResultMin=false;this.m_messages=null;this.m_redirectUrl="";this.m_responseType=D2L.Rpc.ResponseType.Success;this.m_result=null},Deserialize:function(b){if(b.HasMember("MessageArea"))this.m_messages=b.GetObject("MessageArea",D2L.Control.MessageArea.Messages);this.m_isResultMin=b.GetMember("IsResultMin");this.m_responseType=b.GetMember("ResponseType");this.m_redirectUrl=b.GetMember("RedirectUrl");
this.m_result=b.GetMember("Result")},GetDuration:function(){return this.m_duration},GetMessages:function(){return this.m_messages},GetRedirectUrl:function(){return this.m_redirectUrl},GetResponseType:function(){return this.GetType()},GetType:function(){return this.m_responseType},GetResult:function(b){return this.m_isResultMin?D2L.Serialization.JsonDeserializerMin.Deserialize(this.m_result,b):b!==undefined||this.m_result instanceof Array&&this.m_result.length>0&&this.m_result[0]!==null&&this.m_result[0].ClassName!==
undefined||this.m_result!==undefined&&this.m_result!==null&&this.m_result.ClassName!==undefined?D2L.Serialization.JsonDeserializer.Deserialize(this.m_result,b):this.m_result},SetDuration:function(b){this.m_duration=b},SetType:function(b){this.m_responseType=b}});D2L.Rpc.Response.Timeout="timeout";D2L.Serialization={};
D2L.Serialization.JsonDeserializer=D2L.Class.extend({Construct:function(b){arguments.callee.$.Construct.call(this);if(b!==undefined){this.m_data=b;if(b!==null&&b.isString)this.m_data=eval("("+b+")")}this.m_keys=[];for(var c in this.m_data)this.m_keys.push(c)},Keys:function(){return this.m_keys},GetDictionary:function(b,c,e){var f={};if(this.m_data!==undefined&&this.m_data!==null&&this.m_data[b]!==undefined){b=this.m_data[b];for(var g in b){var h=g;if(typeof g=="object")h=D2L.Serialization.JsonDeserializerMin.Deserialize(g,
c);else if(c=="number")h=parseFloat(g);f[h]=typeof b[g]=="object"?D2L.Serialization.JsonDeserializerMin.Deserialize(b[g],e):b[g]}}return f},GetMember:function(b,c){if(this.m_data!==undefined&&this.m_data!==null){if(this.m_data[b]===undefined)return c;return this.m_data[b]}return c},GetObject:function(b,c){if(this.m_data[b]!==undefined)return D2L.Serialization.JsonDeserializer.Deserialize(this.m_data[b],c)},GetObjectArray:function(b,c){var e=[];if(this.m_data[b]!==undefined)for(var f=0;f<this.m_data[b].length;f++)e.push(D2L.Serialization.JsonDeserializer.Deserialize(this.m_data[b][f],
c));return e},HasMember:function(b){return this.m_data!==undefined&&this.m_data!==null&&this.m_data[b]!==undefined},IsArray:function(b){return D2L.Util.JavaScript.IsArray(this.m_data[b])}});
D2L.Serialization.JsonDeserializer.Deserialize=function(b,c){var e=b;if(b!==undefined&&b!==null&&b.isString)e=eval("("+b+")");if(e===null)return null;if(e instanceof Array){b=e.length;for(var f=0;f<b;f++)e[f]=D2L.Serialization.JsonDeserializer.Deserialize(e[f],c)}else{b=new D2L.Serialization.JsonDeserializer(b);if(c===undefined&&b.HasMember("ClassName")){c=b.GetMember("ClassName");if(c.isString)c=eval(c)}if(c!==undefined){e=new c;e.Deserialize!==undefined&&e.Deserialize(b)}}return e};
D2L.Serialization.JsonDeserializerMin=D2L.Class.extend({Construct:function(b){arguments.callee.$.Construct.call(this);this.m_data=[];this.m_index=-1;if(b!==undefined){this.m_data=b;if(b!==undefined&&b!==null&&b.isString)this.m_data=eval("("+b+")")}},GetBoolean:function(){if(this.m_data!==undefined&&this.m_data!==null&&this.m_data.length>this.m_index+1){this.m_index++;return this.m_data[this.m_index]==1}return false},GetMember:function(){if(this.m_data!==undefined&&this.m_data!==null&&this.m_data.length>
this.m_index+1){this.m_index++;return this.m_data[this.m_index]}},GetObject:function(b){if(this.m_data!==undefined&&this.m_data!==null&&this.m_data.length>this.m_index+1){this.m_index++;return D2L.Serialization.JsonDeserializer.Deserialize(this.m_data[this.m_index],b)}},GetObjectMin:function(b){if(this.m_data!==undefined&&this.m_data!==null&&this.m_data.length>this.m_index+1){this.m_index++;return D2L.Serialization.JsonDeserializerMin.Deserialize(this.m_data[this.m_index],b)}},GetObjectArray:function(b){var c=
[];if(this.m_data!==undefined&&this.m_data!==null&&this.m_data.length>this.m_index+1){this.m_index++;for(var e=0;e<this.m_data[this.m_index].length;e++)c.push(D2L.Serialization.JsonDeserializer.Deserialize(this.m_data[this.m_index][e],b))}return c},GetObjectArrayMin:function(b){var c=[];if(this.m_data!==undefined&&this.m_data!==null&&this.m_data.length>this.m_index+1){this.m_index++;for(var e=0;e<this.m_data[this.m_index].length;e++)c.push(D2L.Serialization.JsonDeserializerMin.Deserialize(this.m_data[this.m_index][e],
b))}return c},GetDictionaryMin:function(b,c){var e={};if(this.m_data!==undefined&&this.m_data!==null&&this.m_data.length>this.m_index+1){this.m_index++;var f=this.m_data[this.m_index];for(var g in f){var h=g;if(typeof g=="object")h=D2L.Serialization.JsonDeserializerMin.Deserialize(g,b);else if(b=="number")h=parseFloat(g);e[h]=typeof f[g]=="object"?D2L.Serialization.JsonDeserializerMin.Deserialize(f[g],c):f[g]}}return e},HasMember:function(){return this.m_data!==undefined&&this.m_data!==null&&this.m_data.length>
this.m_index+1}});D2L.Serialization.JsonDeserializerMin.Deserialize=function(b,c){var e=b;if(b!==undefined&&b!==null&&b.isString)e=eval("("+b+")");if(e===null)return null;b=new D2L.Serialization.JsonDeserializerMin(e);if(c!==undefined)if(typeof c!="string")e=new c;e.DeserializeMin!==undefined&&e.DeserializeMin(b);return e};
D2L.Serialization.JsonSerializer=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_text=new D2L.Util.StringBuilder;this.m_comma=""},DoSerialize:function(b,c,e,f,g){if(c===undefined){c="Serialize";if(b&&b[c]===undefined&&b._serialize!==undefined)c="_serialize"}if(e===undefined)e=false;if(b===undefined||b===null)this.m_text.Append("null");else if(typeof b=="boolean")this.m_text.Append(b);else if(typeof b=="string")e?this.m_text.Append(b):this.m_text.Append("'"+b.jsString()+
"'");else if(typeof b=="number")this.m_text.Append(b);else if(typeof b=="object")if(D2L.Util.JavaScript.IsArray(b)){this.m_text.Append("[");g=b.length;f="";for(var h=0;h<g;h++){this.m_text.Append(f);this.DoSerialize(b[h],c);f=","}this.m_text.Append("]")}else if(b[c]){this.m_text.Append("{");h=this.m_comma;this.m_comma="";b[c](this,f,g);this.m_text.Append("}");this.m_comma=h}else{this.m_text.Append("{");f="";for(h in b){this.m_text.Append(f);this.m_text.Append(h+":");this.DoSerialize(b[h],c);f=","}this.m_text.Append("}")}else this.m_text.Append("null")},
AddMember:function(b,c,e,f,g,h){if(!(b===undefined||b===null||b.length===0)){this.m_text.Append(this.m_comma+"'"+b.jsString()+"':"+D2L.Serialization.JsonSerializer.Serialize(c,e,f,g,h));this.m_comma=","}},ToString:function(){return this.m_text.ToString()}});D2L.Serialization.JsonSerializer.Serialize=function(b,c,e,f,g){var h=new D2L.Serialization.JsonSerializer;h.DoSerialize(b,c,e,f,g);return h.ToString()};D2L.Sml={};
D2L.Sml.SmlProcessor=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this)},Encode:function(b){if(!b)return"";return b.replace(/(\\|\[|\])/g,"\\$1")},Process:function(b,c){if(b===undefined||b===null)return"";b=new D2L.Sml.SmlTokenizer(b);for(var e=[],f="",g=true;!b.IsDone();){var h=b.GetToken();if(h.m_type==D2L.Sml.SmlTokenType.Text){g=false;f+=c==D2L.Sml.SmlProcessor.Mode.Html?D2L.Util.Html.Encode(h.m_text):h.m_text}else if(h.m_type==D2L.Sml.SmlTokenType.Unknown){g=false;
f+="["+h.m_text+"]"}else if(h.m_isOpen)if(h.m_isContainer){e.push(h);if(c==D2L.Sml.SmlProcessor.Mode.Html)f+=this.WriteOpenTag(h);else if(c==D2L.Sml.SmlProcessor.Mode.PlainText&&h.m_type==D2L.Sml.SmlTokenType.Abbr)f+=h.m_text.substring(5,h.m_text.length)+" ("}else if(h.m_type==D2L.Sml.SmlTokenType.Break){g=false;f+=c==D2L.Sml.SmlProcessor.Mode.Html?"<br/>":"\n"}else{if(h.m_type==D2L.Sml.SmlTokenType.Space){g=false;if(h.m_text.indexOf(":")>0){h=h.m_text.substring(h.m_text.indexOf(":")+1,h.m_text.length);
for(var k=0;k<h;k++)f+=c==D2L.Sml.SmlProcessor.Mode.Html?"&nbsp;":" "}else f+=c==D2L.Sml.SmlProcessor.Mode.Html?"&nbsp;":" "}}else if(e.length!=0)if(e[e.length-1].m_type!=h.m_type){k=false;for(x in e)if(e[x].m_type==h.m_type){k=true;break}if(k){for(;e[e.length-1].m_type!=h.m_type;)if(c==D2L.Sml.SmlProcessor.Mode.Html)f+=this.WriteCloseTag(e.pop());else{e.pop();if(c==D2L.Sml.SmlProcessor.Mode.PlainText&&h.m_type==D2L.Sml.SmlTokenType.Abbr)f+=")"}if(c==D2L.Sml.SmlProcessor.Mode.Html)f+=this.WriteCloseTag(e.pop());
else{e.pop();if(c==D2L.Sml.SmlProcessor.Mode.PlainText&&h.m_type==D2L.Sml.SmlTokenType.Abbr)f+=")"}}}else if(c==D2L.Sml.SmlProcessor.Mode.Html)f+=this.WriteCloseTag(e.pop());else{e.pop();if(c==D2L.Sml.SmlProcessor.Mode.PlainText&&h.m_type==D2L.Sml.SmlTokenType.Abbr)f+=")"}}for(;e.length!=0;)if(c==D2L.Sml.SmlProcessor.Mode.Html)f+=this.WriteCloseTag(e.pop());else e.pop();return g?"":f},WriteOpenTag:function(b){var c="";switch(b.m_type){case D2L.Sml.SmlTokenType.Abbr:c='<abbr title="'+b.m_text.substring(5,
b.m_text.length)+'">';break;case D2L.Sml.SmlTokenType.Alert:c='<span class="ds_a">';break;case D2L.Sml.SmlTokenType.Bold:c="<strong>";break;case D2L.Sml.SmlTokenType.Help:b=b.m_text.substring(5,b.m_text.length);var e=c="";e=b.indexOf(",");if(e>-1){c=b.substring(0,e);e=b.substring(e+1)}else{c="Framework.PopupHelp."+b;e="Framework.PopupHelpDesc."+b}c='<a href="javascript://" onclick="UI.H(\''+c+"','"+e+'\');" class="dh_ph" >';break;case D2L.Sml.SmlTokenType.Italic:c="<em>";break;case D2L.Sml.SmlTokenType.Light:c=
'<span class="ds_b">';break;case D2L.Sml.SmlTokenType.Info:c='<span class="ds_c">';break;case D2L.Sml.SmlTokenType.Colour:c='<span style="color:'+b.m_text.substring(4,b.m_text.length)+'">';break;case D2L.Sml.SmlTokenType.Underline:c='<span class="ds_d">';break;case D2L.Sml.SmlTokenType.Large:c='<span class="ds_e">';break;case D2L.Sml.SmlTokenType.Larger:c='<span class="ds_f">';break;case D2L.Sml.SmlTokenType.Small:c='<span class="ds_g">';break;case D2L.Sml.SmlTokenType.Smaller:c='<span class="ds_h">';
break;case D2L.Sml.SmlTokenType.Medium:c='<span class="ds_m">';break;case D2L.Sml.SmlTokenType.Normal:c='<span class="ds_i">';break;case D2L.Sml.SmlTokenType.Link:e=b.m_text.substr(5,b.m_text.length-5);var f=b="";c="";var g=e.indexOf(" ");if(g>=0){b=e.substr(0,g);e=e.substr(g,e.length-g).trim();f=e.indexOf(" ");f=f>=0?e.substr(0,f).trim():e.trim();if(f.toLowerCase()=="_top"||f.toLowerCase()=="_blank"||f.toLowerCase()=="_self"||f.toLowerCase()=="_parent"){c=f;f=e.substr(f.length,e.length-f.length).trim()}else f=
e}else b=e;if(f.length>0)f=' title="'+D2L.Util.Html.Encode(f)+'"';if(c.length>0)c=' target="'+c+'"';c='<a href="'+b+'" '+c+f+" >";break}return c},WriteCloseTag:function(b){var c="";switch(b.m_type){case D2L.Sml.SmlTokenType.Abbr:c="</abbr>";break;case D2L.Sml.SmlTokenType.Bold:c="</strong>";break;case D2L.Sml.SmlTokenType.Italic:c="</em>";break;case D2L.Sml.SmlTokenType.Help:c="</a>";break;case D2L.Sml.SmlTokenType.Link:c="</a>";break;default:c="</span>";break}return c}});
D2L.Sml.SmlProcessor.Mode={PlainText:0,Html:1};D2L.Sml.SmlToken=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_type=D2L.Sml.SmlTokenType.Text;this.m_isContainer=this.m_isOpen=true;this.m_text=""}});
D2L.Sml.SmlTokenizer=D2L.Class.extend({Construct:function(b){this.m_input=b?b:"";this.m_length=b?b.length:0;this.m_pos=0},GetText:function(b,c){return this.m_input.substring(b,c).replace(/\\(\\|\[|\])/g,"$1")},GetToken:function(){var b=new D2L.Sml.SmlToken,c=this.m_pos,e=0;if(this.m_pos>=this.m_length)b.m_type=D2L.Sml.SmlTokenType.EndOfInput;else if(this.m_input.charAt(this.m_pos)=="["){this.m_pos++;if(this.m_pos<this.m_length){if(this.m_input.charAt(this.m_pos)=="/"){b.m_isOpen=false;this.m_pos++}e=
this.m_pos;for(var f=1;this.m_pos<this.m_length;)switch(this.m_input.charAt(this.m_pos)){case "[":f++;this.m_pos++;break;case "]":f--;if(f==0){b.m_text=this.GetText(e,this.m_pos);this.ParseTag(b,b.m_text);this.m_pos++;return b}else{this.m_pos++;break}case "\\":this.m_pos+=2;break;default:this.m_pos++;break}}}else for(;this.m_pos<this.m_length;){e=this.m_input.charAt(this.m_pos);if(e=="[")break;else if(e=="\\")this.m_pos+=2;else this.m_pos++}e=this.m_pos>this.m_length?this.m_length:this.m_pos;b.m_text=
this.GetText(c,e);return b},IsDone:function(){return this.m_pos>=this.m_input.length},ParseTag:function(b,c){switch(c.charAt(0)){case "b":if(c=="b")b.m_type=D2L.Sml.SmlTokenType.Bold;else if(c=="br"){b.m_type=D2L.Sml.SmlTokenType.Break;b.m_isContainer=false}break;case "h":if(c.substring(0,4)=="help")b.m_type=D2L.Sml.SmlTokenType.Help;break;case "i":if(c=="i")b.m_type=D2L.Sml.SmlTokenType.Italic;else if(c=="info")b.m_type=D2L.Sml.SmlTokenType.Info;break;case "a":if(c=="alert")b.m_type=D2L.Sml.SmlTokenType.Alert;
else if(c.substring(0,4)=="abbr")b.m_type=D2L.Sml.SmlTokenType.Abbr;break;case "l":if(c=="light")b.m_type=D2L.Sml.SmlTokenType.Light;else if(c=="large")b.m_type=D2L.Sml.SmlTokenType.Large;else if(c=="larger")b.m_type=D2L.Sml.SmlTokenType.Larger;else if(c.substring(0,4)=="link")b.m_type=D2L.Sml.SmlTokenType.Link;break;case "c":if(c.substring(0,3)=="clr")b.m_type=D2L.Sml.SmlTokenType.Colour;break;case "u":if(c=="u")b.m_type=D2L.Sml.SmlTokenType.Underline;break;case "s":if(c=="small")b.m_type=D2L.Sml.SmlTokenType.Small;
else if(c=="smaller")b.m_type=D2L.Sml.SmlTokenType.Smaller;else if(c.substring(0,2)=="sp"){b.m_type=D2L.Sml.SmlTokenType.Space;b.m_isContainer=false}break;case "n":if(c=="normal")b.m_type=D2L.Sml.SmlTokenType.Normal;break;case "m":if(c=="medium")b.m_type=D2L.Sml.SmlTokenType.Medium;break;default:b.m_type=D2L.Sml.SmlTokenType.Unknown;b.m_isContainer=false;break}}});
D2L.Sml.SmlTokenType={Text:1,Bold:2,Italic:3,Underline:4,Light:5,Normal:6,Info:7,Alert:8,Break:9,Colour:10,Large:11,Larger:12,Small:13,Smaller:14,Space:15,Unknown:16,EndOfInput:17,Abbr:18,Medium:19,Help:20,Link:21};D2L.State={};D2L.State.StateScopeTypes={NoPersistence:0,OrgUnitSession:1,OrgUnitUser:2,User:3};
D2L.State.StateManager=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_stateScopes={};this.m_stateGroups=[];this.m_saveStateOnUnload=true;var b=this;UI.OnPageUnload().RegisterMethod(function(){b.SaveState()});UI.OnPageLoad().RegisterMethod(function(){var c=b.GetStateGroup("Search");c!==null&&c.SetIsActive(false)})},DeserializeMin:function(b){this.m_stateScopes=b.GetDictionaryMin();this.m_stateGroups=b.GetObjectArrayMin(D2L.State.StateGroup)},AddStateToNavInfo:function(b){if(!b.IgnoreState()){var c=
this.GenerateState(true,true);b.SetParam("d2l_stateScopes",c.Scopes);b.SetParam("d2l_stateGroups",c.Groups);b.SetParam("d2l_statePageId",UI.pageId);for(var e in c.State)b.SetParam("d2l_state_"+e,c.State[e])}},AddStateToForm:function(){var b=this.GenerateState(true,true),c=UI.GetForm(),e=function(h,k,j){var l=UI.GetById(h);if(!l){l=document.createElement("input");l.type="hidden";l.name=h;l.id=h;j.appendChild(l)}l.value=k};e("d2l_stateScopes",b.Scopes,c);e("d2l_stateGroups",b.Groups,c);e("d2l_statePageId",
UI.pageId,c);for(var f=0;f<c.childNodes.length;f++)if(c.childNodes[f].name!==undefined&&c.childNodes[f].name.indexOf("d2l_state_")==0){D2L.Util.Dom.Purge(c.childNodes[f]);c.removeChild(c.childNodes[f])}for(var g in b.State)e("d2l_state_"+g,b.State[g],c)},CreateStateGroup:function(b){var c=this.GetStateGroup(b);if(c===null){c=new D2L.State.StateGroup(b);this.m_stateGroups.push(c)}return c},GetStateGroup:function(b){b=b.toLowerCase();for(var c=0;c<this.m_stateGroups.length;c++)if(this.m_stateGroups[c].GetName()==
b)return this.m_stateGroups[c];return null},GenerateState:function(b,c){for(var e={Scopes:D2L.Serialization.JsonSerializer.Serialize(this.m_stateScopes),Groups:"",State:{}},f=[],g=0;g<this.m_stateGroups.length;g++){var h=false;if(b)for(var k in this.m_stateScopes){for(var j=0;j<this.m_stateScopes[k].length;j++)if(this.m_stateScopes[k][j]==this.m_stateGroups[g].GetName()){h=true;break}if(h)break}if(b&&h||c){f.push(this.m_stateGroups[g].GetName());e.State[this.m_stateGroups[g].GetName()]=D2L.Serialization.JsonSerializer.Serialize(this.m_stateGroups[g])}}if(f.length>
0)e.Groups=D2L.Serialization.JsonSerializer.Serialize(f);return e},SaveState:function(){if(this.m_saveStateOnUnload){var b=this.GenerateState(true,false);if(b.Groups.length>0){var c;c=UI.GetBrowserInfo().Type==D2L.UI.BrowserType.Safari||UI.GetBrowserInfo().Type==D2L.UI.BrowserType.Chrome?D2L.Rpc.CreateSynchronous("Save","/d2l/common/rpc/state/saveState.d2l"):D2L.Rpc.Create("Save",undefined,"/d2l/common/rpc/state/saveState.d2l");c.SetIncludeState(b);c.Call()}}},SetSaveStateOnUnload:function(b){this.m_saveStateOnUnload=
b}});
D2L.State.StateGroup=D2L.Class.extend({Construct:function(b){arguments.callee.$.Construct.call(this);if(b===undefined)b="";this.m_controls=[];this.m_isActive=true;this.m_isCleared=false;this.m_inactiveState="";this.m_name=b.toLowerCase()},DeserializeMin:function(b){this.m_name=b.GetMember().toLowerCase();this.m_controls=b.GetObjectArrayMin(D2L.State.StateControlInfo)},Serialize:function(b){b.AddMember("Name",this.GetName());this.m_isCleared||(this.IsActive()?b.AddMember("Controls",this.m_controls):b.AddMember("Controls",
this.m_inactiveState,undefined,true))},Clear:function(){this.m_isCleared=true},GetName:function(){return this.m_name},IsActive:function(){return this.m_isActive},SetIsActive:function(b){if(b!=this.m_isActive){this.m_inactiveState=b?"":D2L.Serialization.JsonSerializer.Serialize(this.m_controls);this.m_isActive=b}}});
D2L.State.StateControlInfo=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.ControlId=null;this.Key=this.StateType=this.Name=""},DeserializeMin:function(b){this.ControlId=b.GetObjectMin(D2L.Control.Id);this.StateType=b.GetMember();this.Key=b.GetMember();if(b.HasMember())this.Name=b.GetMember()},Serialize:function(b){b.AddMember("ControlId",this.ControlId);b.AddMember("StateType",this.StateType);b.AddMember("Key",this.Key);this.Name.length>0&&b.AddMember("Name",this.Name);
var c=UI.GetControl(this.ControlId.ID(),this.ControlId.SID());c!==undefined&&c!==null&&c.GetState&&b.AddMember("State",c,"GetState",false,this.StateType,this.Key)}});D2L.Style={};
D2L.Style.BorderInfo=D2L.Class.extend({Construct:function(b,c,e){if(b===undefined)b=D2L.Style.BorderStyle.None;if(c===undefined)c="#000000";if(e===undefined)e=0;this.m_style=b;this.m_colour=c;this.m_width=e},DeserializeMin:function(b){this.m_style=b.GetMember();this.m_colour=b.GetMember();this.m_width=b.GetMember()},GetColour:function(){return this.m_colour},GetStyle:function(){return this.m_style},GetWidth:function(){return this.m_width},SetColour:function(b){this.m_colour=b},SetStyle:function(b){this.m_style=
b},SetWidth:function(b){this.m_width=b},ToCss:function(){if(this.m_style==D2L.Style.BorderStyle.None||this.m_width<1||this.m_colour.length===0)return"none";else{var b="none";switch(this.m_style){case D2L.Style.BorderStyle.Hidden:b="hidden";break;case D2L.Style.BorderStyle.Dotted:b="dotted";break;case D2L.Style.BorderStyle.Dashed:b="dashed";break;case D2L.Style.BorderStyle.Solid:b="solid";break;case D2L.Style.BorderStyle.Double:b="double";break;case D2L.Style.BorderStyle.Groove:b="groove";break;case D2L.Style.BorderStyle.Ridge:b=
"ridge";break;case D2L.Style.BorderStyle.Inset:b="inset";break;case D2L.Style.BorderStyle.Outset:b="outset";break;default:b="none"}return this.m_width+"px "+b+" "+this.m_colour}}});D2L.Style.FontFace={Arial:1,Courier:2,Georgia:3,Times:4,Trebuchet:5,Verdana:6,Comic:7,Tahoma:8,UserPreference:9};D2L.Style.FontSize={XXLarge:5,XLarge:10,Large:20,Medium:30,Small:40,XSmall:50};D2L.Style.TextAlignment={Left:1,Middle:2,Right:3,Justify:4};D2L.Style.ImageRepeat={NoRepeat:1,RepeatY:2,RepeatX:3,RepeatBoth:4};
D2L.Style.ImagePosition={TopLeft:1,Top:2,TopRight:3,Left:4,Center:5,Right:6,BottomLeft:7,Bottom:8,BottomRight:9};D2L.Style.BorderPosition={All:1,Top:2,Right:3,Bottom:4,Left:5};D2L.Style.BorderStyle={None:1,Hidden:2,Dotted:3,Dashed:4,Solid:5,Double:6,Groove:7,Ridge:8,Inset:9,Outset:10};D2L.Style.BorderWidth={Thin:1,Medium:2,Thick:3};D2L.Style.PointFontSize={pt30:1,pt28:2,pt26:3,pt24:4,pt22:5,pt20:7,pt18:10,pt16:15,pt14:20,pt12:25,pt10:30,pt9:40,pt8:50};D2L.Style.Float={None:0,Left:1,Right:2};
D2L.Style.HorizontalAlignment={Left:0,Middle:1,Right:2};D2L.Style.AnimationMode={None:0,Slide:1,Fade:2};D2L.Style.WidthType={None:0,Em:1,Percent:2,Pixels:3};D2L.Animation={};D2L.Animation.Mode=D2L.Style.AnimationMode;D2L.Style.RelativeFontSizeManager=D2L.Class.extend({Construct:function(b){arguments.callee.$.Construct.call(this);this.m_fontSizes=b},ToDictionary:function(){return this.m_fontSizes},GetBaseFontSize:function(){return this.m_fontSizes.d2l_body*16}});D2L.Style.Measurement={};
D2L.Style.Measurement.Unit=D2L.Class.extend({Construct:function(b,c){arguments.callee.$.Construct.call(this);if(b===undefined)b=D2L.Style.Measurement.UnitType.Pixel;if(c===undefined)c=0;this.m_unitType=b;this.m_value=c;this.m_onChange=new D2L.EventHandler},Deserialize:function(b){this.m_unitType=b.GetMember("Type",D2L.Style.Measurement.UnitType.Pixel);this.m_value=b.GetMember("Val",0)},DeserializeMin:function(b){this.m_unitType=b.GetMember();this.m_value=b.GetMember()},Serialize:function(b){b.AddMember("Val",
this.m_value);b.AddMember("Type",this.m_unitType)},GetUnitType:function(){return this.m_unitType},GetValue:function(){return this.m_value},OnChange:function(){return this.m_onChange},SetUnitType:function(b){if(b!==this.m_unitType){this.m_unitType=b;this.OnChange().Trigger()}},SetValue:function(b){if(b!==this.m_value){this.m_value=b;this.OnChange().Trigger()}},ToCss:function(){var b="",c="";if(this.m_unitType==D2L.Style.Measurement.UnitType.Pixel){b=this.m_value.toString();c="px"}else if(this.m_unitType==
D2L.Style.Measurement.UnitType.Em){b=this.m_value.toString();c="em"}else if(this.m_unitType==D2L.Style.Measurement.UnitType.Percentage){b=this.m_value.toString();c="%"}else if(this.m_unitType==D2L.Style.Measurement.UnitType.Auto)c="auto";return b+c}});D2L.Style.Measurement.UnitType={Pixel:0,Em:1,Percentage:2,Wildcard:3,Auto:4};
D2L.Style.Spacing=D2L.Class.extend({Construct:function(b,c,e){arguments.callee.$.Construct.call(this);if(b===undefined)b=D2L.Style.Spacing.Type.Padding;if(c===undefined)c=D2L.Style.Spacing.UnitType.Pixel;if(e===undefined)e=0;this.m_spacingType=b;this.m_top=new D2L.Style.Spacing.Unit(c,e);this.m_right=new D2L.Style.Spacing.Unit(c,e);this.m_bottom=new D2L.Style.Spacing.Unit(c,e);this.m_left=new D2L.Style.Spacing.Unit(c,e);this.m_onChange=new D2L.EventHandler;this.m_ignoreChange=false;this.SetupOnChange()},
Deserialize:function(b){this.m_spacingType=b.GetMember("Type",D2L.Style.Spacing.Type.Padding);this.m_top=b.GetObject("Top",D2L.Style.Spacing.Unit);this.m_right=b.GetObject("Right",D2L.Style.Spacing.Unit);this.m_bottom=b.GetObject("Bottom",D2L.Style.Spacing.Unit);this.m_left=b.GetObject("Left",D2L.Style.Spacing.Unit);this.SetupOnChange()},DeserializeMin:function(b){this.m_spacingType=b.GetMember();this.m_top=b.GetObjectMin(D2L.Style.Spacing.Unit);this.m_right=b.GetObjectMin(D2L.Style.Spacing.Unit);
this.m_bottom=b.GetObjectMin(D2L.Style.Spacing.Unit);this.m_left=b.GetObjectMin(D2L.Style.Spacing.Unit);this.SetupOnChange()},Serialize:function(b){b.AddMember("Type",this.m_spacingType);b.AddMember("Top",this.m_top);b.AddMember("Right",this.m_right);b.AddMember("Bottom",this.m_bottom);b.AddMember("Left",this.m_left)},SetupOnChange:function(){var b=this,c=function(){b.m_ignoreChange||b.m_onChange.Trigger()};this.m_top.OnChange().RegisterMethod(c);this.m_right.OnChange().RegisterMethod(c);this.m_bottom.OnChange().RegisterMethod(c);
this.m_left.OnChange().RegisterMethod(c)},GetTop:function(){return this.m_top},GetRight:function(){return this.m_right},GetBottom:function(){return this.m_bottom},GetLeft:function(){return this.m_left},GetType:function(){return this.m_spacingType},OnChange:function(){return this.m_onChange},SetAllValues:function(b){this.m_ignoreChange=true;this.GetTop().SetValue(b);this.GetRight().SetValue(b);this.GetBottom().SetValue(b);this.GetLeft().SetValue(b);this.m_ignoreChange=false;this.OnChange().Trigger()},
SetAllUnitTypes:function(b){this.m_ignoreChange=true;this.GetTop().SetUnitType(b);this.GetRight().SetUnitType(b);this.GetBottom().SetUnitType(b);this.GetLeft().SetUnitType(b);this.m_ignoreChange=false;this.OnChange().Trigger()},ToCss:function(){return this.m_top.ToCss()+" "+this.m_right.ToCss()+" "+this.m_bottom.ToCss()+" "+this.m_left.ToCss()},ApplyToDomNode:function(b){if(this.m_spacingType==D2L.Style.Spacing.Type.Spacing)b.style.margin=this.ToCss();else b.style.padding=this.ToCss()}});
D2L.Style.Spacing.Unit=D2L.Style.Measurement.Unit;D2L.Style.Spacing.UnitType=D2L.Style.Measurement.UnitType;D2L.Style.Spacing.Type={Spacing:0,Padding:1};D2L.Style.Utility={};D2L.Style.Utility.PixelToEm=function(b,c){return Math.round(c/b*1E4)/1E4};D2L.Style.Utility.EmToPixel=function(b,c){return b*c};
D2L.Style.Utility.FontFaceToCss=function(b){var c="verdana, sans-serif";switch(b){case D2L.Style.FontFace.UserPreference:c="inherit";break;case D2L.Style.FontFace.Arial:c="arial, sans-serif";break;case D2L.Style.FontFace.Courier:c="'courier new', sans-serif";break;case D2L.Style.FontFace.Georgia:c="georgia, serif";break;case D2L.Style.FontFace.Times:c="'times new roman', serif";break;case D2L.Style.FontFace.Trebuchet:c="'trebuchet ms', sans-serif";break;case D2L.Style.FontFace.Comic:c="'comic sans ms', sans-serif";
break;case D2L.Style.FontFace.Verdana:c="verdana, sans-serif";break;case D2L.Style.FontFace.Tahoma:c="tahoma, sans-serif";break}return c};D2L.Style.Utility.ImageRepeatToCss=function(b){return b==D2L.Style.ImageRepeat.NoRepeat?"no-repeat":b==D2L.Style.ImageRepeat.RepeatY?"repeat-y":b==D2L.Style.ImageRepeat.RepeatX?"repeat-x":"repeat"};
D2L.Style.Utility.BorderToCss=function(b,c,e){var f="solid";if(b==D2L.Style.BorderStyle.None)return"none";else if(b==D2L.Style.BorderStyle.Dashed)f="dashed";else if(b==D2L.Style.BorderStyle.Dotted)f="dotted";else if(b==D2L.Style.BorderStyle.Double)f="double";b="1px";if(c==D2L.Style.BorderWidth.Thick)b="3px";else if(c==D2L.Style.BorderWidth.Medium)b="2px";if(e!="transparent")e="#"+e;return b+" "+f+" "+e};
D2L.Style.Utility.TextAlignToCss=function(b){var c="left";if(b==D2L.Style.TextAlignment.Middle)c="center";else if(b==D2L.Style.TextAlignment.Right)c="right";else if(b==D2L.Style.TextAlignment.Justify)c="justify";return c};D2L.Style.Utility.CssToTextAlign=function(b){var c=D2L.Style.TextAlignment.Left;if(b=="center")c=D2L.Style.TextAlignment.Middle;else if(b=="right")c=D2L.Style.TextAlignment.Right;else if(b=="justify")c=D2L.Style.TextAlignment.Justify;return c};
D2L.Style.Utility.ParseMeasurementUnit=function(b){b=b.toLowerCase();var c,e,f,g=b.indexOf("%");if(g>-1){e=D2L.Style.Measurement.UnitType.Percentage;f=g}g=b.indexOf("px");if(g>-1){e=D2L.Style.Measurement.UnitType.Px;f=g}g=b.indexOf("em");if(g>-1){e=D2L.Style.Measurement.UnitType.Em;f=g}g=b.indexOf("*");if(g>-1){e=D2L.Style.Measurement.UnitType.Wildcard;f=g}g=b.indexOf("auto");if(g>-1){e=D2L.Style.Measurement.UnitType.Auto;f=g}if(f>-1){c=b.substring(0,f);if(c!="")c=parseFloat(c);else if(e==D2L.Style.Measurement.UnitType.Wildcard)c=
1}return new D2L.Style.Measurement.Unit(e,c)};D2L.LP.Text={};
D2L.LP.Text.IText=D2L.Class.extend({Construct:function(b){if(b===undefined||b===null)b="";if(typeof b=="number")b=b.toString();arguments.callee.$.Construct.call(this);this.ClassName="D2L.LP.Text.IText";this.m_characterLimit=-1;this.m_value=b;this.m_cleanedValue=null;this.m_subjectTwo=this.m_subject="";this.m_isLangTerm=this.m_isHtml=false;this.m_isTrusted=true;this.m_isLegacy=false;this.m_replace=[];for(var c=1;c<arguments.length;c++)this.m_replace.push(arguments[c])},AssignHtml:function(b,c){this.GetHtml().Register(function(e){b[c]=
e})},AssignText:function(b,c,e){if(e===undefined)e=false;this.GetText().Register(function(f){if(e)f=D2L.Util.Html.Encode(f);b[c]=f})},DoReplacements:function(b,c){var e=new D2L.Util.DelayedReturn,f=this,g=function(h){if(h<f.m_replace.length)if(f.m_replace[h]!==undefined&&f.m_replace[h]!==null&&f.m_replace[h].GetHtml)f.m_replace[h].GetHtml().Register(function(k){b=b.replace("["+h+"]",k);g(++h)});else{b=c?b.replace("["+h+"]",D2L.Util.Html.Encode(f.m_replace[h])):b.replace("["+h+"]",f.m_replace[h]);
g(++h)}else e.Trigger(b)};g(0);return e},GetValueHelper:function(b,c,e){var f=new D2L.Util.DelayedReturn,g=this,h=function(k){if(g.m_isLegacy){if(b==D2L.Sml.SmlProcessor.Mode.PlainText)k=D2L.Util.Html.Decode(k)}else if(g.m_isTrusted&&k.indexOf("[")!=-1)k=UI.LanguageManager.SmlProcessor.Process(k,b);else if(b==D2L.Sml.SmlProcessor.Mode.Html&&!g.m_isHtml)k=D2L.Util.Html.Encode(k);else if(b==D2L.Sml.SmlProcessor.Mode.PlainText&&g.m_isHtml)k=k.stripHtml();if(!this.m_isHtml&&g.m_characterLimit>-1){if(b==
D2L.Sml.SmlProcessor.Mode.Html)k=k.stripHtml();k=UI.GetCulture().LimitChars(k,g.m_characterLimit)}var j=function(l){g.m_isLangTerm&&g.m_replace.length==0&&UI.GetD2LTextCacheManager().Get(g,b)===null&&UI.GetD2LTextCacheManager().Add(g,b,l);if(g.m_isTrusted){if(g.m_subject.length>0){if(l.indexOf("{subject}")!=-1)l=l.replace("{subject}",g.m_subject);if(l.indexOf("{subjectone}")!=-1)l=l.replace("{subjectone}",g.m_subject)}if(g.m_subjectTwo.length>0&&l.indexOf("{subjecttwo}")!=-1)l=l.replace("{subjecttwo}",
g.m_subjectTwo);l=l.replace("{subject}","");l=l.replace("{subjectone}","");l=l.replace("{subjecttwo}","")}f.Trigger(l);c!==undefined&&c.call(c,l)};g.m_isTrusted&&g.m_replace.length>0?g.DoReplacements(k,!e).Register(function(l){j(l)}):j(k)};if(this.m_isLangTerm)this.m_value!==undefined?h(this.m_value):UI.LanguageManager.GetTerm(this.m_name).Register(function(k){g.m_value=k;h(k)});else if(this.m_isHtml)this.m_cleanedValue!==null?h(this.m_cleanedValue):D2L.LP.Text.HtmlText.Filter(this.m_value).Register(function(k){g.m_cleanedValue=
k.m_cleanedValue;h(k.m_cleanedValue)});else h(this.m_value);return f},GetHtml:function(){var b=UI.GetD2LTextCacheManager().Get(this,D2L.Sml.SmlProcessor.Mode.Html);return b===null?this.GetValueHelper(D2L.Sml.SmlProcessor.Mode.Html,undefined,false):new D2L.Util.DelayedReturn(b)},GetPlainText:function(b){var c=UI.GetD2LTextCacheManager().Get(this,D2L.Sml.SmlProcessor.Mode.PlainText);if(c===null)return this.GetValueHelper(D2L.Sml.SmlProcessor.Mode.PlainText,b,true);else{b!==undefined&&b.call(b,c);return new D2L.Util.DelayedReturn(c)}},
GetSubject:function(){return this.m_subject},GetSubjectTwo:function(){return this.m_subject},GetText:function(b){return this.GetPlainText(b)},Deserialize:function(b){this.m_isHtml=b.GetMember("IsHtml",false);this.m_isTrusted=b.GetMember("IsTrusted",true);this.m_isLangTerm=b.GetMember("IsLangTerm",false);this.m_name=b.GetMember("TermName","");this.m_value=b.GetMember("Value","");if(this.m_isHtml)this.m_cleanedValue=this.m_value;this.m_subject=b.GetMember("Subject","");this.m_replace=b.GetMember("Replace",
[])},DeserializeMin:function(b){this.m_isHtml=b.GetBoolean();this.m_isTrusted=b.GetBoolean();this.m_isLangTerm=b.GetBoolean();this.m_value=b.GetMember();if(this.m_isHtml)this.m_cleanedValue=this.m_value;this.m_subject=b.GetMember();this.m_replace=b.GetMember()},Serialize:function(b){b.AddMember("ClassName",this.ClassName);b.AddMember("IsHtml",this.m_isHtml);b.AddMember("IsTrusted",this.m_isTrusted);b.AddMember("IsLangTerm",this.m_isLangTerm);this.m_isLangTerm?b.AddMember("Value",this.m_name):b.AddMember("Value",
this.m_value);b.AddMember("Subject",this.GetSubject());b.AddMember("Replace",this.m_replace)},SetCharacterLimit:function(b){this.m_characterLimit=b},SetReplace:function(){this.m_replace=[];for(var b=0;b<arguments.length;b++)this.m_replace.push(arguments[b])},SetSubject:function(b){this.m_subject=b},SetSubjectTwo:function(b){this.m_subjectTwo=b}});
D2L.LP.Text.IText.Normalize=function(b,c,e,f){if(b!==undefined&&b!==null){if(typeof b=="number")b=b.toString();if(typeof b=="string"){c!==undefined&&UI.GetMessageArea().AddWarningMessage(new D2L.LP.Text.SmlText('[0].[1]() expects parameter "[2]" to be of type D2L.LP.Text.IText.',c,e,f),true);b=new D2L.LP.Text.IText(b);b.m_isLegacy=true;return b}}else return new D2L.LP.Text.PlainText("");return b};D2L.Text=D2L.LP.Text.IText;
D2L.LP.Text.Cache=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_cacheArray=[];this.m_cacheMaxSize=100},Add:function(b,c,e){b=new D2L.LP.Text.CacheToken(b,c,e);this.m_cacheArray.length<this.m_cacheMaxSize&&this.m_cacheArray.push(b)},Get:function(b,c){for(var e=0;e<this.m_cacheArray.length;e++){var f=this.m_cacheArray[e];if(f.GetTextObject().m_isLangTerm==b.m_isLangTerm&&f.GetMode()==c)if(b.m_isLangTerm&&f.GetTextObject().m_name==b.m_name)if(f.GetTextObject().m_replace.length==
b.m_replace.length){for(var g=true,h=0;h<f.GetTextObject().m_replace.length;h++)if(f.GetTextObject().m_replace[h]!=b.m_replace[h]){g=false;break}if(g){c=f.GetCachedValue();return c=b.m_subject.length>0?c.replace("{subject}",b.m_subject):c.replace("{subject}","")}}}return null}});
D2L.LP.Text.CacheToken=D2L.Class.extend({Construct:function(b,c,e){arguments.callee.$.Construct.call(this);this.m_textObj=b;this.m_mode=c;this.m_cachedValue=e},GetMode:function(){return this.m_mode},GetTextObject:function(){return this.m_textObj},GetCachedValue:function(){return this.m_cachedValue}});
D2L.LP.Text.HtmlText=D2L.LP.Text.IText.extend({Construct:function(b,c){if(c==undefined)c=true;arguments.callee.$.Construct.call(this,b);this.m_isTrusted=false;this.m_isHtml=true;if(!c)this.m_cleanedValue=b}});D2L.LP.Text.HtmlText.Filter=function(b){var c=new D2L.Util.DelayedReturn;D2L.Rpc.Create("Filter",function(e){e.GetType()==D2L.Rpc.ResponseType.Success?c.Trigger(e.GetResult(D2L.LP.Text.HtmlText)):c.Trigger(new D2L.LP.Text.HtmlText(""))},"/d2l/common/rpc/text/text.d2l").Call(b);return c};
D2L.LP.Text.LangTerm=D2L.LP.Text.IText.extend({Construct:function(b){arguments.callee.$.Construct.call(this,undefined);this.m_name=b.toLowerCase();this.m_isLangTerm=true;this.m_value=undefined;for(var c=1;c<arguments.length;c++)this.m_replace.push(arguments[c])}});D2L.LP.Text.LangTerm.AssignHtml=function(b,c,e){(new D2L.LP.Text.LangTerm(b)).AssignHtml(c,e)};D2L.LP.Text.LangTerm.AssignText=function(b,c,e,f){(new D2L.LP.Text.LangTerm(b)).AssignText(c,e,f)};D2L.Language.Term=D2L.LP.Text.LangTerm;
D2L.LP.Text.PlainText=D2L.LP.Text.IText.extend({Construct:function(b){arguments.callee.$.Construct.call(this,b);this.m_isTrusted=false}});D2L.LP.Text.SmlText=D2L.LP.Text.IText.extend({Construct:function(b){arguments.callee.$.Construct.call(this,b);for(var c=1;c<arguments.length;c++)this.m_replace.push(arguments[c])}});
D2L.Control.Band=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_text=null},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_text=new D2L.LP.Text.PlainText(YAHOO.util.Dom.getFirstChild(this.GetDomNode()).innerHTML)},SetText:function(b){if(b){this.m_text=D2L.LP.Text.IText.Normalize(b,"D2L.Control.Band","SetText","text");if(this.GetDomNode()&&YAHOO.util.Dom.getFirstChild(this.GetDomNode())){var c=this;this.m_text.GetText().Register(function(e){if(e.length>
0)if(YAHOO.util.Dom.getFirstChild(c.GetDomNode()).firstChild)YAHOO.util.Dom.getFirstChild(c.GetDomNode()).firstChild.nodeValue=e;else YAHOO.util.Dom.getFirstChild(c.GetDomNode()).appendChild(c.CreateTextNode(e))})}}}});D2L.Control.Behaviour={};
D2L.Control.Behaviour.GetContainer=function(b){var c=b.CreateElement("div");c.className="dbvr";if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE)c.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=50)";else c.style.opacity="0.5";c.style.left=D2L.Util.Dom.FindPosX(b.IDomNode)+"px";c.style.top=D2L.Util.Dom.FindPosY(b.IDomNode)+"px";c.style.width=b.IDomNode.offsetWidth+"px";c.style.height=b.IDomNode.offsetHeight+"px";c.style.zIndex=b.GetWindow().UI.GetZIndex();b.GetWindow().UI.GetById("d2l_body").appendChild(c);
return c};
D2L.Control.Behaviour.Drag=function(b,c){var e=c.GetWindow(),f=e.UI,g=f.GetCursorX(e,b),h=f.GetCursorY(e,b),k=c.GetPosX(),j=c.GetPosY(),l=k,o=j,p=Math.max(f.GetPageWidth(e),f.GetWindowWidth(e))-c.GetWidth()-10,r=Math.max(f.GetPageHeight(e),f.GetWindowHeight(e))-c.GetHeight()-10,s=D2L.Control.Behaviour.GetContainer(c);s.style.cursor="move";c.SetPos(c.GetWidth()*-1-100,c.GetHeight()*-1-100);var v=function(w){var A=f.GetCursorX(e,w),C=f.GetCursorY(e,w);l=k+A-g;o=j+C-h;if(l<=0)l=0;if(l>p)l=p;if(o<=0)o=
0;if(o>r)o=r;s.style.left=l+"px";s.style.top=o+"px";if(e.event){e.event.cancelBubble=true;e.event.returnValue=false}else w.preventDefault()},u=function(){D2L.Util.Dom.Purge(s);s.parentNode.removeChild(s);c.SetPos(l,o);if(e.document.detachEvent){e.document.detachEvent("onmousemove",v);e.document.detachEvent("onmouseup",u)}else if(e.document.removeEventListener){e.document.removeEventListener("mousemove",v,true);e.document.removeEventListener("mouseup",u,true)}};if(e.document.attachEvent){e.document.attachEvent("onmousemove",
v);e.document.attachEvent("onmouseup",u);e.event.cancelBubble=true;e.event.returnValue=false}else if(e.document.addEventListener){e.document.addEventListener("mousemove",v,true);e.document.addEventListener("mouseup",u,true);b.preventDefault()}};D2L.Control.Behaviour.Drag.Install=function(b,c){b.AttachObject(c,"onmousedown",function(e){b.GetWindow().D2L.Control.Behaviour.Drag(e,b)})};
D2L.Control.Behaviour.Resize=function(b,c,e,f){var g=c.GetWindow(),h=g.UI,k=h.GetCursorX(g,b),j=h.GetCursorY(g,b),l=c.GetWidth(),o=c.GetHeight(),p=c.GetPosX(),r=c.GetPosY(),s=l,v=o,u=h.GetScrollLeft()+h.GetWindowWidth()-c.GetPosX(),w=h.GetScrollTop()+h.GetWindowHeight()-c.GetPosY();if(Culture.IsRightToLeft())u=c.GetPosX()+l;var A=D2L.Control.Behaviour.GetContainer(c);if(Culture.IsRightToLeft()){A.style.cursor="ne-resize";A.style.left=p+"px"}else A.style.cursor="nw-resize";c.SetPos(c.GetWidth()*-1-
100,c.GetHeight()*-1-100);var C=function(L){var N=h.GetCursorX(g,L),I=h.GetCursorY(g,L);if(Culture.IsRightToLeft()){s=l-N+k;if(s>u)s=u;if(s<e)s=e;v=o+(I-j);if(v>w)v=w;if(v<f)v=f;A.style.left=p-(s-l)+"px"}else{s=l+N-k;if(s>u)s=u;if(s<e)s=e;v=o+(I-j);if(v>w)v=w;if(v<f)v=f}A.style.width=s+"px";A.style.height=v+"px";if(g.event){g.event.cancelBubble=true;g.event.returnValue=false}else L.preventDefault()},G=function(){D2L.Util.Dom.Purge(A);A.parentNode.removeChild(A);c.SetSize(s,v);Culture.IsRightToLeft()?
c.SetPos(p-(s-l),r):c.SetPos(p,r);if(g.document.detachEvent){g.document.detachEvent("onmousemove",C);g.document.detachEvent("onmouseup",G)}else if(g.document.removeEventListener){g.document.removeEventListener("mousemove",C,true);g.document.removeEventListener("mouseup",G,true)}};if(g.document.attachEvent){g.document.attachEvent("onmousemove",C);g.document.attachEvent("onmouseup",G);g.event.cancelBubble=true;g.event.returnValue=false}else if(g.document.addEventListener){g.document.addEventListener("mousemove",
C,true);g.document.addEventListener("mouseup",G,true);b.preventDefault()}};D2L.Control.Behaviour.Resize.Install=function(b,c,e,f){b.AttachObject(c,"onmousedown",function(g){b.GetWindow().D2L.Control.Behaviour.Resize(g,b,e,f)})};
D2L.Control.Checkbox=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_isChecked=false;this.m_isEnabled=true;this.m_value="True";this.m_text=null;this.m_showText=true;this.m_textLabel=null;this.m_fieldName="";this.m_onClick=function(){};var b=this;this.OnDomInsertion.RegisterMethod(function(){b.SetText(b.GetText())})},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);this.m_text===null&&UI.GetMessageArea().AddWarningMessage(new D2L.LP.Text.PlainText("Checkbox control missing associated label. Use SetText() and SetShowText()."),
true);this.SetDomNode(this.CreateElement("input"));this.AttachObject(this.IDomNode,"ID2L",this);this.GetDomNode().id=this.GetMappedId();if(this.GetFieldName().length>0)this.GetDomNode().name=this.GetFieldName();else this.GetDomNode().name=this.GetMappedId();this.GetDomNode().type="checkbox";this.GetDomNode().className="d_chb";var b=this;this.AttachObject(this.GetDomNode(),"onclick",function(c){b.IsEnabled()&&b.m_onClick.call(b);D2L.Util.Dom.CancelBubble(c)});this.SetValue(this.m_value);this.SetIsChecked(this.m_isChecked);
this.SetIsEnabled(this.IsEnabled());this.SetText(this.GetText())}},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);var c=b.GetBoolean();this.m_showText=b.GetBoolean();if(b.HasMember())this.GetDomNode().ID2L=null;if(c)if(this.m_showText){this.m_textLabel=this.GetDomNode().nextSibling;this.m_text=new D2L.LP.Text.PlainText(this.m_textLabel.innerHTML)}else this.m_text=new D2L.LP.Text.PlainText(this.GetDomNode().title);this.m_isChecked=this.GetDomNode().checked;this.m_isEnabled=
!this.GetDomNode().disabled;this.m_value=this.GetDomNode().value},Focus:function(){this.IsRendered()&&this.GetDomNode().focus()},GetFieldName:function(){return this.m_fieldName},GetMultiEditValue:function(){return this.IsChecked()?"1":"0"},GetText:function(){return this.m_text},GetValue:function(){return this.IsRendered()?this.GetDomNode().value:this.m_value},GetState:function(b){b.AddMember("IsChecked",this.IsChecked());b.AddMember("Val",this.GetValue())},IsChecked:function(){return this.IsRendered()?
this.GetDomNode().checked:this.m_isChecked},IsEnabled:function(){return this.m_isEnabled},SetFieldName:function(b){this.m_fieldName=b},SetIsChecked:function(b){this.m_isChecked=b;if(this.IsRendered()){if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE&&UI.GetBrowserInfo().MajorVersion<8)this.GetDomNode().defaultChecked=b;this.GetDomNode().checked=b}},SetIsEnabled:function(b){this.m_isEnabled=b;if(this.IsRendered()){if(this.m_textLabel!==null)this.m_textLabel.className=this.m_isEnabled?"":"d_rdo_d";
this.GetDomNode().disabled=!this.m_isEnabled}},SetOnClick:function(b){this.m_onClick=b},SetShowText:function(b){if(b!=this.m_showText&&this.IsRendered()){if(this.m_textLabel!==null){D2L.Util.Dom.Purge(this.m_textLabel);this.m_textLabel.parentNode.removeChild(this.m_textLabel);this.m_textLabel=null}this.GetDomNode().title=""}this.m_showText=b;this.SetText(this.GetText())},SetText:function(b){this.m_text=b;if(this.IsRendered()&&this.m_text!==null)if(this.ShowText()){if(this.m_textLabel===null&&this.GetDomNode().parentNode){this.m_textLabel=
this.CreateElement("label");this.m_textLabel.className=this.m_isEnabled?"":"d_rdo_d";this.m_textLabel.htmlFor=this.GetMappedId();this.GetDomNode().nextSibling?this.GetDomNode().parentNode.insertBefore(this.m_textLabel,this.GetDomNode().nextSibling):this.GetDomNode().parentNode.appendChild(this.m_textLabel)}else if(this.m_textLabel!==null)for(;this.m_textLabel.childNodes.length>0;)this.m_textLabel.removeChild(this.m_textLabel.firstChild);this.m_textLabel!==null&&this.m_textLabel.appendChild(this.CreateTextNode(this.m_text))}else this.m_text.AssignText(this.GetDomNode(),
"title")},SetValue:function(b){this.m_value=b;if(this.IsRendered())this.GetDomNode().value=b},ShowText:function(){return this.m_showText}});D2L.Control.ClearFloat=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this)},BuildDom:function(){if(!this.IsRendered())this.SetDomNode(this.GetUI().CreateElement("div")).className="clear"}});
D2L.Control.ContextMenuItemList=D2L.Control.Container.Floating.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_domDrop=null;this.m_expandedItemIndex=this.m_selectedItemIndex=-1;this.m_isRendered=false;var b=new D2L.Style.BorderInfo;b.SetWidth(1);b.SetStyle(D2L.Style.BorderStyle.Solid);b.SetColour("#aaaaaa");this.SetWidth(D2L.Control.ContextMenuItemList.WIDTH);this.SetBorder(b);this.SetHasAutoHide(true);this.SetAnimationMode(D2L.Style.AnimationMode.Slide);var c=this;this.IsDisplayedChangeEvent().RegisterMethod(function(e){e||
c.SelectItemIndex(-1,false)})},Deserialize:function(b){b=b.GetObjectArray("Items",D2L.Control.ContextMenuItem);for(var c=0;c<b.length;c++)this.AppendChild(b[c])},DeserializeMin:function(b){b=b.GetObjectArrayMin(D2L.Control.ContextMenuItem);for(var c=0;c<b.length;c++)b[c].IntegrateChild(this)},GetParent:function(){for(var b=this;b.Parent()!==null;)b=b.Parent();return b},IntegrateControl:function(){},IntegrateControlMin:function(b){this.DeserializeMin(b)},Show:function(b){this.BuildDom_Helper();b.id!==
undefined&&b.id.length>0&&D2L.Util.Aria.SetAttribute(this.GetDomNode(),"labelledby",b.id);arguments.callee.$.Show.call(this,b)},BuildDom_Helper:function(){if(!this.m_isRendered){this.BuildDom();var b=this.GetDomNode();b.tabIndex=-1;D2L.Util.Aria.SetRole(b,"menu");this.m_domDrop=this.CreateElement("ul");this.m_domDrop.className="dcm";D2L.Util.Aria.SetRole(this.m_domDrop,"presentation");this.ChildrenDomNode().appendChild(this.m_domDrop);for(b=0;b<this.Children().length;b++)b>0&&this.Children().length>
b&&this.Children()[b-1].HasSeparator()&&this.Children()[b-1].SetShowSeparator(true);for(b=0;b<this.Children().length;b++)this.BuildDom_Item(this.Children()[b]);this.m_isRendered=true}},BuildDom_Item:function(b){var c=this,e=UI.GetUniqueHtmlId(),f=this.CreateElement("li");D2L.Util.Aria.SetRole(f,"presentation");f.className=b.Children().length>0?"dcm_c":"dcm_i";var g=this.CreateElement("a");g.tabIndex=-1;D2L.Util.Aria.SetRole(g,"menuitem");D2L.Util.Aria.SetAttribute(g,"labelledby",e);b.Children().length>
0&&D2L.Util.Aria.SetAttribute(g,"haspopup","true");g.id=UI.GetUniqueHtmlId();f.appendChild(g);if(this.GetWidth()!==null)g.style.width=this.GetWidth()-11+"px";var h=this.CreateElement("span");h.className="dcm_i1";g.appendChild(h);var k=this.CreateElement("span");k.id=e;k.className="dcm_i2";g.appendChild(k);var j=null;e=this.CreateElement("div");e.className="clear";g.appendChild(e);if(b.HasSeparator()){e=this.CreateElement("div");D2L.Util.Aria.SetRole(e,"separator");e.className="dcm_s";f.appendChild(e);
e.style.display=b.m_showSeparator?"block":"none"}var l=function(u){if(u!==null){if(j===null){j=c.CreateElement("img");f.firstChild.firstChild.appendChild(j)}j!==null&&u.Assign(j)}},o=function(u){var w="dcm_a";if(u)D2L.Util.Aria.SetAttribute(g,"disabled","false");else{w+=" dcm_ad";D2L.Util.Aria.SetAttribute(g,"disabled","true")}g.className=w;w=b.m_img;if(!u&&b.m_imgDisabled!==null)w=b.m_imgDisabled;l(w)},p=function(u){if(u!==null){for(;k.firstChild;)k.removeChild(k.firstChild);k.appendChild(c.GetUI().CreateTextNode(u))}},
r=function(u){f.style.display=u?"list-item":"none"};o(b.IsEnabled());p(b.m_text);r(b.ItemIsDisplayed());var s=function(u,w){D2L.Util.Dom.CancelBubble(u);c.SelectItemIndex(c.GetItemIndex(b),w)},v=function(u){D2L.Util.Dom.CancelBubble(u);c.m_expandedItemIndex!==c.GetItemIndex(b)&&c.SelectItemIndex(-1,true)};b.ItemIsDisplayedChangeEvent().RegisterMethod(function(u){r(u)});b.TextChangeEvent().RegisterMethod(function(u){p(u)});b.ImageChangeEvent().RegisterMethod(function(u){l(u)});b.IsEnabledChangeEvent().RegisterMethod(function(u){o(u)});
this.AttachObject(g,"onmouseover",function(u){s(u,true)});this.AttachObject(g,"onmouseout",function(u){v(u)});this.AttachObject(g,"onfocus",function(u){s(u,false)});this.AttachObject(g,"onblur",function(u){v(u)});this.AttachObject(g,"onclick",function(u){D2L.Util.Dom.CancelBubble(u);if(b.IsEnabled())b.Children().length===0?c.ClickItemIndex(c.GetItemIndex(b)):c.ExpandItemIndex(c.GetItemIndex(b),false);return false});this.m_domDrop.appendChild(f)},AddItem:function(b){this.AppendChild(b);this.m_isRendered==
true&&this.BuildDom_Item(b)},AddItemAtIndex:function(b,c){this.m_children.splice(c,0,b);if(this.m_isRendered){this.BuildDom_Item(b);this.m_domDrop.insertBefore(this.m_domDrop.childNodes[this.Children().length-1],this.m_domDrop.childNodes[c])}},AddSeparator:function(){this.Children().length>0&&this.Children()[this.Children().length-1].SetHasSeparator(true)},Focus:function(){this.m_expandedItemIndex>0&&this.SelectItemIndex(this.m_expandedItemIndex,false)},GetExpandedStructure:function(){for(var b=this;;){for(var c=
0;c<b.Children().length;c++)if(b.Children()[c].IsDisplayed()){b=b.Children()[c];break}if(c===b.Children().length)break}return b},GetItem:function(b){for(var c=0;c<this.Children().length;c++)if(this.Children()[c].GetKey()==b)return this.Children()[c];return null},GetSelectedItem:function(){if(this.m_selectedItemIndex>-1)return this.Children()[this.m_selectedItemIndex];return null},GetItemIndex:function(b){for(var c=0;c<this.Children().length;c++)if(this.Children()[c]==b)return c;return-1},ClickItemIndex:function(b){var c=
this.GetParent(),e=function(f){for(var g=0;g<f.Children().length;g++)e(f.Children()[g]);f.Hide()};e(c);c.m_opener!==null&&c.m_opener.Focus();if(b>-1){b=this.Children()[b];b.ClickEvent().Trigger(b);c.SelectItemEvent().Trigger(b)}},ExpandItemIndex:function(b,c){var e=this.Children()[b];if(e.IsEnabled()&&e.ItemIsDisplayed()){this.m_expandedItemIndex=b;if(!e.IsDisplayed()){var f=D2L.Util.Dom.FindPosXY(this.m_domDrop),g=this.GetUI().GetWindowWidth(),h=f[0]+this.m_domDrop.offsetWidth-2,k=f[1]+this.m_domDrop.childNodes[b].offsetTop-
1,j=D2L.Style.AnimationMode.Slide;if(g-h<D2L.Control.ContextMenuItemList.WIDTH){h=f[0]-D2L.Control.ContextMenuItemList.WIDTH;j=D2L.Style.AnimationMode.None}e.SetAnimationMode(j);e.SetPosition(h,k);e.Show(this.m_domDrop.childNodes[b].firstChild);c&&setTimeout(function(){e.SelectItemIndex(0,false)})}}},RemoveItem:function(b){var c=this.GetItemIndex(b);if(b&&c>=0){this.Children().splice(c,1);this.m_isRendered==true&&this.m_domDrop.removeChild(this.m_domDrop.childNodes[c])}},SelectItemIndex:function(b,
c){if(!(b>=this.Children().length)){var e=this.Children()[b],f=this.GetSelectedItem();if(b!=this.m_selectedItemIndex&&f!==null){this.m_domDrop.childNodes[this.m_selectedItemIndex].firstChild.className=f.IsEnabled()?"dcm_a":"dcm_a dcm_ad";this.m_selectedItemIndex=-1}var g=this;if(b!=this.m_expandedItemIndex&&this.m_expandedItemIndex>-1){var h=this.m_expandedItemIndex;setTimeout(function(){g.Children()[h].Hide()},300);this.m_expandedItemIndex=-1}if(b>-1){f=this.m_domDrop.childNodes[b].firstChild;f.className=
e.IsEnabled()?"dcm_a dcm_ah":"dcm_a dcm_adh";f.focus();c&&e.Children().length>0&&setTimeout(function(){g.m_selectedItemIndex==b&&g.ExpandItemIndex(b,false)},400)}this.m_selectedItemIndex=b}}});D2L.Control.ContextMenuItemList.WIDTH=190;
D2L.Control.ContextMenu=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_placeHolder=this.m_structure=null},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);var c=b.GetObjectMin(D2L.Control.Id),e=b.GetObjectMin(D2L.Control.Id);this.m_structure=UI.GetControl(c.ID(),c.SID());this.m_placeHolder=UI.GetControl(e.ID(),e.SID())},AppendChild:function(b){return this.m_structure.AppendChild(b)},AppendSeparator:function(){this.m_structure.AppendSeparator()},
Expand:function(){},Collapse:function(){},IsExpanded:function(){return false},SetAlt:function(b){this.m_placeHolder.SetAlt(b)},SetSubject:function(b){this.m_placeHolder.SetSubject(new D2L.LP.Text.PlainText(b))},ToggleExpanded:function(){}});
D2L.Control.ContextMenuItem=D2L.Control.ContextMenuItemList.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_hasSeparator=false;this.m_text=this.m_imgDisabled=this.m_img=null;this.m_onClick=function(){};this.m_navInfo=null;this.m_showSeparator=false;this.m_isEnabled=this.m_itemIsDisplayed=true;this.m_key="";this.m_structure=null;this.m_itemIsDisplayedChangeEvent=new D2L.EventHandler;this.m_imageChangeEvent=new D2L.EventHandler;this.m_isEnabledChangeEvent=new D2L.EventHandler;
this.m_textChangeEvent=new D2L.EventHandler;this.m_clickEvent=new D2L.EventHandler;var b=this;this.ClickEvent().RegisterMethod(function(){b.m_onClick.call(b)})},ClickEvent:function(){return this.m_clickEvent},DeserializeMin:function(b){arguments.callee.$.DeserializeMin.call(this,b);this.m_key=b.GetMember();this.m_img=b.GetObjectMin(D2L.Images.Image);if(this.m_img===undefined)this.m_img=null;this.m_imgDisabled=b.GetObjectMin(D2L.Images.Image);if(this.m_imgDisabled===undefined)this.m_imgDisabled=null;
this.m_itemIsDisplayed=b.GetBoolean();this.m_isEnabled=b.GetBoolean();this.m_hasSeparator=b.GetBoolean();this.m_text=b.GetObjectMin(D2L.LP.Text.IText);if(this.Children().length===0)this.m_onClick=new Function(b.GetMember())},Deserialize:function(b){arguments.callee.$.Deserialize.call(this,b);this.m_key=b.GetMember("Key");if(b.HasMember("Img"))this.m_img=b.GetObject("Img",D2L.Images.Image);if(b.HasMember("ImgDisabled"))this.m_imgDisabled=b.GetObject("ImgDisabled",D2L.Images.Image);this.m_itemIsDisplayed=
b.GetMember("IsDisplayed");this.m_isEnabled=b.GetMember("IsEnabled");this.m_hasSeparator=b.GetMember("HasSeparator");this.m_text=b.GetObject("Text",D2L.LP.Text.IText);if(b.HasMember("OnClick"))this.m_onClick=new Function(b.GetMember("OnClick"))},GetKey:function(){return this.m_key},GetStructure:function(){if(this.m_structure===null){for(var b=this;b.Parent()!==null;)b=b.Parent();this.m_structure=b}return this.m_structure},GetText:function(){return this.m_text},HasSeparator:function(){return this.m_hasSeparator},
ImageChangeEvent:function(){return this.m_imageChangeEvent},ItemIsDisplayed:function(){return this.m_itemIsDisplayed},ItemIsDisplayedChangeEvent:function(){return this.m_itemIsDisplayedChangeEvent},IsEnabled:function(){return this.m_isEnabled},IsEnabledChangeEvent:function(){return this.m_isEnabledChangeEvent},SetKey:function(b){this.m_key=b},SetImage:function(b,c){if(c===undefined)c=null;if(b!==null){this.m_img=b;this.ImageChangeEvent().Trigger(b)}c!==null&&this.SetImageDisabled(c)},SetImageDisabled:function(b){if(b!==
null)this.m_imgDisabled=b},SetImageInfo:function(b){this.SetImage(b)},SetImageInfoDisabled:function(b){this.SetImageDisabled(b)},SetItemIsDisplayed:function(b){if(b!=this.m_itemIsDisplayed){this.m_itemIsDisplayed=b;this.ItemIsDisplayedChangeEvent().Trigger(b)}},SetIsEnabled:function(b){if(b!=this.IsEnabled()){this.m_isEnabled=b;this.IsEnabledChangeEvent().Trigger(b)}},SetOnClick:function(b){if(b){if(this.m_navInfo===null)this.m_navInfo=new D2L.NavInfo;this.m_navInfo.SetOnClick(b);this.SetNav(this.m_navInfo)}},
SetNav:function(b){if(b){this.m_navInfo=b;this.m_onClick=this.m_navInfo.SetupHrefOnClick(this,false).OnClick}},SetHasSeparator:function(b){this.m_hasSeparator=b},SetShowSeparator:function(b){this.m_showSeparator=b},SetText:function(b){this.m_text=b;this.TextChangeEvent().Trigger(b)},TextChangeEvent:function(){return this.m_textChangeEvent}});
D2L.Control.ContextMenuPlaceHolder=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_alt=this.m_text=null;this.m_hoverEvent=new D2L.EventHandler;this.m_isOffScreen=false;this.m_subject=null;this.m_hasImage=this.m_hasText=false;this.m_structure=this.m_posDomNode=this.m_imgDrop=this.m_img=null;this.m_key="";this.m_float=D2L.Style.Float.None;this.m_params=new D2L.Util.Dictionary;this.m_showEvent=new D2L.EventHandler;this.m_text=null},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,
b);var c=b.GetObjectMin(D2L.Control.Id);this.SetStructure(UI.GetControl(c.ID(),c.SID()));var e=this;this.m_hasText=b.GetBoolean();this.m_hasImage=b.GetBoolean();this.m_key=b.GetMember();this.m_float=b.GetMember();this.m_params=b.GetObject(D2L.Util.Dictionary);var f=b.GetMember();f.length>0&&window[f]!==undefined&&this.ShowEvent().RegisterMethod(function(){window[f].call(f,e)});if(this.GetDomNode()===null)this.m_hasDomBeenBuilt=false;else{this.m_imgDrop=this.GetDomNode().childNodes[this.GetDomNode().childNodes.length-
1];if(this.m_hasImage)this.m_img=this.GetDomNode().firstChild}},HoverEvent:function(){return this.m_hoverEvent},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);var b=this.SetDomNode(this.GetUI().CreateElement("a"));b.className="dcm";if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.Firefox&&UI.GetBrowserInfo().MajorVersion<=2)b.style.fontSize="7px";b.tabIndex=0;if(this.m_isOffScreen){b.style.position="relative";if(UI.GetCulture().IsRightToLeft())b.style.right="-1000px";
else b.style.left="-1000px"}if(this.m_text!==null){var c=this.GetUI().CreateElement("span");b.appendChild(c);this.m_text.AssignHtml(c,"innerHTML",true)}else{b.style.borderColor="transparent";b.style.backgroundColor="transparent"}this.m_imgDrop=this.GetUI().CreateElement("img");this.m_imgDrop.className="dcm_d";D2L.Images.ImageTerm.Assign("Framework.ContextMenu.dropArrow",this.m_imgDrop,false);b.appendChild(this.m_imgDrop);this.RenderAlt();this.RenderFloat();var e=this;D2L.Control.ContextMenuPlaceHolder.InstallEvents(b,
function(){return e})}},Click:function(){if(this.m_structure!==null){var b=this;this.m_structure.GetOpener()!==null&&this.m_structure.GetOpener()!=this&&this.m_structure.Hide();this.m_structure.IsDisplayed()?this.m_structure.Hide():this.Show().Register(function(){setTimeout(function(){b.m_structure.GetDomNode().focus()})})}},Focus:function(){if(this.IsRendered())try{this.GetDomNode().focus()}catch(b){}},GetDropHeight:function(){var b=new D2L.Util.DelayedReturn;this.m_structure.SetPosition(-1000,-1000);
this.m_structure.SetAnimationMode(D2L.Style.AnimationMode.None);var c=this;this.m_structure.Show(this,this.GetUI().GetBodyElement().lastChild).Register(function(){var e=D2L.Util.Dom.GetHeightHelper(c.m_structure.GetDomNode());c.m_structure.Hide();c.m_structure.SetPosition(0,0);c.m_structure.SetAnimationMode(D2L.Style.AnimationMode.Slide);b.Trigger(e)});return b},GetFloat:function(){return this.m_float},GetKey:function(){return this.m_key},GetParam:function(b,c){b=this.m_params.Get(b);if(b===undefined)b=
c;return b},GetPositionInfo:function(){var b=new D2L.Util.DelayedReturn,c=1,e=1,f=0;if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.Firefox){e=2;c=0;if(this.m_hasText||this.m_isOffScreen)c=e=1;if(!this.m_hasText&&this.GetFloat()!=D2L.Style.Float.None)f=1}var g=this.m_posDomNode!==null?this.m_posDomNode:this.GetDomNode(),h=D2L.Control.ContextMenuItemList.WIDTH,k=D2L.Util.Dom.FindPosXY(g),j=this,l=function(o,p,r){var s=k[0];o=o-k[0];var v=k[1];p=p-k[1]-g.offsetHeight;var u=k[0]+f,w=k[1]+g.offsetHeight-
c,A=D2L.Style.AnimationMode.None,C=true;if(p-r>0&&o-h>0)A=D2L.Style.AnimationMode.Slide;else if(p-r>0&&s-h>0)u=k[0]-h+g.offsetWidth+f;else if(v-r>0&&o-h>0)w=k[1]-r+e;else if(v-r>0&&s-h>0){u=k[0]-h+g.offsetWidth+f;w=k[1]-r+e}else C=false;return{x:u,y:w,mode:A,success:C}};this.GetDropHeight().Register(function(o){var p=l(j.GetUI().GetWindowWidth(),j.GetUI().GetWindowHeight(),o);p.success||(p=l(j.GetUI().GetPageWidth(),j.GetUI().GetPageHeight(),o));b.Trigger(p)});return b},GetStructure:function(){return this.m_structure},
GetText:function(){return this.m_text},HasParam:function(b){return this.m_params.ContainsKey(b)},RenderAlt:function(){if(this.IsRendered()){var b=this.m_alt;if(b===null)b=new D2L.LP.Text.LangTerm("Framework.ContextMenu.altDefaultTitleSubject");var c=this,e=function(){b.AssignText(c.GetDomNode(),"title");b.AssignText(c.m_imgDrop,"alt")};this.m_subject!==null?this.m_subject.GetText().Register(function(f){b.SetSubject(f);e()}):e()}},RenderFloat:function(){if(this.IsRendered()){var b="none";if(this.GetFloat()==
D2L.Style.Float.Left)b="left";else if(this.GetFloat()==D2L.Style.Float.Right)b="right";if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE)this.GetDomNode().style.styleFloat=b;else this.GetDomNode().style.cssFloat=b}},SetParam:function(b,c){this.m_params.Add(b,c)},SetStructure:function(b){this.m_structure=b},SetText:function(b){this.m_text=b},Show:function(){if(this.m_structure!==null){var b=new D2L.Util.DelayedReturn,c=this;this.GetPositionInfo().Register(function(e){c.m_structure.SetPosition(e.x,
e.y);c.m_structure.SetAnimationMode(e.mode);c.ShowEvent().Trigger(c);e=null;e=UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE&&UI.GetBrowserInfo().MajorVersion==6?c.m_structure.Show(c,UI.GetBodyElement().lastChild):c.m_structure.Show(c,c.GetDomNode());e.Register(function(){b.Trigger()})});return b}},ShowEvent:function(){return this.m_showEvent},SetAlt:function(b){this.m_alt=b;this.RenderAlt()},SetFloat:function(b){this.m_float=b;this.RenderFloat()},SetKey:function(b){this.m_key=b},SetSubject:function(b){this.m_subject=
D2L.LP.Text.IText.Normalize(b);this.RenderAlt()}});
D2L.Control.ContextMenuPlaceHolder.InstallEvents=function(b,c){var e=false,f=false,g=false,h=false,k=function(){if(!e){e=true;var l=c(),o=l.GetStructure(),p=function(r){f=o.GetOpener()==l?r:false;r=g||h;b.className=r?"dcm dcm_h":"dcm";l.HoverEvent().Trigger(r)};o.IsDisplayedChangeEvent().RegisterMethod(p);p(o.IsDisplayed())}b.className="dcm dcm_h";c().HoverEvent().Trigger(true);g=true},j=function(){g=false;if(!f&&!h){b.className="dcm";c().HoverEvent().Trigger(false)}};UI.AttachObject(b,"onmouseover",
k);UI.AttachObject(b,"onfocus",function(l){h=true;k(l)});UI.AttachObject(b,"onmouseout",j);UI.AttachObject(b,"onblur",function(l){h=false;j(l)});UI.AttachObject(b,"onclick",function(l){D2L.Util.Dom.CancelBubble(l);WindowEventManager.Click.Trigger(l);c().Click();return false});UI.GetWindowEventManager().HideContextMenus.RegisterMethod(function(){f&&c().Click()});UI.GetWindowEventManager().InstallKpel(b,function(l,o){if(o.GetKey()==D2L.KeyPressEvent.Key.Enter){WindowEventManager.Click.Trigger(o);c().Click()}})};
D2L.Control.ContextMenuStructure=D2L.Control.ContextMenuItemList.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_loadCallback=this.m_opener=null;this.m_isLoaded=true;this.m_key="";this.m_selectItemEvent=new D2L.EventHandler},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);var c=b.GetMember();c.length>0&&window[c]!==undefined&&this.SetLoadCallback(window[c]);this.m_key=b.GetMember();var e=b.GetMember();e.length>0&&window[e]!==undefined&&
this.SelectItemEvent().RegisterMethod(function(f){window[e](f)})},BuildDom:function(){if(!this.IsRendered()){var b=this;WindowEventManager.KeyPress.RegisterMethod(function(c){return b.HandleKeyPress(c)});arguments.callee.$.BuildDom.call(this)}},GetOpener:function(){return this.m_opener},GetKey:function(){return this.m_key},HandleKeyPress:function(b){if(this.IsDisplayed()){var c=this.GetExpandedStructure();if(b.GetKey()==D2L.KeyPressEvent.Key.ArrowDown||b.GetKey()==D2L.KeyPressEvent.Key.ArrowUp){for(var e=
b.GetKey()==D2L.KeyPressEvent.Key.ArrowDown?1:-1,f=c.m_selectedItemIndex,g=f,h=c.Children().length,k=0;;){if(k==h)break;g+=e;if(g<0)g=c.Children().length-1;else if(g==c.Children().length)g=0;if(c.Children()[g].ItemIsDisplayed())break;k++}g!=f&&c.SelectItemIndex(g,false);b.Cancel();return false}else if(b.GetKey()==D2L.KeyPressEvent.Key.ArrowRight){e=c.GetSelectedItem();if(e!==null&&e.IsEnabled()&&e.Children().length>0){c.ExpandItemIndex(c.m_selectedItemIndex,true);b.Cancel()}}else if(b.GetKey()==D2L.KeyPressEvent.Key.ArrowLeft){if(c.Parent()!==
null){c.Hide();c.Parent().Focus();b.Cancel()}}else if(b.GetKey()==D2L.KeyPressEvent.Key.Escape){c.Hide();if(c.Parent()!==null)c.Parent().Focus();else this.m_opener!==null&&this.m_opener.Focus()}else if(b.GetKey()==D2L.KeyPressEvent.Key.Enter){b=c.GetSelectedItem();if(b!==null&&b.IsEnabled())b.Children().length===0?c.ClickItemIndex(c.m_selectedItemIndex):c.ExpandItemIndex(c.m_selectedItemIndex,true)}}},SelectItemEvent:function(){return this.m_selectItemEvent},SetKey:function(b){this.m_key=b},SetLoadCallback:function(b){this.m_loadCallback=
b;this.m_isLoaded=false},Show:function(b,c){var e=new D2L.Util.DelayedReturn;this.m_opener=b;if(this.m_isLoaded){arguments.callee.$.Show.call(this,c);e.Trigger()}else{var f=this,g=this.m_loadCallback(this);if(g!==undefined)g.Register(function(h){for(var k=0;k<h.length;k++)f.AppendChild(h[k]);f.m_isLoaded=true;f.Show(b,c);e.Trigger()});else{f.m_isLoaded=true;e=f.Show(b,c)}}return e}});
D2L.Control.DateRange=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_isEnabled=true;this.cb_ih=this.cb_se=this.cb_ed=this.cb_sd=this.ed=this.sd=null;this.m_validationFailureSource=0},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.sd=UI.GetControl(this.GetMappedId()+"_dts_sd");this.ed=UI.GetControl(this.GetMappedId()+"_dts_ed");this.cb_sd=UI.GetControl(this.GetMappedId()+"_cb_sd");this.cb_ed=UI.GetControl(this.GetMappedId()+
"_cb_ed");this.cb_se=UI.GetControl(this.GetMappedId()+"_cb_se");this.cb_ih=UI.GetControl(this.GetMappedId()+"_cb_ih")},HasTime:function(){return this.sd.HasTime()},Focus:function(){if(this.m_validationFailureSource==0||this.m_validationFailureSource==1)this.sd.Focus();else this.m_validationFailureSource==2&&this.ed.Focus()},GetValidationBalloonDomNode:function(){if(this.m_validationFailureSource==0||this.m_validationFailureSource==1)return this.sd.GetDomNode();else if(this.m_validationFailureSource==
2)return this.ed.GetDomNode()},GetStartDate:function(){return this.HasStartDate()?this.sd.GetDate():null},GetStartDateSelector:function(){return this.sd},GetStartYear:function(){return this.sd.GetYear()},GetStartMonth:function(){return this.sd.GetMonth()},GetStartDay:function(){return this.sd.GetDay()},GetStartHour:function(){return this.sd.GetHour()},GetStartMinute:function(){return this.sd.GetMinute()},GetEndYear:function(){return this.ed.GetYear()},GetEndMonth:function(){return this.ed.GetMonth()},
GetEndDay:function(){return this.ed.GetDay()},GetEndHour:function(){return this.ed.GetHour()},GetEndMinute:function(){return this.ed.GetMinute()},GetEndDate:function(){return this.HasEndDate()?this.ed.GetDate():null},GetEndDateSelector:function(){return this.ed},HasStartDate:function(){if(this.cb_sd!==null)return this.cb_sd.IsChecked();return true},HasEndDate:function(){if(this.cb_ed!==null)return this.cb_ed.IsChecked();return true},IsScheduleEventCreated:function(){return this.cb_se!=null?this.cb_se.IsChecked():
false},HasEvent:function(){return this.IsScheduleEventCreated()},IsHidden:function(){return this.cb_ih?this.cb_ih.IsChecked():false},GetState:function(b){b.AddMember("HasStartDate",this.HasStartDate());b.AddMember("HasEndDate",this.HasEndDate());b.AddMember("HasEvent",this.IsScheduleEventCreated());b.AddMember("IsHidden",this.IsHidden());b.AddMember("StartDate",this.GetStartDateSelector(),"GetState");b.AddMember("EndDate",this.GetEndDateSelector(),"GetState")},SetHasStartDate:function(b){if(this.HasStartDate()!=
b&&this.cb_sd!==null){this.cb_sd.SetIsChecked(b);this.cb_sd.GetDomNode().IEnabler.ResetState()}},SetHasEndDate:function(b){if(this.HasEndDate()!=b&&this.cb_ed!==null){this.cb_ed.SetIsChecked(b);this.cb_ed.GetDomNode().IEnabler.ResetState()}}});var d2l_DateRange=D2L.DateRange=D2L.Control.DateRange;
D2L.DateTime=D2L.Class.extend({Construct:function(b){arguments.callee.$.Construct.call(this);this.m_date=new Date;b&&this.SetDateString(b)},SetDateString:function(){this.SetMonth(0);this.SetDay(1);this.SetYear(parseInt(substr(0,4)));this.SetMonth(parseInt(substr(4,2)));this.SetDay(parseInt(substr(6,2)));this.SetHour(parseInt(substr(8,2)));this.SetMinute(parseInt(substr(10,2)))},GetDateString:function(){var b;b=this.GetYear();b+=this.PadInt(this.GetMonth(),2);b+=this.PadInt(this.GetDay(),2);b+=this.PadInt(this.GetHour(),
2);b+=this.PadInt(this.GetMinute(),2);return b},PadInt:function(b,c){for(b=b.toString();b.length<c;)b="0"+b;return b},GetYear:function(){return this.m_date.getFullYear()},SetYear:function(b){this.m_date.setFullYear(b)},GetMonth:function(){return this.m_date.getMonth()},SetMonth:function(b){this.m_date.setMonth(b)},GetDay:function(){return this.m_date.getDate()},SetDay:function(b){this.m_date.setDate(b)},GetHour:function(){return this.m_date.getHours()},SetHour:function(b){this.m_date.setHours(b)},
GetMinute:function(){return this.m_date.getMinutes()},SetMinute:function(b){this.m_date.setMinutes(b)},GetTimestamp:function(){return this.m_date.getTime()}});
D2L.DialogBase=D2L.Control.extend({Construct:function(b,c){arguments.callee.$.Construct.call(this,true);if(b!==undefined)try{var e=UI.GetByName(b);if(e!=null&&e!=this){e.IsShown()&&D2L.Dialog.BC(b,D2L.Dialog.ResponseType.Abort);e.Close()}}catch(f){}if(b===undefined||!b.isString){UI.GetMessageArea().AddWarningMessage(new D2L.LP.Text.PlainText("Dialogs should always have a name"),true);b=UI.GetUniqueHtmlId()}UI.IsValidJsVariableName(b)||UI.GetMessageArea().AddWarningMessage(new D2L.LP.Text.SmlText('Dialog Name "[0]" is not a valid JavaScript name. Names can only contain letters, numbers and underscore and must start with a letter',
b),true);if(c===undefined)c=function(g){g.GetDialog().Close()};this.m_buttons=[];this.m_callback=this.m_buttonTable=null;this.m_callbackArguments=[];this.m_closeIconResponseType=D2L.Dialog.ResponseType.Abort;this.m_childrenNodePadding=0;this.m_footerText=new D2L.LP.Text.PlainText("");this.m_iframeWindow=this.m_iframe=this.m_iconTerm=this.m_icon=this.m_height=this.m_footerTextNode=null;this.m_isShown=this.m_isLoaded=this.m_ignoreMaxMinSizeOnResize=false;this.m_minHeight=125;this.m_minWidth=200;this.m_name=
b;this.m_positiveButton=null;this.m_srcCallbackName=this.m_src="";this.m_srcParams=[];this.m_srcWindow=null;this.m_title=new D2L.LP.Text.LangTerm("Standard.Misc.txtLoading");this.m_titleIsSet=false;this.m_width=400;this.m_opener=undefined;this.OnOpen=new D2L.EventHandler;this.OnResize=new D2L.EventHandler;this.SetCallback(c)},BuildDom_Buttons:function(){this.m_buttonTable=this.CreateElement("table");if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.Safari||UI.GetBrowserInfo().Type==D2L.UI.BrowserType.Chrome)this.m_buttonTable.style.width=
"auto";this.m_buttonTable.className="ddial_b";this.m_buttonTable.style.display=this.m_buttons.length>0?"block":"none";var b=this.m_buttonTable.insertRow(-1);this.CreateCell(b);var c=this.CreateCell(b);c.align="center";c.width="100%";this.CreateCell(b).align="right";for(c=0;c<this.m_buttons.length;c++){this.m_buttons[c].b.m_hasDomBeenBuilt=false;this.m_buttons[c].b.AppendTo(b.cells[this.m_buttons[c].p])}},BuildDom_Frame:function(){this.m_loading=this.CreateElement("div");this.m_loading.className="ddial_l";
var b=this.CreateElement("img");b.src="/d2l/img/LP/dialog/loading.gif";this.m_loading.appendChild(b);this.m_loading.appendChild(this.CreateTextNode(new D2L.LP.Text.LangTerm("Standard.Misc.txtLoading")));this.IChildrenDomNode.appendChild(this.m_loading);b=this.GetWindow().UI.GetUniqueHtmlId();if(this.IChildrenDomNode.insertAdjacentHTML){this.IChildrenDomNode.insertAdjacentHTML("beforeEnd","<iframe name='"+b+"' style='width:1px;height:1px;border:none;' border='0' frameborder='0' src='/d2l/tools/blank.html'></iframe>");
this.m_iframe=this.IChildrenDomNode.childNodes[this.IChildrenDomNode.childNodes.length-1]}else{this.m_iframe=this.CreateElement("iframe");this.m_iframe.name=b;this.m_iframe.style.width="1px";this.m_iframe.style.height="1px";this.m_iframe.border=0;this.m_iframe.frameBorder=0;this.m_iframe.style.border="none";this.m_iframe.src="/d2l/tools/blank.html";this.IChildrenDomNode.appendChild(this.m_iframe)}var c=this;b=function(){c.m_iframeWindow=c.m_iframe.contentWindow;var e=false;try{if(c.m_iframeWindow&&
c.m_iframeWindow.location.href.indexOf("/d2l/tools/blank.html")==-1)e=true}catch(f){e=false}if(D2L.Util.Url.IsExternal(c.m_src)||e)c.HandleOnload()};if(this.m_iframe.attachEvent)this.m_iframe.attachEvent("onload",b);else this.m_iframe.addEventListener&&this.m_iframe.addEventListener("load",b,false);this.m_iframeOnloadFunc=b;this.GetTitle().AssignText(this.m_iframe,"title")},AddButton:function(b,c,e){if(c===undefined)c="";var f;f=b==D2L.Control.Button.Type.Close||b==D2L.Control.Button.Type.Cancel?
D2L.Dialog.ButtonPosition.Left:b==D2L.Control.Button.Type.Ok?D2L.Dialog.ButtonPosition.Middle:D2L.Dialog.ButtonPosition.Right;var g;g=b==D2L.Control.Button.Type.Cancel||b==D2L.Control.Button.Type.Close?D2L.Dialog.ResponseType.Abort:b==D2L.Control.Button.Type.No?D2L.Dialog.ResponseType.Negative:D2L.Dialog.ResponseType.Positive;return this.AddButtonHelper(D2L.Control.Button.GetTermForType(b),f,b,g,c,e)},AddCustomButton:function(b,c,e,f,g){return this.AddButtonHelper(b,c,D2L.Control.Button.Type.Custom,
e,f,g)},AddButtonHelper:function(b,c,e,f,g,h){var k=this.GetButton(h);k!==null&&this.RemoveButton(k);b=D2L.LP.Text.IText.Normalize(b,"D2L.DialogBase","AddButtonHelper","text");if(c===undefined)c=D2L.Dialog.ButtonPosition.Left;if(f===undefined)f=D2L.Dialog.ResponseType.Positive;if(g===undefined)g="";if(name===undefined)name=this.GetOpenerWindow().UI.GetUniqueHtmlId();var j=this;b=new D2L.Control.Button(b);b.SetOnClick(function(){D2L.Dialog.BC(j.m_name,f,e,g)});h!==undefined&&b.SetControlId(h);if(f==
D2L.Dialog.ResponseType.Positive&&this.m_positiveButton===null)this.m_positiveButton=b;this.m_buttons.push({p:c,b:b,t:e,d:false});if(this.m_hasDomBeenBuilt){b.AppendTo(this.m_buttonTable.rows[0].cells[c]);if(this.m_buttons.length==1){this.m_buttonTable.style.display="block";this.SetHeight(this.m_height)}}return b},CallCallback:function(b){this.IsClosed()&&b!=null&&b.GetType()!=D2L.Dialog.ResponseType.Abort&&UI.GetMessageArea().AddWarningMessage(new D2L.LP.Text.PlainText("Calling CallCallback on a closed dialog can cause unexpected errors in IE. Please make sure you are closing the dialog inside your outer callback function instead of SrcCallback."),
true);var c=this.GetCallback(),e=b;if(c){b=c.apply(c,[b].concat(this.m_callbackArguments));if(b!==undefined)e=b}this.m_delayedReturn&&this.m_delayedReturn.Trigger(e)},CallSrcMethod:function(b,c){return this.m_srcWindow&&!this.m_srcWindow.closed&&this.m_srcWindow[b]?this.m_srcWindow[b](c):null},Close:function(){},GetButton:function(b){if(b!==undefined){b=b.toLowerCase();for(var c=0;c<this.m_buttons.length;c++)if(this.m_buttons[c].b.GetControlId().ID()==b)return this.m_buttons[c].b}return null},GetCallback:function(){return this.m_callback},
GetContentHeight:function(){var b=0;if(this.IChildrenDomNode)b=this.IChildrenDomNode.offsetHeight;if(this.m_icon!=null&&this.m_icon.offsetHeight)if(this.m_icon.offsetHeight>b)b=this.m_icon.offsetHeight;return b},GetHeight:function(){return this.IsShown()?this.IDomNode.offsetHeight:this.m_height},GetWidth:function(){return this.m_width},GetFooterText:function(){return this.m_footerText},GetOpenerWindow:function(){},GetPositiveButton:function(){return this.m_positiveButton},GetTitle:function(){return this.m_title},
HandleOnload:function(){if(!D2L.Util.Url.IsExternal(this.m_src))if(this.m_iframeWindow){this.m_iframeWindow.UI&&this.m_iframeWindow.UI.SetParentDialog(this);this.m_iframeWindow.d2l_Onload&&this.m_iframeWindow.d2l_Onload();if(!this.m_titleIsSet){var b=this.m_iframeWindow.document.title;this.m_iframe.title=b;this.SetTitle(new D2L.LP.Text.PlainText(b))}this.AttachObject(this,"m_srcWindow",this.m_iframeWindow)}if(!this.m_isLoaded&&this.IsShown()){if(this.m_loading)this.m_loading.style.display="none";
if(this.m_src.length>0)for(b=0;b<this.m_buttons.length;b++)this.m_buttons[b].d&&this.m_buttons[b].b.SetIsEnabled(true);this.m_isLoaded=true;this.SetHeight(this.m_height);if(this.m_iframe!=null)this.m_iframe.style.width="100%";this.OnOpen.Trigger()}this.m_focusAnchor2&&this.m_focusAnchor2.focus()},HasCloseIcon:function(){},Hide:function(){},IsClosed:function(){return!this.IsShown()},IsResizable:function(){},IsShown:function(){return this.m_isShown},Open:function(b){b!==undefined&&this.SetOpener(b)},
RemoveButton:function(b){for(var c=0;c<this.m_buttons.length;c++)if(this.m_buttons[c].b==b){if(b.GetDomNode()&&b.IsRendered()){D2L.Util.Dom.Purge(b.GetDomNode());b.IDomNode.parentNode.removeChild(b.GetDomNode())}this.m_buttons.splice(c,1)}},RemoveButtons:function(){for(var b=0;b<this.m_buttons.length;b++){var c=this.m_buttons[b].b;if(c.GetDomNode()&&c.IsRendered()){D2L.Util.Dom.Purge(c.GetDomNode());c.IDomNode.parentNode.removeChild(c.GetDomNode())}}this.m_buttons=[]},SetCallback:function(b){this.m_callback=
null;this.m_callbackArguments=[];if(b&&b.apply){this.m_callback=b;for(var c=1;c<arguments.length;c++)this.m_callbackArguments.push(arguments[c])}},SetFooterText:function(){},SetHasCloseIcon:function(){},SetHeight:function(b){if(b!==undefined&&b!==null){var c=this.GetOpenerWindow().UI.GetWindowHeight();if(b.isString)if(b.charAt(b.length-1)=="%"){b=parseInt(b.substr(0,b.length-1),10)/100;if(b>1)b=1;else if(b<0)b=0;b=Math.round(b*c)}else b=b.substr(b.length-2,2)=="px"?parseInt(b.substr(0,b.length-2)):
parseInt(b);if(this.IsShown()&&this.IDomNode&&this.IChildrenDomNode){var e=parseInt(this.IDomNode.offsetHeight,10)-parseInt(this.GetContentHeight(),10);b-=e;if(b<1)b=1;if(!this.m_ignoreMaxMinSizeOnResize)if(b+e<this.m_minHeight)b=this.m_minHeight-e;if(!this.m_ignoreMaxMinSizeOnResize)if(b+e>c)b=c-e-10;if(this.IChildrenDomNode!=null&&this.IChildrenDomNode.offsetHeight&&parseInt(this.GetContentHeight(),10)!=b)this.IChildrenDomNode.style.height=b-2*this.m_childrenNodePadding+"px";if(this.m_iframe){this.IChildrenDomNode.childNodes[0].style.marginTop=
Math.round((b-32)/2)+"px";if(this.m_isLoaded)this.m_iframe.style.height=b+"px"}b+=e}else if(b<this.m_minHeight)b=this.m_minHeight}this.m_height=b},SetIcon:function(b){this.m_iconTerm=b;if(this.m_iconTerm!==null&&this.IsRendered()){if(this.m_icon==null){b=this.CreateElement("table");b.width="100%";b.height="100%";var c=b.insertRow(-1),e=this.CreateCell(c);e.style.width="1%";e.vAlign="top";this.m_icon=this.CreateElement("img");e.appendChild(this.m_icon);c=this.CreateCell(c);c.vAlign="top";if(this.IChildrenDomNode&&
this.IChildrenDomNode.parentNode){this.IChildrenDomNode.parentNode.insertBefore(b,this.IChildrenDomNode);c.appendChild(this.IChildrenDomNode)}}this.m_iconTerm.Assign(this.m_icon);this.m_icon.style.padding="7px";this.m_icon.style["padding"+UI.GetCulture().GetMarginPaddingPosition(D2L.Culture.MarginPaddingPosition.Last)]="0px"}},SetIsResizable:function(){},SetOpener:function(b){this.m_opener=b},SetSize:function(b,c){this.SetWidth(b,false);this.SetHeight(c,false);this.OnResize.Trigger(this.GetWidth(),
this.GetContentHeight())},SetSrc:function(b,c){if(c===undefined)c="";if(b.indexOf("/d2l/")==-1&&!D2L.Util.Url.IsExternal(b)){UI.GetMessageArea().AddWarningMessage(new D2L.LP.Text.PlainText("'Src' of dialogs must be an absolute path (e.g. /d2l/myProduct/myComponent/myPage.d2l), not relative (e.g. myPage.d2l)"),true);var e=window.location.href,f=e.indexOf("/d2l/"),g=e.lastIndexOf("/");b=e.substring(f,g+1)+b}this.m_src=b;this.m_srcCallbackName=c;if(!D2L.Util.Url.IsExternal(this.m_src)){this.m_src+=this.m_src.indexOf("?")<
0?"?":"&";this.m_src+="d2l_body_type="+D2L.UI.BodyType.Dialog;if(this.m_src.indexOf("ou=")<0)this.m_src+="&ou="+Global.OrgUnitId}},SetSrcParam:function(b,c){this.m_srcParams[b]=c},SetTitle:function(){this.m_titleIsSet=true},SetWidth:function(b){var c=this.GetOpenerWindow().UI.GetWindowWidth();if(b.isString)if(b.charAt(b.length-1)=="%"){b=parseInt(b.substr(0,b.length-1),10)/100;if(b>1)b=1;else if(b<0)b=0;b=Math.round(b*c)}else b=b.substr(b.length-2,2)=="px"?parseInt(b.substr(0,b.length-2)):parseInt(b);
if(!this.m_ignoreMaxMinSizeOnResize)if(b>c)b=c-10;if(!this.m_ignoreMaxMinSizeOnResize)if(b<this.m_minWidth)b=this.m_minWidth;this.m_width=b;if(this.IDomNode)this.IDomNode.style.width=b+"px"},SubmitToIFrame:function(b){if(this.m_iframe&&!this.m_isLoaded){for(var c=0;c<this.m_buttons.length;c++)if(this.m_buttons[c].b.IsEnabled()&&this.m_buttons[c].t!=D2L.Control.Button.Type.Cancel&&this.m_buttons[c].t!=D2L.Control.Button.Type.Close){this.m_buttons[c].d=true;this.m_buttons[c].b.SetIsEnabled(false)}if(D2L.Util.Url.IsExternal(this.m_src))this.m_iframe.src=
this.m_src;else{c=this.CreateElement("form");c.method="post";c.target=this.m_iframe.name;c.action=this.m_src;for(var e in this.m_srcParams){var f=this.CreateElement("input");f.type="hidden";f.name=e;f.value=this.m_srcParams[e];c.appendChild(f)}e=this.CreateElement("input");e.type="hidden";e.name="d2l_session";e.value=D2L.LP.Web.UI.Html.Form.GetSessionVal();c.appendChild(e);b.appendChild(c);c.submit();D2L.Util.Dom.Purge(c);b.removeChild(c)}}}});
D2L.NonModalDialog=D2L.DialogBase.extend({Construct:function(b,c){arguments.callee.$.Construct.call(this,b,c);this.m_ignoreResizeEvents=this.m_ignoreMaxMinSizeOnResize=true;this.m_isCloseFunctionCalled=false;this.m_popupWindow=null;this.m_resizeWindowOnSetSize=true;for(var e=window;e.parent!=e&&e.parent.UI;){var f=e.parent.document.getElementsByTagName("frame");if(f&&f.length>0)if(e.parent.UI.GetBodyType()!=D2L.UI.BodyType.Dialog)break;e=e.parent}this.m_openerWindow=e;this.SetWindow(null);window[this.m_name]=
this},BuildDom_Footer:function(){var b=this;this.m_resizeBar=this.CreateElement("div");this.m_resizeBar.className="ddial_f";this.m_resizeBar.style.display="none";this.m_resizeBar.style.minHeight="1.2em";this.m_resizeBar.appendChild(this.CreateTextNode(this.m_footerText));D2L.Util.Aria.MakeLiveRegion(this.m_resizeBar);b=this;this.GetFooterText().GetText().Register(function(c){b.m_resizeBar.style.display=c.length>0?"block":"none";b.SetHeight(b.m_height)})},BuildDom:function(){if(!this.m_hasDomBeenBuilt){arguments.callee.$.BuildDom.call(this);
this.IDomNode=this.CreateElement("div");var b=this.CreateElement("div");this.BuildDom_Buttons();this.BuildDom_Footer();this.IChildrenDomNode=this.CreateElement("div");this.IChildrenDomNode.className="ddial_c";if(this.m_src.length>0)this.BuildDom_Frame();else{this.IChildrenDomNode.style.overflowY="auto";this.IChildrenDomNode.style.padding="10px";this.m_childrenNodePadding=10}b.appendChild(this.IChildrenDomNode);b.appendChild(this.m_buttonTable);this.IDomNode.appendChild(b);this.IDomNode.appendChild(this.m_resizeBar);
this.SetIcon(this.m_iconTerm);this.InstallEvents()}},Close:function(){var b=this,c=this.m_iframe;this.ResetState();this.m_isCloseFunctionCalled=true;setTimeout(function(){var e=function(){b.m_popupWindow&&!b.m_popupWindow.closed&&b.m_popupWindow.close();b.m_popupWindow=null;b.SetWindow(null)};try{if(c&&b.m_iframeOnloadFunc&&c.detachEvent){c.detachEvent("onload",b.m_iframeOnloadFunc);c.attachEvent("onload",e);c.src="/d2l/tools/blank.html";setTimeout(function(){try{c.detachEvent("onload",e);c.parentNode.removeChild(c);
c=null}catch(g){}},1E3)}else e()}catch(f){}},0)},Dispose:function(){this.m_popupWindow&&!this.m_popupWindow.closed&&this.m_popupWindow.close();this.ResetState();this.m_srcWindow=null;this.m_popupWindow=window[this.m_name]=null;arguments.callee.$.Dispose.call(this)},GetOpenerWindow:function(){return this.m_openerWindow},HandlePopupOnLoad:function(){if(this.m_popupWindow!==null){this.SetWindow(this.m_popupWindow);this.m_delayedReturn=new D2L.Util.DelayedReturn;this.BuildDom();var b=this.m_popupWindow.UI.GetById("d2l_body"),
c=this.m_popupWindow.UI.GetById("d2l_form");b.style.margin=0;this.AppendTo(c);this.SubmitToIFrame(b);this.m_isShown=true;this.m_titleIsSet&&this.SetTitle(this.m_title);this.SetSize(this.m_width,this.m_height);var e=this;setTimeout(function(){e.SetSize(e.m_width,e.m_height);e.m_ignoreResizeEvents=false},0);this.m_iframe?setTimeout(function(){e.IsShown()&&!e.m_isLoaded&&e.HandleOnload()},2E4):this.OnOpen.Trigger();return this.m_delayedReturn}},HandlePopupOnUnload:function(){var b=this.m_popupWindow;
if(b&&b.location.href.indexOf("blank.d2l")>=0){this.m_isCloseFunctionCalled||D2L.Dialog.BC(this.m_name,this.m_closeIconResponseType);this.Close()}},ResetState:function(){this.m_resizeBar=this.IChildrenDomNode=this.IDomNode=this.m_srcWindow=this.m_iframeWindow=this.m_iframe=this.m_buttonTable=null;this.m_hasDomBeenBuilt=false;for(var b=0;b<this.m_buttons.length;b++)this.m_buttons[b].b.m_hasDomBeenBuilt=false;this.m_isShown=this.m_isCloseFunctionCalled=this.m_isLoaded=false},HasCloseIcon:function(){return true},
InstallEvents:function(){var b=this,c=function(){try{if(!b.m_ignoreResizeEvents&&!b.m_popupWindow.closed&&b.m_popupWindow.UI){var f=b.m_popupWindow.UI.GetWindowWidth(),g=b.m_popupWindow.UI.GetWindowHeight();b.m_resizeWindowOnSetSize=false;b.SetSize(f,g);b.m_resizeWindowOnSetSize=true}}catch(h){}},e=function(){b.resizeTimer&&clearTimeout(b.resizeTimer);b.resizeTimer=setTimeout(c,100)};if(this.GetWindow().document.addEventListener)this.GetWindow().addEventListener("resize",e,false);else this.GetWindow().document.attachEvent&&
this.GetWindow().attachEvent("onresize",e)},Open:function(b){arguments.callee.$.Open.call(this,b);if(this.m_popupWindow!=null&&!this.m_popupWindow.closed)this.m_popupWindow.focus();else{var c=this.GetHeight(),e=this.GetWidth();if(c==null)c=this.m_minHeight;var f=this.GetOpenerWindow(),g=null;if(f.screenX)g=f.screenX;else if(f.screenLeft)g=f.screenLeft;var h=null;if(f.screenY)h=f.screenY+80;else if(f.screenTop)h=f.screenTop;g=(f.UI.GetWindowWidth()-e)/2+g;c="top="+((f.UI.GetWindowHeight()-c)/2+h)+
", left="+g+", height="+c+", width="+e+", directories=no, toolbar=no, status=no, resizable=yes, location=no, scrollbars=no";this.m_popupWindow=window.open("/d2l/common/dialogs/nonModal/blank.d2l"+("?d2l_body_type="+D2L.UI.BodyType.Frame+"&d2l_nonModalDialog_cb="+this.m_name+"&d2l_nonModalDialog_cbwin="+UI.windowId),"_blank",c);var k=this;this.m_popupWindow&&setTimeout(function(){k.m_popupWindow.focus()})}},SetFooterText:function(b){this.m_footerText=D2L.LP.Text.IText.Normalize(b,"D2L.NonModalDialog",
"SetFooterText","footerText");if(this.m_resizeBar&&this.IsShown()){if(this.m_resizeBar.firstChild){D2L.Util.Dom.Purge(this.m_resizeBar.firstChild);this.m_resizeBar.removeChild(this.m_resizeBar.firstChild)}this.m_resizeBar.appendChild(this.CreateTextNode(this.m_footerText));var c=this;this.m_footerText.GetText().Register(function(e){c.m_resizeBar.style.display=e.length>0?"block":"none";c.SetHeight(c.m_height)})}},SetHeight:function(b){this.m_ignoreResizeEvents=true;arguments.callee.$.SetHeight.call(this,
b);var c=this.GetHeight();if(this.IsShown()&&this.m_resizeWindowOnSetSize)try{var e=c-this.GetWindow().UI.GetWindowHeight();this.GetWindow().resizeBy(0,e)}catch(f){}this.m_ignoreResizeEvents=false},SetTitle:function(b){arguments.callee.$.SetTitle.call(this,b);this.m_title=D2L.LP.Text.IText.Normalize(b,"D2L.NonModalDialog","SetTitle","title");var c=this;this.IsShown()&&this.m_title.GetText().Register(function(e){if(c.IsShown())c.GetWindow().document.title=e})},SetWidth:function(b){this.m_ignoreResizeEvents=
true;arguments.callee.$.SetWidth.call(this,b);var c=this.GetWidth();if(this.IsShown()){this.IDomNode.style.width="100%";if(this.m_resizeWindowOnSetSize)try{var e=c-this.GetWindow().UI.GetWindowWidth();this.GetWindow().resizeBy(e,0)}catch(f){}}this.m_ignoreResizeEvents=false}});
D2L.ModalDialog=D2L.DialogBase.extend({Construct:function(b,c){arguments.callee.$.Construct.call(this,b,c);this.m_hasCloseIcon=true;this.m_left=0;this.m_titleNode=null;this.m_top=0;this.m_shimHandle=null;for(var e=window;e.parent!=e&&e.parent.UI;){var f=e.parent.document.getElementsByTagName("frame");if(f&&f.length>0)if(e.parent.UI.GetBodyType()!=D2L.UI.BodyType.Dialog)break;e=e.parent}this.SetWindow(e);window[this.m_name]=this},Dispose:function(){this.Close();window[this.m_name]=null;arguments.callee.$.Dispose.call(this)},
BuildDom:function(){if(!this.m_hasDomBeenBuilt){arguments.callee.$.BuildDom.call(this);this.IDomNode=this.CreateElement("div");this.IDomNode.className="ddial_o";this.IDomNode.style.zIndex=this.GetWindow().UI.GetZIndex();var b=this.CreateElement("div");b.className="ddial_i";var c=this.BuildDom_TitleBar();this.BuildDom_Buttons();var e=this.BuildDom_Footer();this.IChildrenDomNode=this.CreateElement("div");this.IChildrenDomNode.className="ddial_c";if(this.m_src.length>0)this.BuildDom_Frame();else{this.IChildrenDomNode.style.overflow=
"auto";this.IChildrenDomNode.style.margin="10px"}var f="";if(this.GetTitle())f=this.GetTitle();var g=new D2L.LP.Text.LangTerm("Framework.Dialog.altJumpBottom",f);f=new D2L.LP.Text.LangTerm("Framework.Dialog.altJumpTop",f);this.m_focusAnchor1=this.CreateElement("a");this.m_focusAnchor1.href="javascript://";this.m_focusAnchor1.appendChild(this.CreateTextNode(" "));g.AssignText(this.m_focusAnchor1,"title");this.m_focusAnchor1.style.outline="none";b.appendChild(this.m_focusAnchor1);b.appendChild(c);b.appendChild(this.IChildrenDomNode);
b.appendChild(this.m_buttonTable);this.m_focusAnchor3=this.CreateElement("a");this.m_focusAnchor3.tabIndex=-1;this.m_focusAnchor3.appendChild(this.CreateTextNode(" "));this.m_focusAnchor3.title=" ";this.m_focusAnchor3.style.outline="none";b.appendChild(this.m_focusAnchor3);this.m_focusAnchor4=this.CreateElement("a");this.m_focusAnchor4.href="javascript://";this.m_focusAnchor4.appendChild(this.CreateTextNode(" "));f.AssignText(this.m_focusAnchor4,"title");this.m_focusAnchor4.style.outline="none";b.appendChild(this.m_focusAnchor4);
this.IDomNode.appendChild(b);this.IDomNode.appendChild(e);this.SetIcon(this.m_iconTerm);this.InstallEvents()}},BuildDom_TitleBar:function(){var b=this.CreateElement("div");b.className=this.m_src.length===0?"ddial_t ddial_tbg":"ddial_t d_grad_160 cDark";var c=this.CreateElement("table");c.width="100%";var e=c.insertRow(-1),f=this.CreateCell(e);f.width="100%";f.style.cursor="move";D2L.Control.Behaviour.Drag.Install(this,f);this.m_focusAnchor2=this.CreateElement("a");this.m_focusAnchor2.tabIndex=-1;
this.m_focusAnchor2.style.outline="none";f.appendChild(this.m_focusAnchor2);this.m_titleNode=this.CreateElement("h1");this.m_focusAnchor2.appendChild(this.m_titleNode);this.m_titleNode.appendChild(this.CreateTextNode(this.m_title));e=this.CreateCell(e);e.style["padding"+UI.GetCulture().GetMarginPaddingPosition(D2L.Culture.MarginPaddingPosition.First)]="0";e.align="right";this.m_closeAnchor=this.CreateElement("a");this.m_closeAnchor.href="javascript://";this.m_closeAnchor.style.display=this.HasCloseIcon()?
"block":"none";D2L.LP.Text.LangTerm.AssignText("Framework.Dialog.altCloseDialog",this.m_closeAnchor,"title");f=this.CreateElement("img");D2L.LP.Text.LangTerm.AssignText("Framework.Dialog.altCloseDialog",f,"alt");f.style.cursor="hand";f.style.cursor="pointer";f.src="/d2l/img/LP/dialog/x.gif";f.width=16;f.height=16;this.m_closeAnchor.appendChild(f);e.appendChild(this.m_closeAnchor);b.appendChild(c);return b},BuildDom_Footer:function(){var b=this.GetUI().CreateElement("div");b.className="ddial_f";this.m_footerTextNode=
this.GetUI().CreateElement("span");this.m_footerTextNode.appendChild(this.CreateTextNode(this.m_footerText));b.appendChild(this.m_footerTextNode);D2L.Util.Aria.MakeLiveRegion(this.m_footerTextNode);var c=this.GetUI().CreateElement("div");c.className="ddial_fr";D2L.LP.Text.LangTerm.AssignText("Framework.Dialog.altResizeDialog",c,"title");b.appendChild(c);D2L.Control.Behaviour.Resize.Install(this,c,this.m_minWidth,this.m_minHeight);(new D2L.Control.ClearFloat).AppendTo(b);return b},InstallEvents:function(){var b=
this;this.m_closeAnchor&&this.AttachObject(this.m_closeAnchor,"onclick",function(){b.Close(new D2L.Dialog.Response(b.m_closeIconResponseType));D2L.Dialog.BC(b.m_name,b.m_closeIconResponseType)});if(this.m_focusAnchor1&&this.m_focusAnchor2&&this.m_focusAnchor3&&this.m_focusAnchor4){this.AttachObject(this.m_focusAnchor1,"onfocus",function(){setTimeout(function(){b.m_focusAnchor3.focus()})});this.AttachObject(this.m_focusAnchor1,"onclick",function(){setTimeout(function(){b.m_focusAnchor3.focus()})});
this.AttachObject(this.m_focusAnchor4,"onfocus",function(){setTimeout(function(){b.m_focusAnchor2.focus()})});this.AttachObject(this.m_focusAnchor4,"onclick",function(){setTimeout(function(){b.m_focusAnchor2.focus()})})}},Close:function(){if(!this.IsClosed()){this.Hide();var b=this,c=function(){if(b.m_opener!==undefined&&b.m_opener!==null){try{if(b.m_opener.Focus!==undefined)b.m_opener.Focus();else b.m_opener.focus!==undefined&&b.m_opener.focus()}catch(h){}b.m_opener=undefined}};if(UI.GetBrowserInfo().Type==
D2L.UI.BrowserType.IE)try{var e=this.CreateElement("input"),f=UI.GetById("d2l_body");e.style.position="absolute";e.style.height="0px";e.style.width="0px";e.style.top=this.GetWindow().UI.GetScrollTop()+"px";e.style.left=this.GetWindow().UI.GetScrollLeft()+"px";f.appendChild(e);e.focus();D2L.Util.Dom.Purge(e);f.removeChild(e)}catch(g){}setTimeout(function(){if(b.m_iframe){b.m_isLoaded=false;b.m_loading.style.display="block"}D2L.Util.Dom.Purge(b.GetDomNode());b.Remove();b.m_hasDomBeenBuilt=false;setTimeout(c,
100)},0)}},GetOpenerWindow:function(){return this.GetWindow()},GetPosX:function(){return this.IDomNode?D2L.Util.Dom.FindPosX(this.IDomNode):0},GetPosY:function(){return this.IDomNode?D2L.Util.Dom.FindPosY(this.IDomNode):0},HasCloseIcon:function(){return this.m_hasCloseIcon},Hide:function(){this.GetDomNode().style.left="-2000px";this.GetDomNode().style.top="-2000px";this.m_isShown=false;this.GetWindow().UI.GetShimController().ClearShim(this.m_shimHandle);this.m_shimHandle=null},IsResizable:function(){return true},
SetHasCloseIcon:function(b){this.m_hasCloseIcon=b;if(this.m_closeImg)this.m_closeImg.style.display=b?"block":"none"},SetIsResizable:function(){},SetPos:function(b,c){this.SetPosX(b);this.SetPosY(c)},SetPosX:function(b){if(this.IDomNode)this.IDomNode.style.left=b+"px";this.m_left=b},SetPosY:function(b){if(this.IDomNode)this.IDomNode.style.top=b+"px";this.m_top=b},SetFooterText:function(b){this.m_footerText=D2L.LP.Text.IText.Normalize(b,"D2L.ModalDialog","SetFooterText");if(this.m_footerTextNode){if(this.m_footerTextNode.firstChild){D2L.Util.Dom.Purge(this.m_footerTextNode.firstChild);
this.m_footerTextNode.removeChild(this.m_footerTextNode.firstChild)}this.m_footerTextNode.appendChild(this.CreateTextNode(this.m_footerText));var c=this;this.m_footerText.GetText().Register(function(){c.SetHeight(c.m_height)})}},SetTitle:function(b){arguments.callee.$.SetTitle.call(this,b);this.m_title=D2L.LP.Text.IText.Normalize(b,"D2L.ModalDialog","SetTitle","title");if(this.m_titleNode){if(this.m_titleNode.firstChild){D2L.Util.Dom.Purge(this.m_titleNode.firstChild);this.m_titleNode.removeChild(this.m_titleNode.firstChild)}this.m_titleNode.appendChild(this.CreateTextNode(this.m_title))}},
Show:function(){this.m_isShown=true;this.SetSize(this.m_width,this.m_height);var b=this.GetWindow().UI.GetScrollLeft()+(this.GetWindow().UI.GetWindowWidth()-this.IDomNode.offsetWidth)/2,c=this.GetWindow().UI.GetScrollTop()+(this.GetWindow().UI.GetWindowHeight()-this.IDomNode.offsetHeight)/2;this.SetPos(b,c);this.m_shimHandle=this.GetWindow().UI.GetShimController().Shim(this)},Open:function(b){arguments.callee.$.Open.call(this,b);this.m_delayedReturn=new D2L.Util.DelayedReturn;this.BuildDom();var c=
this.GetWindow().UI.GetById("d2l_body");this.AppendTo(c);this.SubmitToIFrame(c);this.Show();var e=this;if(this.m_iframe)setTimeout(function(){e.IsShown()&&!e.m_isLoaded&&e.HandleOnload()},2E4);else{this.m_focusAnchor2&&this.m_focusAnchor2.focus();this.OnOpen.Trigger()}return this.m_delayedReturn}});D2L.Dialog=D2L.ModalDialog;if(Global.Preferences.UseNonModalDialogs)D2L.Dialog=D2L.NonModalDialog;
D2L.Dialog.BC=function(b,c,e,f){b=UI.GetByName(b);c=new D2L.Dialog.Response(b,c,f);b.m_srcWindow&&!b.m_srcWindow.closed&&b.m_srcCallbackName.length>0&&b.m_srcWindow[b.m_srcCallbackName]?b.m_srcWindow[b.m_srcCallbackName](c):b.CallCallback(c)};D2L.Dialog.GetParent=function(){return UI.GetParentDialog()};D2L.Dialog.GetParentDialog=function(){return UI.GetParentDialogDelayed()};
D2L.Dialog.Prompt=D2L.Dialog.extend({Construct:function(b,c,e,f,g){arguments.callee.$.Construct.call(this,b,c);if(g===undefined)g=true;if(g){var h=this;this.OnOpen.RegisterMethod(function(){h.m_delayedReturn.Register(function(){h.Close()})})}this.m_secondaryMessageSpan=this.m_secondaryMessageNode=this.m_secondaryMessage=this.m_primaryMessageSpan=this.m_primaryMessageNode=this.m_primaryMessage=null;this.m_closeOnEnter=true;this.SetPrimaryMessage(e);this.SetSecondaryMessage(f);this.SetHasCloseIcon(false)},
BuildDom:function(){if(!this.m_hasDomBeenBuilt){arguments.callee.$.BuildDom.call(this);var b=this.CreateElement("div");this.m_primaryMessageSpan=this.CreateElement("p");this.m_primaryMessageSpan.style.marginTop="0";this.m_primaryMessageSpan.style.fontWeight="bold";this.SetPrimaryMessage(this.m_primaryMessage);b.appendChild(this.m_primaryMessageSpan);this.m_secondaryMessageSpan=this.CreateElement("p");this.m_secondaryMessageSpan.style.marginBottom="0";this.SetSecondaryMessage(this.m_secondaryMessage);
b.appendChild(this.m_secondaryMessageSpan);this.AppendChild(b)}},InstallEvents:function(){arguments.callee.$.InstallEvents.call(this);if(this.m_focusAnchor2&&this.m_positiveButton&&this.m_closeOnEnter){var b=this,c=0;this.AttachObject(this.m_focusAnchor2,"onfocus",function(){if(c==0)c=1});this.AttachObject(this.m_focusAnchor2,"onblur",function(){c=2});UI.GetWindowEventManager().InstallKpel(this.m_focusAnchor2,function(e,f){if(b.IsShown()&&b.m_closeOnEnter&&c==1&&(f.GetKey()==D2L.KeyPressEvent.Key.Enter||
f.GetCharacter()==" "))b.m_positiveButton.Click()})}},SetCloseOnEnter:function(b){this.m_closeOnEnter=b},SetSrc:function(b,c){arguments.callee.$.SetSrc.call(this,b,c);D2L.Debug.IsEnabled()&&alert("You can not set the source of a Prompt Dialog")},SetPositiveButtonText:function(b){if(!this.m_positiveButton)this.m_positiveButton=this.AddCustomButton(b,D2L.Dialog.ButtonPosition.Middle,D2L.Dialog.ResponseType.Positive);this.m_positiveButton.SetText(b)},SetPrimaryMessage:function(b){this.m_primaryMessage=
D2L.LP.Text.IText.Normalize(b,"D2L.Dialog.Prompt","SetPrimaryMessage","primaryMessage");if(this.m_primaryMessageSpan){D2L.Util.Dom.Purge(this.m_primaryMessageSpan);this.m_primaryMessage.AssignHtml(this.m_primaryMessageSpan,"innerHTML");var c=this;this.m_primaryMessage.GetHtml().Register(function(e){c.m_primaryMessageSpan.style.display=e.length>0?"block":"none"})}},SetSecondaryMessage:function(b){this.m_secondaryMessage=D2L.LP.Text.IText.Normalize(b,"D2L.Dialog.Prompt","SetSecondaryMessage","secondaryMessage");
if(this.m_secondaryMessageSpan){D2L.Util.Dom.Purge(this.m_secondaryMessageSpan);this.m_secondaryMessage.AssignHtml(this.m_secondaryMessageSpan,"innerHTML");var c=this;this.m_secondaryMessage.GetHtml().Register(function(e){c.m_secondaryMessageSpan.style.display=e.length>0?"block":"none"})}}});
D2L.Dialog.AudioCapture=D2L.Dialog.extend({Construct:function(b){arguments.callee.$.Construct.call(this,UI.GetUniqueHtmlId(),b);this.AddButton(D2L.Control.Button.Type.Cancel);this.AddButton(D2L.Control.Button.Type.Add,"add","BTN_addAudioCapture");this.SetSrc("/d2l/common/dialogs/audiocapture/main.d2l","DialogCallback");this.SetSize(600,400);var c=this;this.OnOpen.RegisterMethod(function(){c.SetAddButtonIsEnabled(false)})},Close:function(){this.SetFooterText(new D2L.LP.Text.PlainText(""));arguments.callee.$.Close.call(this)},
Open:function(b){return arguments.callee.$.Open.call(this,b)},SetAddButtonIsEnabled:function(b){var c=this.GetButton("BTN_addAudioCapture");c&&c.SetIsEnabled(b)}});
D2L.Dialog.Confirm=D2L.Dialog.Prompt.extend({Construct:function(b,c,e,f){arguments.callee.$.Construct.call(this,b,c,e,f);this.SetPositiveButtonText(new D2L.LP.Text.LangTerm("Standard.Buttons.btnYes"));this.m_closeIconResponseType=D2L.Dialog.ResponseType.Negative;this.m_negativeButton=this.AddCustomButton(new D2L.LP.Text.LangTerm("Standard.Buttons.btnNo"),D2L.Dialog.ButtonPosition.Middle,D2L.Dialog.ResponseType.Negative);this.SetIcon(new D2L.Images.ImageInfo("/d2l/img/lp/dialog/confirm.gif",48,48));
this.SetTitle(new D2L.LP.Text.LangTerm("Framework.Dialog.titConfirmation"))},SetNegativeButtonText:function(b){this.m_negativeButton.SetText(b)}});D2L.Dialog.ButtonType=D2L.Control.Button.Type;D2L.Dialog.ButtonPosition={Left:0,Middle:1,Right:2};D2L.Dialog.ResponseType={Abort:0,Positive:1,Negative:2};
D2L.Dialog.EquationEditor=D2L.Dialog.extend({Construct:function(b){arguments.callee.$.Construct.call(this,UI.GetUniqueHtmlId(),b);this.SetSize("690","455");this.SetSrc("/d2l/common/dialogs/equation/equationEditor.d2l","GetMath");this.AddButton(D2L.Control.Button.Type.Cancel);this.AddButton(D2L.Control.Button.Type.Insert)}});
D2L.Dialog.Error=D2L.Dialog.Prompt.extend({Construct:function(b,c,e){arguments.callee.$.Construct.call(this,b,undefined,c,e);this.m_closeIconResponseType=D2L.Dialog.ResponseType.Positive;this.SetPositiveButtonText(new D2L.LP.Text.LangTerm("Standard.Buttons.btnOk"));this.SetIcon(new D2L.Images.ImageInfo("/d2l/img/lp/dialog/error.gif",48,48));this.SetHasCloseIcon(false);this.SetTitle(new D2L.LP.Text.LangTerm("Framework.Dialog.titError"))}});
D2L.Dialog.Prompt.ImageTextAlternative=D2L.Dialog.Prompt.extend({Construct:function(b){var c=this;arguments.callee.$.Construct.call(this,UI.GetUniqueHtmlId(),function(e){if(c.m_input.value==""&&!c.m_decorativeInput.checked&&e.GetType()!=D2L.Dialog.ResponseType.Abort)c.GetWindow().UI.Error(new D2L.LP.Text.LangTerm("Framework.HtmlEditor2.errPrimarySpecifyTextAlternative"),new D2L.LP.Text.LangTerm("Framework.HtmlEditor2.errSecondarySpecifyTextAlternative"));else{c.SetCallback(b);c.CallCallback(e)}},
new D2L.LP.Text.LangTerm("Framework.HtmlEditor2.hdrTextAlternative"),new D2L.LP.Text.LangTerm("Framework.HtmlEditor2.lblTextAlternativeDescription"),false);this.m_decorativeInput=this.m_input=null;this.SetPositiveButtonText(new D2L.LP.Text.LangTerm("Standard.Buttons.btnOk"));this.SetIcon(new D2L.Images.ImageInfo("/d2l/img/lp/dialog/info.gif",48,48));this.SetHasCloseIcon(false);this.SetTitle(new D2L.LP.Text.LangTerm("Framework.HtmlEditor2.titProvideTextAlternative"));this.SetWidth(450)},BuildDom:function(){arguments.callee.$.BuildDom.call(this);
var b=this.GetWindow().UI.GetUniqueHtmlId(),c=this.CreateElement("label");c.htmlFor=b;c.appendChild(this.CreateTextNode(new D2L.LP.Text.LangTerm("Framework.HtmlEditor2.lblTextAlternative")));c.appendChild(this.CreateTextNode(" "));this.m_input=this.CreateElement("input");this.m_input.type="text";this.m_input.id=b;this.m_input.className="d_edt";this.m_input.maxLength=80;this.m_input.style.width="50%";b=this.GetWindow().UI.GetUniqueHtmlId();var e=this.CreateElement("label");e.htmlFor=b;e.appendChild(this.CreateTextNode(new D2L.LP.Text.LangTerm("Framework.HtmlEditor2.lblImageDecorative")));
this.m_decorativeInput=this.CreateElement("input");this.m_decorativeInput.type="checkbox";this.m_decorativeInput.id=b;this.m_decorativeInput.className="d_chb";var f=this;this.AttachObject(this.m_decorativeInput,"onclick",function(){f.m_input.disabled=f.m_decorativeInput.checked?true:false;f.m_input.className="d_edt";return true});this.AppendChild(this.CreateElement("br"));this.AppendChild(c);this.AppendChild(this.m_input);this.AppendChild(this.CreateElement("br"));this.AppendChild(this.m_decorativeInput);
this.AppendChild(this.CreateTextNode("&nbsp;"));this.AppendChild(e)},GetTextAlternative:function(){return this.m_input?this.m_input.value:""},IsDecorative:function(){return this.m_decorativeInput?this.m_decorativeInput.checked:false}});
D2L.Dialog.Info=D2L.Dialog.Prompt.extend({Construct:function(b,c,e){arguments.callee.$.Construct.call(this,b,undefined,c,e);this.m_closeIconResponseType=D2L.Dialog.ResponseType.Positive;this.SetPositiveButtonText(new D2L.LP.Text.LangTerm("Standard.Buttons.btnOk"));this.SetIcon(new D2L.Images.ImageInfo("/d2l/img/lp/dialog/info.gif",48,48));this.SetHasCloseIcon(false);this.SetTitle(new D2L.LP.Text.LangTerm("Framework.Dialog.titInformation"))}});
D2L.Dialog.Prompt.Input=D2L.Dialog.Prompt.extend({Construct:function(b,c,e,f){arguments.callee.$.Construct.call(this,UI.GetUniqueHtmlId(),b,c,e);this.m_fieldName=f;this.SetPositiveButtonText(new D2L.LP.Text.LangTerm("Standard.Buttons.btnOk"));this.AddCustomButton(new D2L.LP.Text.LangTerm("Standard.Buttons.btnCancel"),D2L.Dialog.ButtonPosition.Middle,D2L.Dialog.ResponseType.Abort);this.SetIcon(new D2L.Images.ImageInfo("/d2l/img/lp/dialog/info.gif",48,48));this.SetTitle(new D2L.LP.Text.LangTerm("Framework.Dialog.titInputRequested"))},
BuildDom:function(){arguments.callee.$.BuildDom.call(this);var b=this.GetWindow().UI.GetUniqueHtmlId(),c=this.CreateElement("table");c.align="center";var e=c.insertRow(-1),f=e.insertCell(-1);f.style.padding="3px";var g=this.CreateElement("label");g.htmlFor=b;g.appendChild(this.CreateTextNode(this.m_fieldName));g.appendChild(this.CreateTextNode(":"));f.appendChild(g);f=e.insertCell(-1);f.style.padding="3px";this.m_input=this.CreateElement("input");this.m_input.type="text";this.m_input.id=b;this.m_input.className=
"d_edt";f.appendChild(this.m_input);this.AppendChild(c)},GetInputValue:function(){return this.m_input?this.m_input.value:""}});D2L.Dialog.Native={};
D2L.Dialog.Native.Prompt=D2L.DialogBase.extend({Construct:function(b,c,e,f){arguments.callee.$.Construct.call(this,b,c);for(var g=window;g.parent!=g&&g.parent.UI;){var h=g.parent.document.getElementsByTagName("frame");if(h&&h.length>0)break;g=g.parent}this.m_openerWindow=g;this.m_secondaryMessage=this.m_primaryMessage=null;this.SetPrimaryMessage(e);this.SetSecondaryMessage(f);window[this.m_name]=this},AddButton:function(){return null},AddCustomButton:function(){return null},CallCallback:function(b){this.IsClosed()&&
b!=null&&b.GetType()!=D2L.Dialog.ResponseType.Abort&&UI.GetMessageArea().AddWarningMessage(new D2L.LP.Text.PlainText("Calling CallCallback on a closed dialog can cause unexpected errors in IE. Please make sure you are closing the dialog inside your outer callback function instead of SrcCallback."),true);var c=this.GetCallback(),e=b;if(c){b=c.apply(c,[b].concat(this.m_callbackArguments));if(b!==undefined)e=b}this.m_delayedReturn&&this.m_delayedReturn.Trigger(e)},Close:function(){},GetButton:function(){return new D2L.Control.Button(new D2L.LP.Text.PlainText(" "))},
GetCallback:function(){return this.m_callback},GetContentHeight:function(){return 0},GetHeight:function(){return 0},GetWidth:function(){return 0},GetFooterText:function(){return new D2L.LP.Text.PlainText("")},GetOpenerWindow:function(){return this.m_openerWindow},GetPositiveButton:function(){return new D2L.Control.Button(new D2L.LP.Text.PlainText(" "))},GetTitle:function(){return new D2L.LP.Text.PlainText("")},HasCloseIcon:function(){return true},Hide:function(){},IsClosed:function(){return!this.IsShown()},
IsResizable:function(){return false},IsShown:function(){return this.m_isShown},Open:function(){},RemoveButton:function(){},SetCallback:function(b){this.m_callback=null;this.m_callbackArguments=[];if(b&&b.apply){this.m_callback=b;for(var c=1;c<arguments.length;c++)this.m_callbackArguments.push(arguments[c])}},SetCloseOnEnter:function(){},SetFooterText:function(){},SetHasCloseIcon:function(){},SetHeight:function(){},SetIcon:function(){},SetIsResizable:function(){},SetPositiveButtonText:function(){},
SetPrimaryMessage:function(b){this.m_primaryMessage=D2L.LP.Text.IText.Normalize(b,"D2L.Dialog.Native.Prompt","SetPrimaryMessage","primaryMessage")},SetSecondaryMessage:function(b){this.m_secondaryMessage=D2L.LP.Text.IText.Normalize(b,"D2L.Dialog.Native.Prompt","SetSecondaryMessage","secondaryMessage")},SetSize:function(){},SetSrc:function(){D2L.Debug.IsEnabled()&&alert("You can not set the source of a Prompt Dialog")},SetSrcParam:function(){},SetTitle:function(){},SetWidth:function(){}});
D2L.Dialog.Native.Alert=D2L.Dialog.Native.Prompt.extend({Construct:function(b,c,e){arguments.callee.$.Construct.call(this,b,undefined,c,e);this.m_closeIconResponseType=D2L.Dialog.ResponseType.Positive},Open:function(){var b=this;this.m_isShown=true;this.m_primaryMessage.GetHtml().Register(function(c){b.m_secondaryMessage.GetHtml().Register(function(e){var f=b.GetOpenerWindow();if(f){f.alert(c+"\n\n"+e);e=new D2L.Dialog.Response(b,D2L.Dialog.ResponseType.Positive);b.CallCallback(e)}b.m_isShown=false})})}});
D2L.Dialog.Native.Error=D2L.Dialog.Native.Alert;D2L.Dialog.Native.Info=D2L.Dialog.Native.Alert;D2L.Dialog.Native.Warning=D2L.Dialog.Native.Alert;
D2L.Dialog.Native.Confirm=D2L.Dialog.Native.Prompt.extend({Construct:function(b,c,e,f){arguments.callee.$.Construct.call(this,b,c,e,f);this.m_closeIconResponseType=D2L.Dialog.ResponseType.Negative},Open:function(){var b=this;this.m_isShown=true;this.m_primaryMessage.GetHtml().Register(function(c){b.m_secondaryMessage.GetHtml().Register(function(e){var f=b.GetOpenerWindow();if(f){var g=null;g=f.confirm(c+"\n\n"+e)?new D2L.Dialog.Response(b,D2L.Dialog.ResponseType.Positive):new D2L.Dialog.Response(b,
D2L.Dialog.ResponseType.Negative);b.CallCallback(g)}b.m_isShown=false})})},SetNegativeButtonText:function(){}});if(Global.Preferences.UseNonModalDialogs){D2L.Dialog.Error=D2L.Dialog.Native.Error;D2L.Dialog.Info=D2L.Dialog.Native.Info;D2L.Dialog.Warning=D2L.Dialog.Native.Warning;D2L.Dialog.Confirm=D2L.Dialog.Native.Confirm}
D2L.Dialog.OrgUnitSelector=D2L.Dialog.extend({Construct:function(b){arguments.callee.$.Construct.call(this,UI.GetUniqueHtmlId(),b);this.SetTitle(new D2L.LP.Text.LangTerm("Framework.OrgUnitSelector.btnAddOrgUnits"));this.SetSize("650px","450px");this.SetSrc("/d2l/common/dialogs/orgUnitSelector/orgUnitSelector.d2l","SrcCallback");this.SetSrcParam("d","1");this.AddButton(D2L.Control.Button.Type.Cancel);this.AddCustomButton(new D2L.LP.Text.LangTerm("Standard.Buttons.btnInsert"),D2L.Dialog.ButtonPosition.Right,
D2L.Dialog.ResponseType.Positive).SetIsEnabled(false);this.SetAllowMultiple(true);this.SetDescendantOptions(D2L.OrgUnitSelector.DescendantOptions.UserChoice);this.SetOrgUnitOptions(D2L.OrgUnitSelector.OrgUnitOptions.DescendantsOnly)},SetAllowMultiple:function(b){this.SetSrcParam("am",b);b?this.SetTitle(new D2L.LP.Text.LangTerm("Framework.OrgUnitSelector.btnAddOrgUnits")):this.SetTitle(new D2L.LP.Text.LangTerm("Framework.OrgUnitSelector.btnAddOrgUnit"))},SetAllowOrg:function(b){this.SetSrcParam("ao",
b)},SetDescendantOptions:function(b){this.SetSrcParam("dopts",b)},SetOrgUnitOptions:function(b){this.SetSrcParam("ouopts",b)},SetDataSplit:function(b){this.SetSrcParam("ds",b)}});
D2L.Popup=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this,true);this.bodySource=this.winName="";this.footerSource="footer.d2l";this.footerMsg=this.queryString="";this.width=this.height=400;this.title=new D2L.LP.Text.PlainText("");this.hasStatusBar=false;this.hasAutoScroll=true;this.buttons=[];this.m_window=null;this.m_autoCloseWindow=true;this.m_name=UI.GetUniqueHtmlId();window[this.m_name]=this;this.m_isClone=false},Dispose:function(){arguments.callee.$.Dispose.call(this);
this.m_window&&!this.m_isClone&&this.m_autoCloseWindow&&UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE&&UI.GetBrowserInfo().MajorVersion<7&&!this.m_window.closed&&this.m_window.close();this.m_window=null},AddButton:function(b,c,e){var f=this,g=function(){b.isString&&f.RemoveButton(b);f.buttons.push(new Array(b,c,e))},h=this.GetWindow();if(h!==null&&h.OnLoadComplete&&h.isLoadComplete!==undefined)h.isLoadComplete?g():h.OnLoadComplete.RegisterMethod(g);else g()},RemoveButton:function(b){var c=this,
e=function(){for(var g=0;g<c.buttons.length;g++)if(c.buttons[g][0].isString)if(c.buttons[g][0]==b)if(c.buttons[g]==c.buttons[c.buttons.length-1])c.buttons.pop();else c.buttons[g]=c.buttons.pop()},f=this.GetWindow();if(f!==null&&f.OnLoadComplete&&f.isLoadComplete!==undefined)f.isLoadComplete?e():f.OnLoadComplete.RegisterMethod(e);else e()},AddCancelButton:function(){this.AddButton("Cancel","Cancel","Left")},AddCloseButton:function(){this.AddButton("Close","Close","Left")},AddCreateButton:function(){this.AddButton("Create",
"Create","Right")},AddSaveButton:function(){this.AddButton("Save","Save","Right")},ClearButtons:function(){var b=this,c=function(){b.buttons=[]},e=this.GetWindow();if(e!==null&&e.OnLoadComplete&&e.isLoadComplete!==undefined)e.isLoadComplete?c():e.OnLoadComplete.RegisterMethod(c);else c()},Open:function(){if(this.m_window)if(this.m_window.closed)this.m_window=null;if(!this.m_window){var b;if(this.hasStatusBar)b="yes";b="height="+this.height+",width="+this.width+",status="+b;b+=",location=0,menubar=0,toolbar=0,directories=0,resizable=1";
this.m_window=window.open(this.GetUrl(),this.winName,b)}this.m_window&&this.m_window.focus()},Load:function(){var b=this.GetWindow();if(b!==null){b.resizeTo(this.width,this.height);b.frames.Body.location.href=this.bodySource.length>0?this.queryString.length>0?this.bodySource+"?"+this.queryString:this.bodySource:"/d2l/common/popup/empty.html";this.LoadFooter();this.LoadHeader()}},LoadFooter:function(){var b=this.GetWindow();if(b!==null){var c=b.frames.Footer,e=this,f=function(){e.GetButtonString().Register(function(g){if(e.footerSource==
"footer.d2l"){var h=new c.D2L.NavInfo;h.SetParam("footerMsg",e.footerMsg);h.SetParam("buttons",g);c.Nav.Go(h)}else c.location.href=e.footerSource+"?"+e.queryString})};if(b.OnLoadComplete&&b.isLoadComplete!==undefined)b.isLoadComplete?f():b.OnLoadComplete.RegisterMethod(f)}},LoadHeader:function(){var b=this.GetWindow();b!==null&&b.SetTitle&&this.GetTitle().GetText().Register(function(c){b.SetTitle(c)})},GetButtonString:function(){var b=new D2L.Util.DelayedReturn,c=new d2l_Encoder("|",",","$","*"),
e=this,f=function(g){if(g==e.buttons.length)b.Trigger(c.Serialize());else{var h=[],k=e.buttons[g][0];if(k.isString)k=new D2L.LP.Text.PlainText(e.buttons[g][0]);k.GetText().Register(function(j){h[0]=j;h[1]=e.buttons[g][1];h[2]=e.buttons[g][2];c.AddRow(h);f(++g)})}};f(0);return b},GetTitle:function(){if(this.title.isString)this.title=new D2L.LP.Text.PlainText(this.title);return this.title},FetchTitle:function(b){this.GetTitle().GetText().Register(function(c){b.call(b,c)})},GetUrl:function(){var b="/d2l/common/popup/popup.d2l?ou="+
Global.OrgUnitId;b+="&queryString="+D2L.Util.Url.Encode(this.queryString);b+="&footerMsg="+D2L.Util.Url.Encode(this.footerMsg.decodeHtml());b+="&popBodySrc="+D2L.Util.Url.Encode(this.bodySource);b+="&popFooterSrc="+D2L.Util.Url.Encode(this.footerSource);b+="&width="+this.width;b+="&height="+this.height;b+="&hasStatusBar="+this.hasStatusBar;b+="&hasAutoScroll="+this.hasAutoScroll;b+="&p="+D2L.Util.Url.Encode(this.m_name);return b},GetWindow:function(){return this.m_window},SetAutoCloseWindow:function(b){this.m_autoCloseWindow=
b},SetTitle:function(b){this.title=D2L.LP.Text.IText.Normalize(b,"D2L.Popup","SetTitle","title");this.LoadHeader()}});var d2l_Popup=D2L.Popup;D2L.Popup.InsertFile=D2L.Popup.extend({Construct:function(b,c,e,f,g,h,k){arguments.callee.$.Construct.call(this);this.bodySource="/d2l/common/insert/insert.d2l";this.queryString="ou="+Global.OrgUnitId+"&type="+c+"&aco="+(e?"1":"0")+"&aup="+(f?"1":"0")+"&aur="+(g?"1":"0")+"&sloc="+h+"&mfs="+k+"&cb="+b;this.height=350;this.width=550;this.AddCloseButton()}});
D2L.Popup.HtmlEditor=D2L.Popup.extend({Construct:function(b,c){arguments.callee.$.Construct.call(this);this.bodySource="/d2l/common/dialogs/htmlEditor/htmlEditor.d2l";this.queryString="ou="+Global.OrgUnitId+"&cbGet="+b+"&cbSet="+c+"&uiid=1";this.height=465;this.width=650;this.SetTitle(new D2L.LP.Text.LangTerm("FrameworkWebPages.HtmlEditorDialog.titHtmlEditor"));this.AddCancelButton();this.AddButton("Insert","insertData","Right")}});
D2L.Popup.Email=D2L.Popup.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_body="";this.m_emails=[];this.m_groups=[];this.m_groupLocations=[];this.m_users=[];this.m_userLocations=[];this.m_subject="";this.SetAutoCloseWindow(false);var b=UI.GetUniqueHtmlId();window[b]=this;this.bodySource="/d2l/lms/email/frame_item_message_compose.d2l";this.queryString="ou="+Global.OrgUnitId+"&p=1&ext=1&cb="+b;this.SetTitle(new D2L.LP.Text.LangTerm("Email.frame_item_message_compose.titComposeNewMessage"));
this.width=740;this.height=735;this.AddCancelButton();this.AddButton(new D2L.LP.Text.LangTerm("Standard.Buttons.btnSend"),"Send","Right")},AddEmails:function(b,c){if(c===undefined)c=D2L.Popup.Email.Location.To;D2L.Util.JavaScript.IsArray(b)||(b=[b]);for(var e=0;e<b.length;e++){var f=new String(b[e]);if(this.m_emails[f]===undefined)this.m_emails[f]=[];this.m_emails[f].push(c)}},AddUsers:function(b,c){if(c===undefined)c=D2L.Popup.Email.Location.To;D2L.Util.JavaScript.IsArray(b)||(b=[b]);for(var e=0;e<
b.length;e++){var f=new String("u"+b[e]);if(this.m_users[f]===undefined)this.m_users[f]=[];this.m_users[f].push(c)}},AddGroups:function(b,c){if(c===undefined)c=D2L.Popup.Email.Location.To;D2L.Util.JavaScript.IsArray(b)||(b=[b]);for(var e=0;e<b.length;e++){var f=new String("g"+b[e]);if(this.m_groups[f]===undefined)this.m_groups[f]=[];this.m_groups[f].push(c)}},GetBody:function(){return this.m_body},GetEmails:function(){return this.m_emails},GetGroupIds:function(){var b=[];for(var c in this.m_groups)b.push(c.substr(1));
return b},GetGroups:function(){return this.m_groups},GetSubject:function(){return this.m_subject},GetUsers:function(){return this.m_users},GetUserIds:function(){var b=[];for(var c in this.m_users)b.push(c.substr(1));return b},SetBody:function(b){this.m_body=b},SetSubject:function(b){this.m_subject=b}});D2L.Popup.Email.Location={To:0,Cc:1,Bcc:2};
D2L.Dialog.Processing=D2L.Dialog.extend({Construct:function(b){arguments.callee.$.Construct.call(this,UI.GetUniqueHtmlId(),function(c){c.GetDialog().Close()});this.m_message=this.m_divProcessing=null;this.m_processBarVisibility=true;this.SetMessage(b);this.SetHeight("140px");this.SetTitle(new D2L.LP.Text.LangTerm("Framework.Dialog.titProcessing"));this.SetHasCloseIcon(false)},BuildDom:function(){arguments.callee.$.BuildDom.call(this);this.m_divMessage=this.CreateElement("div");this.m_divMessage.appendChild(this.CreateTextNode(""));
this.AppendChild(this.m_divMessage);this.m_divProcessing=this.CreateElement("div");this.m_divProcessing.style.padding="1em";this.m_divProcessing.style.textAlign="center";this.m_divProcessing.style.display=this.m_processBarVisibility?"block":"none";var b=new D2L.Control.Image;b.SetImage(new D2L.Images.ImageTerm("Framework.Dialog.imgProcessing"));b.AppendTo(this.m_divProcessing);this.AppendChild(this.m_divProcessing);this.SetMessage(this.m_message)},SetMessage:function(b){this.m_message=D2L.LP.Text.IText.Normalize(b,
"D2L.Dialog.Processing","SetMessage","message");this.m_divMessage&&this.m_message.AssignText(this.m_divMessage.firstChild,"data")},SetProcessBarVisibility:function(b){this.m_processBarVisibility=b;if(this.m_divProcessing)this.m_divProcessing.style.display=b?"block":"none"}});
D2L.Dialog.ProgressBar=D2L.Dialog.extend({Construct:function(b){arguments.callee.$.Construct.call(this,UI.GetUniqueHtmlId());this.m_progressBar=b;this.m_message=new D2L.LP.Text.PlainText("");this.m_domMessage=null;this.SetHasCloseIcon(false);this.SetTitle(new D2L.LP.Text.LangTerm("Framework.Dialog.titProcessing"))},BuildDom:function(){if(!this.m_hasDomBeenBuilt){arguments.callee.$.BuildDom.call(this);this.m_domMessage=this.CreateElement("p");this.m_domMessage.style.marginTop="0";this.AppendChild(this.m_domMessage);
this.AppendChild(this.m_progressBar);this.Render_Message()}},GetProgressBar:function(){return this.m_progressBar},SetMessage:function(b){this.m_message=D2L.LP.Text.IText.Normalize(b,"D2L.Dialog.ProgressBar","SetMessage","message");this.Render_Message()},Render_Message:function(){if(this.m_domMessage!==null){var b=this;this.m_message.GetText().Register(function(c){if(c.length>0){D2L.Util.Dom.Purge(b.m_domMessage);b.m_domMessage.innerHTML=D2L.Util.Html.Encode(c);b.m_domMessage.style.display="block"}else b.m_domMessage.style.display=
"none"})}}});D2L.Dialog.QuickLink=D2L.Dialog.extend({Construct:function(b,c){arguments.callee.$.Construct.call(this,UI.GetUniqueHtmlId(),b);this.SetSize(525,400);this.SetSrc("/d2l/common/dialogs/quickLink/insertQuickLink.d2l","SrcCallback");c&&this.SetSrcParam("hasLinkOptions","1");this.AddButton(D2L.Control.Button.Type.Cancel);this.AddButton(D2L.Control.Button.Type.Insert)}});
D2L.Dialog.Response=D2L.Class.extend({Construct:function(b,c,e){arguments.callee.$.Construct.call(this);if(e===undefined)e="";this.m_type=c;this.m_param=e;this.m_dialog=b;this.m_data=[]},CallCallback:function(){this.GetDialog().CallCallback(this)},GetData:function(b){if(this.m_data[b]!==undefined){var c=function(e){var f=e;if(D2L.Util.JavaScript.IsArray(e)){f=[];for(var g=0;g<e.length;g++)f.push(c(e[g]))}else if(e!==undefined&&e!==null&&e.Serialize!==undefined&&e.Deserialize!==undefined&&e.ClassName!==
undefined)f=D2L.Serialization.JsonDeserializer.Deserialize(D2L.Serialization.JsonSerializer.Serialize(e));return f};return c(this.m_data[b])}else return null},GetDialog:function(){return this.m_dialog},GetType:function(){return this.m_type},GetParam:function(){return this.m_param},SetData:function(b,c){this.m_data[b]=c}});
D2L.Dialog.SaveConfirmation=D2L.Dialog.Prompt.extend({Construct:function(b,c,e){if(c===undefined)c=new D2L.LP.Text.LangTerm("Framework.Dialog.lblSaveConfirmationPrimary");if(e===undefined)e=new D2L.LP.Text.LangTerm("Framework.Dialog.lblSaveConfirmationSecondary");arguments.callee.$.Construct.call(this,UI.GetUniqueHtmlId(),b,c,e);this.SetPositiveButtonText(new D2L.LP.Text.LangTerm("Standard.Buttons.btnSave"));this.m_dontSaveButton=this.AddCustomButton(new D2L.LP.Text.LangTerm("Standard.Buttons.btnDontSave"),
D2L.Dialog.ButtonPosition.Middle,D2L.Dialog.ResponseType.Negative);this.m_cancelButton=this.AddCustomButton(new D2L.LP.Text.LangTerm("Standard.Buttons.btnCancel"),D2L.Dialog.ButtonPosition.Middle,D2L.Dialog.ResponseType.Abort);this.SetTitle(new D2L.LP.Text.LangTerm("Framework.Dialog.titSaveChanges"));this.SetIcon(new D2L.Images.ImageInfo("/d2l/img/lp/dialog/save.gif",48,48));this.SetCloseOnEnter(false)},GetSaveButton:function(){return this.m_positiveButton},GetDontSaveButton:function(){return this.m_dontSaveButton},
GetCancelButton:function(){return this.m_cancelButton}});
D2L.Dialog.SelectFile=D2L.Dialog.extend({Construct:function(b){arguments.callee.$.Construct.call(this,UI.GetUniqueHtmlId(),b);this.m_areaFilters=["MyComputer","OuFiles"];this.m_selectedAreaParam=this.m_selectedArea="";this.m_allowMultiple=true;this.m_allowSaveToCourseFiles=this.m_forceSaveToCourseFiles=this.m_askForImageDesc=false;this.m_uploadInlineHelpLangTerm="";this.m_maxFileSize=0;this.AddButton(D2L.Control.Button.Type.Cancel);this.SetSrc("/d2l/common/dialogs/file/main.d2l","DialogCallback");
this.SetSize(620,420);var c=this;this.OnResize.RegisterMethod(function(e,f){c.CallSrcMethod("HandleResize",f)})},AddAreaFilter:function(b){b=b.toLowerCase();for(var c=false,e=0;e<this.m_areaFilters.length;e++)if(this.m_areaFilters[e]==b){c=true;break}c||this.m_areaFilters.push(b)},Close:function(){this.SetFooterText(new D2L.LP.Text.PlainText(""));if(this.m_positiveButton!==null){this.RemoveButton(this.m_positiveButton);this.m_positiveButton=null}arguments.callee.$.Close.call(this)},Open:function(b){this.SetSrcParam("am",
this.m_allowMultiple?"1":"0");this.SetSrcParam("fsc",this.m_forceSaveToCourseFiles?"1":"0");this.SetSrcParam("asc",this.m_allowSaveToCourseFiles?"1":"0");this.SetSrcParam("mfs",this.m_maxFileSize);this.SetSrcParam("afid",this.m_askForImageDesc);this.SetSrcParam("uih",this.m_uploadInlineHelpLangTerm);if(this.m_selectedArea.length>0){this.SetSrcParam("area",this.m_selectedArea);this.m_selectedAreaParam.length>0&&this.SetSrcParam("sap",this.m_selectedAreaParam)}for(var c="",e="",f=0;f<this.m_areaFilters.length;f++){c+=
e+this.m_areaFilters[f];e=","}this.SetSrcParam("af",c);return arguments.callee.$.Open.call(this,b)},RemoveAreaFilter:function(b){b=b.toLowerCase();for(var c=0;c<this.m_areaFilters.length;c++)if(this.m_areaFilters[c]==b){this.m_areaFilters=this.m_areaFilters.splice(c);break}if(b==this.m_selectedArea)this.m_selectedArea=""},SetAllowMultiple:function(b){this.m_allowMultiple=b},SetAreaFilters:function(b){this.m_areaFilters=b},SetAskForImageDescription:function(b){this.m_askForImageDesc=b},SetMaxFileSize:function(b){this.m_maxFileSize=
b},SetForceSaveToCourseFiles:function(b){this.m_forceSaveToCourseFiles=b},SetAllowSaveToCourseFiles:function(b){this.m_allowSaveToCourseFiles=b},SetUploadInlineHelpLangTerm:function(b){this.m_uploadInlineHelpLangTerm=b},SetSelectedArea:function(b,c){b.length>0&&this.AddAreaFilter(b);this.m_selectedArea=b;if(c!==undefined)this.m_selectedAreaParam=c},SetFileFilters:function(b){D2L.Util.JavaScript.IsArray(b)||(b=[b]);for(var c="",e="",f=0;f<b.length;f++){c+=e+b[f];e=","}this.SetSrcParam("f",c)}});
D2L.Dialog.SelectItem=D2L.Dialog.extend({Construct:function(b){arguments.callee.$.Construct.call(this,UI.GetUniqueHtmlId(),b);this.m_extensionPoint=this.m_subject="";this.SetSize("975","650");this.SetSrc("/d2l/common/dialogs/isf/selectItem.d2l","GetSelectedItem");this.AddButton(D2L.Control.Button.Type.Cancel);this.AddCustomButton(new D2L.LP.Text.LangTerm("Standard.Buttons.btnBack"),D2L.Dialog.ButtonPosition.Left,D2L.Dialog.ResponseType.Positive,"back","BTN_back");this.AddButton(D2L.Control.Button.Type.Next,
"next","BTN_next")},GetSubject:function(){return this.m_subject},Open:function(b){this.SetSrcParam("subject",this.m_subject);this.SetSrcParam("extensionPoint",this.m_extensionPoint);return arguments.callee.$.Open.call(this,b)},SetDialogBackButtonIsDisplayed:function(b){var c=this.GetButton("BTN_back");c&&c.SetIsDisplayed(b)},SetDialogNextButtonText:function(b){var c=this.GetButton("BTN_next");if(c){c.SetText(new D2L.LP.Text.PlainText(b));c.SetIsDisplayed(true)}},SetDialogNextButtonIsEnabled:function(b){var c=
this.GetButton("BTN_next");c&&c.SetIsEnabled(b)},SetSubject:function(b){this.m_subject=b},SetExtensionPoint:function(b){this.m_extensionPoint=b}});
D2L.Dialog.SelectPath=D2L.Dialog.extend({Construct:function(b){arguments.callee.$.Construct.call(this,UI.GetUniqueHtmlId(),b);this.m_allowSharedFilesPaths=true;this.m_initialPath="";this.m_restrictToCurrentOrgUnit=true;this.AddButton(D2L.Control.Button.Type.Cancel);this.AddCustomButton(new D2L.LP.Text.LangTerm("FrameworkWebPages.SelectPathDialog.titSelectPath"),D2L.Dialog.ButtonPosition.Right,D2L.Dialog.ResponseType.Positive);this.SetSize(400,400);this.SetTitle(new D2L.LP.Text.LangTerm("FrameworkWebPages.SelectPathDialog.titSelectPath"));
this.SetFooterText(new D2L.LP.Text.LangTerm("FrameworkWebPages.SelectPathDialog.lblPleaseSelectPath"));this.SetSrc("/d2l/common/dialogs/selectPath/selectPath.d2l","SrcCallback");this.SetAllowSharedFilesPaths(true);this.SetRestrctToCurrentOrgUnit(true)},SetAllowSharedFilesPaths:function(b){this.m_allowSharedFilesPaths=b;this.SetSrcParam("asfp",b?"1":"0")},SetInitialPath:function(b){this.m_initialPath=b;this.SetSrcParam("initialPath",this.m_initialPath)},SetInstructions:function(b){this.m_instructions=
b;this.SetSrcParam("instructions",this.m_instructions)},SetRestrctToCurrentOrgUnit:function(b){this.m_restrictToCurrentOrgUnit=b;this.SetSrcParam("r",this.m_restrictToCurrentOrgUnit?"1":"0")}});
D2L.Dialog.SpellChecker=D2L.Dialog.extend({Construct:function(b,c,e){arguments.callee.$.Construct.call(this,UI.GetUniqueHtmlId(),b);this.SetSize(500,450);this.SetSrc("/d2l/common/dialogs/spellChecker/spellChecker.d2l","SrcCallback");c!==undefined&&this.SetSrcParam("text",c);e!==undefined&&this.SetSrcParam("isTextHtml",e);this.AddCustomButton(new D2L.LP.Text.LangTerm("Standard.Buttons.btnCancel"),D2L.Dialog.ButtonPosition.Right,D2L.Dialog.ResponseType.Negative);this.AddCustomButton(new D2L.LP.Text.LangTerm("Standard.Buttons.btnApply"),
D2L.Dialog.ButtonPosition.Left,D2L.Dialog.ResponseType.Positive)},SetText:function(b){this.SetSrcParam("text",b)},SetIsTextHtml:function(b){this.SetSrcParam("isTextHtml",b)},SetPreviewText:function(b){this.SetSrcParam("hasDiffPreviewText",true);this.SetSrcParam("previewText",b)},SetIsPreviewTextHtml:function(b){this.SetSrcParam("isPreviewTextHtml",b)}});
D2L.Dialog.Warning=D2L.Dialog.Prompt.extend({Construct:function(b,c,e){arguments.callee.$.Construct.call(this,b,undefined,c,e);this.m_closeIconResponseType=D2L.Dialog.ResponseType.Positive;this.SetPositiveButtonText(new D2L.LP.Text.LangTerm("Standard.Buttons.btnOk"));this.SetIcon(new D2L.Images.ImageInfo("/d2l/img/lp/dialog/warning.gif",48,48));this.SetHasCloseIcon(false);this.SetTitle(new D2L.LP.Text.LangTerm("Framework.Dialog.titWarning"))}});D2L.DisplayGroups={};
D2L.DisplayGroups.DisplayGroupManager=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_groups={}},DeserializeMin:function(b){this.m_groups=b.GetDictionaryMin("string",D2L.DisplayGroups.DisplayGroupData)},GetGroup:function(b){b=b.toLowerCase();return this.m_groups[b]?UI.GetControl(this.m_groups[b].ControlId.ID(),this.m_groups[b].ControlId.SID()):null},GetGroupControls:function(b){for(var c in this.m_groups){var e=this.m_groups[c];if(e.ControlId.ID()==b.ID()&&e.ControlId.SID()==
b.SID())return e.Controls}return[]},Init:function(){for(var b in this.m_groups){var c=this.GetGroup(b);c!==null&&c.Init()}},SetControlDisplayGroup:function(){}});D2L.DisplayGroups.DisplayGroupData=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.ControlId=null;this.Controls=[]},DeserializeMin:function(b){this.ControlId=b.GetObjectMin(D2L.Control.Id);this.Controls=b.GetObjectArrayMin(D2L.DisplayGroups.DisplayGroupControl)}});
D2L.Control.DisplayGroup=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.isDisplayed=true;this.m_controls=[]},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.isDisplayed=b.GetBoolean();this.m_controls=UI.GetDisplayGroupManager().GetGroupControls(this.GetControlId())},Init:function(){for(var b=0;b<this.m_controls.length;b++)this.m_controls[b].Init()},GetState:function(b){b.AddMember("IsDisplayed",this.IsDisplayed())},IsDisplayed:function(){return this.isDisplayed},
Show:function(){this.SetIsDisplayed(true)},Hide:function(){this.SetIsDisplayed(false)},SetIsDisplayed:function(b){UI.GetDisplayGroupManager();for(var c=0;c<this.m_controls.length;c++)this.m_controls[c].SetIsDisplayed(b);this.isDisplayed=b}});D2L.DisplayGroups.DisplayGroup=D2L.Control.DisplayGroup;D2L.DisplayGroup=D2L.Control.DisplayGroup;
D2L.DisplayGroups.DisplayGroupControl=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_type=D2L.DisplayGroups.DisplayGroupType.Object;this.m_mappedId="";this.m_control=null},DeserializeMin:function(b){this.m_type=b.GetMember();this.m_mappedId=b.GetMember()},Init:function(){var b=this,c=function(e){if(e!==null){b.AttachObject(e,"ID2LOnExpand",new D2L.EventHandler);e.ID2LOnExpand.RegisterMethod(function(){b.SetIsDisplayed(true)})}};if(this.m_control===null)if(this.m_type==
D2L.DisplayGroups.DisplayGroupType.Object){this.m_control=UI.GetControlMap().GetControlByMappedId(this.m_mappedId);c(this.m_control.GetDomNode())}else{this.m_control=UI.GetById(this.m_mappedId);c(this.m_control)}},SetIsDisplayed:function(b){this.Init();if(this.m_control!==null){if(this.m_type==D2L.DisplayGroups.DisplayGroupType.Object)this.m_control.SetIsDisplayed(b);else if(b)if(this.m_type==D2L.DisplayGroups.DisplayGroupType.Block)this.m_control.style.display="block";else if(this.m_type==D2L.DisplayGroups.DisplayGroupType.Inline)this.m_control.style.display=
"inline";else{if(this.m_type==D2L.DisplayGroups.DisplayGroupType.TableRow)this.m_control.style.display=UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE?"inline":"table-row"}else this.m_control.style.display="none";if(this.m_type!=D2L.DisplayGroups.DisplayGroupType.Object){(new D2L.TransformEvent(this.m_control)).Bubble();b&&(new D2L.DisplayVisibleEvent(this.m_control)).Bubble()}}}});D2L.DisplayGroups.DisplayGroupType={Block:0,Inline:1,Object:2,TableRow:3};
D2L.DragDrop={m_manager:null,LoadPackage:function(){return new D2L.LP.Web.Packaging.Loader.Load("D2L.LP.Web.Controls.DragDrop")},GetManager:function(){if(D2L.DragDrop.m_manager===null)D2L.DragDrop.m_manager=new D2L.DragDrop.Manager;return D2L.DragDrop.m_manager}};D2L.DragDrop.Modes={None:0,DraggableDroppable:1,Draggable:2,Droppable:3};
D2L.Control.Edit=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_blurEvent=new D2L.EventHandler;this.m_isEnabled=this.m_isDisplayed=true;this.m_keyPressEvent=new D2L.EventHandler;this.m_text=new D2L.LP.Text.PlainText;this.m_title=new D2L.LP.Text.PlainText;this.m_width=-1},BlurEvent:function(){return this.m_blurEvent},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);var b=this.SetDomNode(this.GetUI().CreateElement("input"));b.type=
"text";b.name=this.GetMappedId();b.className="d_edt";if(this.m_width>0)b.style.width=this.m_width+"px";else b.size=50;this.m_text&&this.SetText(this.m_text);this.m_title&&this.SetTitle(this.m_title);this.SetIsEnabled(this.IsEnabled());this.SetIsDisplayed(this.IsDisplayed());this.InstallEvents()}},Clear:function(b){if(b===undefined)b=false;this.m_text=new D2L.LP.Text.PlainText;if(this.IsRendered()){this.GetDomNode().value="";b&&WindowEventManager.BC(this.GetDomNode())}},Focus:function(){this.IsRendered()&&
this.GetDomNode().focus()},GetMultiEditValue:function(){if(this.IsEnabled()&&this.IsRendered())return this.GetDomNode().value;return""},GetState:function(b){this.IsRendered()&&b.AddMember("Text",this.GetDomNode().value)},GetText:function(){return this.IsRendered()?new D2L.LP.Text.PlainText(this.GetDomNode().value):this.m_text},GetTextAsString:function(){if(this.IsRendered())return this.GetDomNode().value;return""},GetTitle:function(){return this.m_title},GetValue:function(){return this.GetText().GetText()},
GetValueNoDelay:function(){return this.GetTextAsString()},GetWidth:function(){return this.m_width},HasValue:function(){var b=new D2L.Util.DelayedReturn;this.GetText().GetText().Register(function(c){b.Trigger(c.trim().length>0)});return b},HasValueNoDelay:function(){return this.GetTextAsString().trim().length>0},InstallEvents:function(){var b=this.GetDomNode(),c=this;this.AttachObject(b,"onblur",function(e){c.BlurEvent().Trigger(e||window.event)});this.GetUI().GetWindowEventManager().InstallKpel(b,
function(e,f){c.KeyPressEvent().Trigger(f)});this.AttachObject(b,"onchange",function(e){WindowEventManager.BC(this,e)})},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);var c=this.GetDomNode();if(c!==null){if(b.HasMember())c.ID2L=null;this.m_isDisplayed=c.style.display!="none";this.m_isEnabled=!c.disabled;this.m_text=new D2L.LP.Text.PlainText(c.value);this.m_title=new D2L.LP.Text.PlainText(c.getAttribute("title"))}else this.m_isEnabled=this.m_hasDomBeenBuilt=false},
IsDisplayed:function(){return this.m_isDisplayed},IsEnabled:function(){return this.IsRendered()?!this.GetDomNode().disabled:this.m_isEnabled},KeyPressEvent:function(){return this.m_keyPressEvent},OpenSpellChecker:function(){var b=this;D2L.Util.SpellChecker.OpenSpellChecker(this.GetTextAsString(),false).Register(function(c){b.SetText(new D2L.LP.Text.PlainText(c))})},Select:function(){this.IsRendered()&&this.GetDomNode().select()},SetIsDisplayed:function(b){if(this.IsRendered())this.GetDomNode().style.display=
b?"inline":"none";this.m_isDisplayed=b},SetIsEnabled:function(b){this.m_isEnabled=b;if(this.IsRendered())this.GetDomNode().disabled=!b},SetText:function(b,c){if(c===undefined)c=false;this.m_text=D2L.LP.Text.IText.Normalize(b,"D2L.Control.Edit","SetText","text");if(this.IsRendered()){this.m_text.AssignText(this.GetDomNode(),"value");c&&WindowEventManager.BC(this.GetDomNode())}},SetTitle:function(b){this.m_title=b;this.IsRendered()&&this.m_title.AssignText(this.GetDomNode(),"title")},SetWidth:function(b){this.m_width=
b;if(this.IsRendered())if(b>0)this.GetDomNode().style.width=b+"px";else this.GetDomNode().style.width="auto"}});
D2L.Control.EditNumber=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_validatorControlId=this.m_edit=null},Clear:function(b){this.m_edit.Clear(b)},Focus:function(){this.m_edit.Focus()},GetStringValue:function(){return this.m_edit.GetTextAsString()},GetValidator:function(){return UI.GetControl(this.m_validatorControlId)},GetWidth:function(){return this.m_edit.GetWidth()},HasValue:function(){return this.m_edit.HasValue()},HasValueNoDelay:function(){return this.m_edit.HasValueNoDelay()},
IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_edit=UI.GetControl(this.GetMappedId()+"_edt");this.m_validatorControlId=b.GetMember();this.SetDomNode(this.m_edit.GetDomNode())},IsDisplayed:function(){return this.m_edit.IsDisplayed()},IsEnabled:function(){return this.m_edit.IsEnabled()},IsEmpty:function(){return this.GetStringValue()==""},SetIsDisplayed:function(b){this.m_edit.SetIsDisplayed(b)},SetIsEnabled:function(b){this.m_edit.SetIsEnabled(b)},SetStringValue:function(b){return this.m_edit.SetText(new D2L.LP.Text.PlainText(b))},
SetWidth:function(b){this.m_edit.SetWidth(b)}});
D2L.Control.EditInteger=D2L.Control.EditNumber.extend({Construct:function(){arguments.callee.$.Construct.call(this)},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b)},GetInteger:function(){try{return D2L.Util.Integer.Parse(this.GetStringValue())}catch(b){return 0}},GetMultiEditValue:function(){if(this.IsEnabled()&&this.IsRendered())return this.IsEmpty()?"":this.IsValidInteger()?this.GetInteger().toString():this.GetStringValue();return""},GetState:function(b){if(this.IsRendered())if(this.IsEmpty())b.AddMember("Text",
"");else this.IsValidInteger()?b.AddMember("Text",this.GetInteger()):b.AddMember("Text",this.GetStringValue())},GetValidator:function(){return arguments.callee.$.GetValidator.call(this)},IsValidInteger:function(){try{D2L.Util.Integer.Parse(this.GetStringValue());return true}catch(b){return false}},SetInteger:function(b){this.SetStringValue(D2L.Util.Integer.Format(b))}});
D2L.Control.EditDecimal=D2L.Control.EditNumber.extend({Construct:function(){arguments.callee.$.Construct.call(this)},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b)},GetDecimal:function(){try{return D2L.Util.Decimal.Parse(this.GetStringValue())}catch(b){return 0}},GetMultiEditValue:function(){if(this.IsEnabled()&&this.IsRendered())return this.IsEmpty()?"":this.IsValidDecimal()?this.GetDecimal().toString():this.GetStringValue();return""},GetState:function(b){if(this.IsRendered())if(this.IsEmpty())b.AddMember("Text",
"");else this.IsValidDecimal()?b.AddMember("Text",this.GetDecimal()):b.AddMember("Text",this.GetStringValue())},GetValidator:function(){return arguments.callee.$.GetValidator.call(this)},IsValidDecimal:function(){try{D2L.Util.Decimal.Parse(this.GetStringValue());return true}catch(b){return false}},SetDecimal:function(b){this.SetStringValue(D2L.Util.Decimal.Format(b))}});
D2L.Control.EmptyText=D2L.Control.extend({Construct:function(b){arguments.callee.$.Construct.call(this);if(b===undefined)b=new D2L.LP.Text.PlainText;this.m_text=b},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);this.SetDomNode(this.GetUI().CreateElement("div")).className="det";this.RenderText()}},GetText:function(){return this.m_text},IntegrateControl:function(b){arguments.callee.$.IntegrateControl.call(this,b);this.m_float=b.GetMember("Float",D2L.Style.Float.None);
this.m_isDisplayed=b.GetMember("IsDisplayed",true);this.m_isInline=b.GetMember("IsInline",true);this.m_text=new D2L.LP.Text.PlainText(b.GetMember("Text"))},RenderText:function(){this.IsRendered()&&this.GetText().AssignHtml(this.GetDomNode(),"innerHTML")},SetText:function(b){this.m_text=b;this.RenderText()}});D2L.Enablers={};
function d2l_EnablerManager(){this.enablerTargetLists={};this.enablers={};this.enablerTargetStack=[];this.enablerTargets=[];this.enablerTargetStackIndex=-1;this.radioGroups={};this.OpenEnablerTarget=function(b,c){b=b.split(",");c=new d2l_EnablerTarget(b,c);for(var e=0;e<b.length;e++){var f=this.enablerTargetLists[b[e]];if(f)f[f.length]=c;else{f=[];f[0]=c;this.enablerTargetLists[b[e]]=f}}this.enablerTargetStackIndex++;this.enablerTargetStack[this.enablerTargetStackIndex]=c;this.enablerTargets[this.enablerTargets.length]=
c};this.CloseEnablerTarget=function(){this.enablerTargetStackIndex--};this.AddEnabler=function(b,c){this.enablers[b]=c};this.AddEnablerTargetItem=function(b){this.enablerTargetStack[this.enablerTargetStackIndex].AddEnablerTargetItem(b)};this.ResetState=function(b){for(b=0;b<this.enablerTargets.length;b++)this.enablerTargets[b].ResetState()};this.SetInitialState=function(){this.ResetState();var b,c;for(b in this.radioGroups){c=UI.GetByName(b);if(c.length)for(var e=0;e<c.length;e++)this.AddRadioOnClick(c[e]);
else this.AddRadioOnClick(c)}};this.AddRadioOnClick=function(b){b.onclick=b.onclick?new Function("EnablerManager.ResetState();this.oldOnClick="+b.onclick+";this.oldOnClick();"):new Function("EnablerManager.ResetState();")};this.AddRadioGroup=function(b){this.radioGroups[b]=0}}function Base_IEnablerTargetItem(b){b.IEnablerTargetItem=new IEnablerTargetItem(b)}function Base_IEnabler(b,c){c.IEnabler=new IEnabler(b,c)}
function Object_IEnablerTargetItem(b){b.IEnablerTargetItem={};b.IEnablerTargetItem.Enable=function(){b.SetIsEnabled(true)};b.IEnablerTargetItem.Disable=function(){b.SetIsEnabled(false)}}
function d2l_EnablerTarget(b,c){this.keyList=b;this.useAndLogic=c.toLowerCase()=="and"?true:false;this.enablerTargetItems=[];this.AddEnablerTargetItem=function(e){this.enablerTargetItems[this.enablerTargetItems.length]=e};this.ResetState=function(){for(var e=this.useAndLogic,f=0,g,h=0;h<this.keyList.length;h++)if(g=EnablerManager.enablers[this.keyList[h]]){f++;if(g.IEnabler.IsEnabled()!=this.useAndLogic){e=!this.useAndLogic;break}}if(f===0)e=true;for(g=0;g<this.enablerTargetItems.length;g++){f=this.enablerTargetItems[g];
e?f.IEnablerTargetItem.Enable():f.IEnablerTargetItem.Disable()}}}
var IEnablerTargetItem=D2L.Class.extend({Construct:function(b){arguments.callee.$.Construct.call(this);this.obj=b},Dispose:function(){arguments.callee.$.Dispose.call(this);if(this.obj)this.obj.IEnablerTargetItem=null},Enable:function(){this.obj.disabled=false},Disable:function(){this.obj.disabled=true}}),IEnabler=D2L.Class.extend({Construct:function(b,c){arguments.callee.$.Construct.call(this);this.key=b;this.obj=c},Dispose:function(){arguments.callee.$.Dispose.call(this);if(this.obj)this.obj.IEnabler=
null},IsEnabled:function(){return!this.obj.disabled&&this.obj.checked},ResetState:function(){EnablerManager.ResetState()}});function d2l_SelectListEnabler(b,c,e){this.obj=c;this.key=b;this.optKey=e;this.IEnabler=this;this.IsEnabled=function(){var f=false,g=this.obj.GetSelectedOption();if(g)f=this.obj.IsEnabled()&&g.key==this.optKey;return f};this.ResetState=function(){EnablerManager.ResetState()}}
function SelectList_IEnabler(b,c,e){b=new d2l_SelectListEnabler(b,c,e);if(!c.Enablers||c.Enablers&&c.Enablers===null)CreateEnablerCollection(c);c.Enablers.Add(b);return b}function CreateEnablerCollection(b){var c={};c._collection=[];c.Add=function(e){this._collection.push(e)};c.ResetEnablers=function(){for(var e in this._collection)this._collection[e].ResetState()};b.Enablers=c}
D2L.Control.Enabler=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_isEnabled=true;var b=this;this.IEnabler={key:"",IsEnabled:function(){return b.IsEnabled()},ResetState:function(){EnablerManager.ResetState()}};this.IEnablerTargetItem={Enable:function(){b.Enable()},Disable:function(){b.Disable()}}},IntegrateControlMin:function(b){this.m_isEnabled=b.GetBoolean();this.IEnabler.key=b.GetMember()},Enable:function(){this.SetIsEnabled(true)},Disable:function(){this.SetIsEnabled(false)},
IsEnabled:function(){return this.m_isEnabled},SetIsEnabled:function(b){if(b!=this.m_isEnabled){this.m_isEnabled=b;this.IEnabler.ResetState()}},ToggleEnabled:function(){this.SetIsEnabled(!this.IsEnabled())}});
D2L.Control.Field=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_fieldRow2=this.m_fieldRow1=null;this.m_isFieldSet=this.m_showChanges=this.m_hasChanged=false;this.m_textLocation=D2L.Control.Field.TextLocation.Left;this.OnShowChange=new D2L.EventHandler},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_isFieldSet=b.GetBoolean();this.m_hasChanged=b.GetBoolean();this.m_textLocation=b.GetMember();this.m_showChanges=b.GetBoolean();
if(this.m_textLocation==D2L.Control.Field.TextLocation.Top){this.m_fieldRow1=this.GetDomNode().previousSibling;this.m_fieldRow2=this.GetDomNode()}else this.m_fieldRow1=this.GetDomNode()},GetState:function(b){b.AddMember("HasChanged",this.m_hasChanged)},HandleOnChange:function(b){if(!b.hasChangeBeenShown&&this.m_showChanges){this.m_hasChanged||this.SetHasChanged(true);this.OnShowChange.Trigger();b.hasChangeBeenShown=true}},HandleOnChangeReset:function(){if(this.m_showChanges){this.m_hasChanged=false;
if(this.m_fieldRow1!==null)this.m_fieldRow1.style.backgroundColor="";if(this.m_fieldRow2!==null)this.m_fieldRow2.style.backgroundColor=""}},HandleOnTransform:function(){if(this.m_fieldRow1.cells.length==2)this.m_fieldRow1.cells[0].style.paddingTop="0.3em";var b=this;setTimeout(function(){D2L.Control.Field.DoAlignment(b.GetDomNode());D2L.Control.Field.AdjustForFieldSet(b.GetDomNode())},0)},HandleOnDisplayVisible:function(){var b=this;setTimeout(function(){D2L.Control.Field.AdjustForFieldSet(b.GetDomNode())},
0)},HasChanged:function(){return this.m_hasChanged},SetHasChanged:function(b){b=(this.m_hasChanged=b)?"#e8e8ff":"#ffffff";if(this.m_fieldRow1!==null)this.m_fieldRow1.style.backgroundColor=b;if(this.m_fieldRow2!==null)this.m_fieldRow2.style.backgroundColor=b},Hide:function(){UI.GetMessageArea().AddWarningMessage(new D2L.LP.Text.PlainText("Field.Hide() is obsolete. Please use SetIsDisplayed() instead."),true);this.SetIsDisplayed(false)},SetIsDisplayed:function(b){var c="none";if(b)c=UI.GetBrowserInfo().Type==
D2L.UI.BrowserType.IE?"inline":"table-row";if(this.m_fieldRow1!==null)this.m_fieldRow1.style.display=c;if(this.m_fieldRow2!==null)this.m_fieldRow2.style.display=c;(new D2L.TransformEvent(this.GetDomNode())).Bubble()},SetText:function(b){b=D2L.LP.Text.IText.Normalize(b,"D2L.Control.Field","SetText","text");if(this.IsRendered()){var c=this.m_fieldRow1.cells[0].firstChild.lastChild;if(c.firstChild){D2L.Util.Dom.Purge(c.firstChild);c.removeChild(c.firstChild)}var e=this;b.GetText().Register(function(f){c.appendChild(e.CreateTextNode(f+
":"))})}},Show:function(){UI.GetMessageArea().AddWarningMessage(new D2L.LP.Text.PlainText("Field.Show() is obsolete. Please use SetIsDisplayed() instead."),true);this.SetIsDisplayed(true)}});D2L.Control.Field.TextLocation={Left:0,Top:1,None:2};
D2L.Control.Field.InstallEvents=function(b,c){var e=null;b.ID2LOnChange===undefined&&UI.AttachObject(b,"ID2LOnChange",new D2L.EventHandler);b.ID2LOnChange.RegisterMethod(function(f){if(e===null)e=c();e.HandleOnChange(f)});b.ID2LOnTransform===undefined&&UI.AttachObject(b,"ID2LOnTransform",new D2L.EventHandler);b.ID2LOnDisplayVisible===undefined&&UI.AttachObject(b,"ID2LOnDisplayVisible",new D2L.EventHandler);b.ID2LOnDisplayVisible.RegisterMethod(function(){if(e===null)e=c();e.HandleOnDisplayVisible()});
b.ID2LOnTransform.RegisterMethod(function(){if(e===null)e=c();e.HandleOnTransform()});FormManager.OnChangeReset.RegisterMethod(function(){if(e===null)e=c();e.HandleOnChangeReset()});D2L.Control.Field.DoAlignment(b);D2L.Control.Field.AdjustForFieldSet(b)};
D2L.Control.Field.AdjustForFieldSet=function(b){if(!(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE&&UI.GetBrowserInfo().MajorVersion<=7||UI.GetBrowserInfo().Type==D2L.UI.BrowserType.Firefox&&UI.GetBrowserInfo().MajorVersion<3||UI.GetBrowserInfo().Type==D2L.UI.BrowserType.Firefox&&UI.GetBrowserInfo().MajorVersion==3&&UI.GetBrowserInfo().MinorVersion<=5))try{if(D2L.Util.Dom.HasClassName("D2LIFS",b)||D2L.Util.Dom.HasClassName("D2LIFS_TOP",b)){var c=D2L.Control.Field.TextLocation.Left;if(b.childNodes.length==
1)c=D2L.Control.Field.TextLocation.None;if(D2L.Util.Dom.HasClassName("D2LIFS_TOP",b))c=D2L.Control.Field.TextLocation.Top;var e=null,f=null;if(c==D2L.Control.Field.TextLocation.Left){e=b.cells[0];f=b.cells[1]}else if(c==D2L.Control.Field.TextLocation.Top){e=b.previousSibling.cells[0];f=b.cells[0]}else if(c==D2L.Control.Field.TextLocation.None){e=null;f=b.cells[0]}if(e!=null&&c!=D2L.Control.Field.TextLocation.Top){var g=f.firstChild.firstChild,h=e.firstChild.offsetWidth;if(h>0&&g.className=="dsr"){var k=
UI.GetCulture().GetMarginPaddingPosition(D2L.Culture.MarginPaddingPosition.First);UI.GetCulture().GetMarginPaddingPosition(D2L.Culture.MarginPaddingPosition.Second);g.style.width=h+"px";g.style["margin"+k]=-h+"px";g.style[k.toLowerCase()]="-0.6em";if(e.d2lLegendPaddingTop!==undefined)g.style.paddingTop=e.d2lLegendPaddingTop+"em";g.className="dfs_l_f";e.style.visibility="hidden"}}}}catch(j){}};
D2L.Control.Field.DoAlignment=function(b){if(b.cells.length==2){var c,e,f,g;c=b.cells[0];e=b.cells[1];var h=function(k){var j=k.className!==undefined?k.className:"",l=k.tagName!==undefined?k.tagName.toLowerCase():"",o=k.style&&k.style.display=="none"?false:true;if(k.nodeType==1)if(j=="dsr"||j=="fgskip"||!o||l=="input"&&k.type.toLowerCase()=="hidden")return null;else{if(l=="select"||l=="applet"||l=="object")return k}else if(k.nodeType==3)return k.data.trim().length==0?null:k;if(l=="table"){for(j=0;j<
k.rows.length;j++)if(k.rows[j].style.display!="none")for(l=0;l<k.rows[j].cells.length;l++)for(o=0;o<k.rows[j].cells[l].childNodes.length;o++){var p=h(k.rows[j].cells[l].childNodes[o]);if(p!==null)return p}return null}else{for(j=0;j<k.childNodes.length;j++){p=h(k.childNodes[j]);if(p!==null)return p}return k}};if((e=h(e))&&e.parentNode){b=document.createElement("span");b=c.firstChild?c.insertBefore(b,c.firstChild):c.appendChild(b);b.appendChild(document.createTextNode("\ufeff"));f=D2L.Util.Dom.FindPosY(b);
g=Math.round((f+(f+b.offsetHeight))/2);f=document.createElement("span");f=e.parentNode.insertBefore(f,e);f.appendChild(document.createTextNode("\ufeff"));e=D2L.Util.Dom.FindPosY(f);e=Math.round((e+(e+f.offsetHeight))/2);if(e>g){g=(e-g)/Global.Preferences.FontSize+0.3;c.style.paddingTop=g+"em";if(c.parentNode&&(D2L.Util.Dom.HasClassName("D2LIFS",c.parentNode)||D2L.Util.Dom.HasClassName("D2LIFS_TOP",c.parentNode)))c.d2lLegendPaddingTop=g-0.3}D2L.Util.Dom.Purge(b);b.parentNode.removeChild(b);b=null;
D2L.Util.Dom.Purge(f);f.parentNode.removeChild(f);f=null}}};
D2L.Control.Field.GetFieldParentText=function(b){b=b.GetDomNode();if(b!==null&&b.parentNode&&b.parentNode.className){var c=null;if(b.parentNode.className=="fcl_n"||b.parentNode.className=="fcl_w")c=b.parentNode.previousSibling.firstChild.lastChild;else if(b.parentNode.className=="fct_n"||b.parentNode.className=="fct_w")c=b.parentNode.parentNode.previousSibling.firstChild.firstChild.lastChild;if(c!==null){b=c.innerHTML;if(b.endsWith(":"))b=b.substr(0,b.length-1);return new D2L.LP.Text.PlainText(b)}}return null};
D2L.Control.HiddenPropertyGroup=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_infoIsDisplayed=this.m_isModified=false;this.m_infoText=new D2L.LP.Text.PlainText("");this.m_isFieldGroup=false;this.m_isOpened=true;this.m_openedText=new D2L.LP.Text.PlainText("");this.m_text=new D2L.LP.Text.PlainText("");this.m_contents=this.m_infoBar=this.m_icon=this.m_header=null;this.m_fields=[];this.m_showChanges=true},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,
b);this.m_isOpened=b.GetBoolean();this.m_isFieldGroup=b.GetBoolean();this.m_text=new D2L.LP.Text.PlainText(b.GetMember());this.m_openedText=new D2L.LP.Text.PlainText(b.GetMember());this.m_infoText=new D2L.LP.Text.PlainText(b.GetMember());this.m_infoIsDisplayed=b.GetBoolean();this.m_isModified=b.GetBoolean();this.m_fields=b.GetMember();this.m_showChanges=b.GetBoolean();this.m_icon=UI.GetControl(this.GetMappedId()+"_icon");if(this.m_isFieldGroup)this.m_header=this.GetDomNode().cells[0].firstChild;else{this.m_header=
this.GetDomNode();this.m_contents=this.m_header.nextSibling}this.m_infoBar=this.m_header.childNodes[this.m_header.childNodes.length-1];var c=this,e=function(h){c.AttachObject(h,"ID2LOnExpand",new D2L.EventHandler);h.ID2LOnExpand.Register(c,"Open");h.ID2LOnChange===undefined&&c.AttachObject(h,"ID2LOnChange",new D2L.EventHandler);h.ID2LOnChange.RegisterMethod(function(){c.m_isModified=true})};if(this.m_isFieldGroup)for(var f=this.GetDomNode().rowIndex+1,g=0;g<this.m_fields.length;g++){e(this.GetDomNode().parentNode.rows[f]);
f++;if(this.m_fields[g]==D2L.Control.Field.TextLocation.Top){e(this.GetDomNode().parentNode.rows[f]);f++}}else e(this.m_contents)},Close:function(){if(this.m_isFieldGroup)for(var b=this.GetDomNode().rowIndex+1,c=null,e=0;e<this.m_fields.length;e++){c=this.GetDomNode().parentNode.rows[b];c.style.display="none";b++;if(this.m_fields[e]==D2L.Control.Field.TextLocation.Top){c=this.GetDomNode().parentNode.rows[b];c.style.display="none";b++}}else this.m_contents.style.display="none";this.m_icon.SetImage(new D2L.Images.ImageTerm("Shared.Main.actShow"));
this.m_icon.SetText(this.m_text);if(this.m_isModified&&this.m_showChanges)this.m_header.className="D2LModified";this.m_infoIsDisplayed&&this.ShowInfo();this.m_isOpened=false;(new D2L.TransformEvent(this.m_header)).Bubble()},GetState:function(b,c){c=="showchanges"?b.AddMember("IsModified",this.m_isModified):b.AddMember("IsOpened",this.m_isOpened)},HideInfo:function(){this.m_infoBar.style.display="none"},IsOpen:function(){return this.m_isOpened},Open:function(){if(this.m_isFieldGroup)for(var b=this.GetDomNode().rowIndex+
1,c=null,e=0;e<this.m_fields.length;e++){c=this.GetDomNode().parentNode.rows[b];c.style.display=UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE?"inline":"table-row";(new D2L.DisplayVisibleEvent(c)).Bubble();b++;if(this.m_fields[e]==D2L.Control.Field.TextLocation.Top){c=this.GetDomNode().parentNode.rows[b];c.style.display=UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE?"inline":"table-row";(new D2L.DisplayVisibleEvent(c)).Bubble();b++}}else{this.m_contents.style.display="block";(new D2L.DisplayVisibleEvent(this.m_contents)).Bubble()}this.m_icon.SetImage(new D2L.Images.ImageTerm("Shared.Main.actHide"));
this.m_icon.SetText(this.m_openedText);if(this.m_isModified)this.m_header.className="";this.m_infoIsDisplayed&&this.HideInfo();this.m_isOpened=true;(new D2L.TransformEvent(this.m_header)).Bubble()},ShowInfo:function(){this.m_infoBar.style.display="block"},SetInfoIsDisplayed:function(b){this.m_infoIsDisplayed=b;this.m_isOpened||(b?this.ShowInfo():this.HideInfo())},Toggle:function(){this.IsOpen()?this.Close():this.Open()}});
D2L.Control.FileLink=D2L.Control.extend({Construct:function(b,c){if(b===undefined)b=null;if(c===undefined)c=null;arguments.callee.$.Construct.call(this);this.m_displayInBrowser=false;this.m_iconIsDisplayed=true;this.m_link=this.m_img=null;this.m_navigation=this.m_name="";this.m_size=0;this.m_sizeIsDisplayed=true;this.m_sizeNode=null;this.m_text=new D2L.LP.Text.PlainText("");this.m_fileName="";this.m_altIsOveridden=this.m_textIsOveridden=false;this.m_textNode=null;this.m_textFormat=D2L.Control.TextFormat.Normal;
this.m_alt=new D2L.LP.Text.PlainText("");this.m_limitChars=50;this.m_hasLink=true;this.m_source=c;b&&this.SetFile(b,false)},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);if(!this.GetDomNode()){this.SetDomNode(this.CreateElement("span"));this.GetDomNode().className=this.GetTextFormat()==D2L.Control.TextFormat.Bold?"dfl dfl_b":"dfl"}var b=this.GetDomNode();if(this.m_hasLink){this.m_link=this.CreateElement("a");this.GetDomNode().appendChild(this.m_link);b=this.m_link;
var c=this.m_fileName.lastIndexOf(".");if(c>-1)if(this.m_fileName.substr(c)==".d2lresource"||this.m_displayInBrowser)this.m_link.target="_blank"}if(this.IconIsDisplayed()){this.m_img=this.CreateElement("img");this.m_img.src="/d2l/img/lp/pixel.gif";this.m_img.width=1;this.m_img.height=1;this.m_img.alt="";b.firstChild?b.insertBefore(this.m_img,b.firstChild):b.appendChild(this.m_img);if(this.m_fileName.length>0){var e=this;D2L.Files.GetFileTypeInfo(this.m_fileName).Register(function(g){g.GetImage().Assign(e.m_img)})}}if(this.m_textNode===
null){this.m_textNode=this.CreateElement("span");b.appendChild(this.m_textNode)}this.SetNavigation(this.m_navigation);this.SetText(this.m_text);this.SetAlt(this.m_alt);if(this.SizeIsDisplayed()){this.m_sizeNode=this.CreateElement("span");this.GetDomNode().appendChild(this.m_sizeNode);this.SetSize(this.m_size)}if(this.m_source!=null){var f=this.CreateElement("span");f.className="dfl_s";f.style.paddingLeft="19px";f.appendChild(this.CreateTextNode(new D2L.LP.Text.LangTerm("Framework.FileSelector.lblSource")));
b=this.m_source;if(b.length>60)b="..."+b.substr(b.length-60);f.appendChild(this.CreateTextNode(b));this.AppendChild(f);e=this;setTimeout(function(){if(e.m_img)f.style.paddingLeft=e.m_img.offsetWidth+"px"},0)}}},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.SetFile(new D2L.Files.FileInfo(b.GetMember(),b.GetMember(),b.GetMember()),false);var c=b.GetMember(),e=b.GetMember();this.m_iconIsDisplayed=b.GetBoolean();this.m_sizeIsDisplayed=b.GetBoolean();this.m_hasLink=
b.GetBoolean();this.m_limitChars=b.GetMember();this.m_textFormat=b.GetMember();if(c.length>0){this.m_textIsOveridden=true;this.m_text=new D2L.LP.Text.PlainText(c)}if(e.length>0){this.m_altIsOveridden=true;this.m_alt=new D2L.LP.Text.PlainText(e)}c=this.GetDomNode();if(c.childNodes.length>0){if(this.m_hasLink){this.m_link=c.firstChild;if(this.IconIsDisplayed()){this.m_img=this.m_link.firstChild;this.m_textNode=this.m_link.childNodes[1]}}else if(this.IconIsDisplayed()){this.m_img=this.IDomNode.firstChild;
this.m_textNode=this.IDomNode.childNodes[1]}else this.m_textNode=this.IDomNode.firstChild;if(this.SizeIsDisplayed())this.m_sizeNode=c.childNodes[c.childNodes.length-1]}},Focus:function(){this.m_link&&this.m_link.focus()},GetText:function(){return this.m_text},GetTextFormat:function(){return this.m_textFormat},IconIsDisplayed:function(){return this.m_iconIsDisplayed},SetAlt:function(b){this.m_alt=D2L.LP.Text.IText.Normalize(b,"D2L.Control.FileLink","SetAlt","alt");if(this.m_link!==null){var c=this;
this.m_alt.GetText().Register(function(e){c.m_link.title=e})}},SetFile:function(b,c,e){if(c===undefined)c=true;if(c)b=D2L.Serialization.JsonDeserializer.Deserialize(b,D2L.Files.FileInfo);if(e!==undefined)this.m_displayInBrowser=e;this.m_fileName=b.FileName;this.SetNavigation(D2L.Util.GetViewFileUrl(b,this.m_displayInBrowser));this.SetSize(b.Size);if(this.m_textIsOveridden)this.m_altIsOveridden||this.SetAlt(new D2L.LP.Text.LangTerm("Framework.FileSelector.altOpenFile",this.m_text));else{this.SetText(new D2L.LP.Text.PlainText(b.FileName));
this.m_altIsOveridden||this.SetAlt(new D2L.LP.Text.LangTerm("Framework.FileSelector.altOpenFile",b.FileName))}if(c){this.m_hasDomBeenBuilt=false;this.BuildDom()}else if(this.IconIsDisplayed()&&this.m_fileName.length>0&&this.m_img!==null){var f=this;D2L.Files.GetFileTypeInfo(this.m_fileName).Register(function(g){g.GetImage().Assign(f.m_img)})}},SetNavigation:function(b){this.m_navigation=b;if(this.m_link)this.m_link.href=b},SetSize:function(b){if(this.SizeIsDisplayed()){this.m_size=b;if(this.m_sizeNode){if(this.m_sizeNode.firstChild){D2L.Util.Dom.Purge(this.m_sizeNode.firstChild);
this.m_sizeNode.removeChild(this.m_sizeNode.firstChild)}this.m_sizeNode.appendChild(this.CreateTextNode(new D2L.LP.Text.SmlText(" ([0])",Culture.FormatFileSize(this.m_size))))}}},SetText:function(b){this.m_text=D2L.LP.Text.IText.Normalize(b,"D2L.Control.FileLink","SetText","text");if(this.m_textNode){if(this.m_textNode.firstChild){D2L.Util.Dom.Purge(this.m_textNode.firstChild);this.m_textNode.removeChild(this.m_textNode.firstChild)}var c=this;this.m_text.GetText().Register(function(e){var f=e;if(c.m_limitChars>
0&&e.length>c.m_limitChars)f=e.substr(0,c.m_limitChars-3)+"...";c.m_textNode.appendChild(c.CreateTextNode(f))})}},SetTextFormat:function(b){this.m_textFormat=b;if(this.GetDomNode())this.GetDomNode().className=this.GetTextFormat()==D2L.Control.TextFormat.Bold?"dfl dfl_b":"dfl"},SetSizeIsDisplayed:function(b){this.m_sizeIsDisplayed=b},SizeIsDisplayed:function(){return this.m_sizeIsDisplayed}});D2L.Files.FileLink=D2L.Control.FileLink;
D2L.Control.Heading=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_text=new D2L.LP.Text.PlainText("");this.m_hasActions=this.m_isInFieldGroup=false;this.m_isDisplayed=true;this.m_domHeading=null},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_isInFieldGroup=b.GetBoolean();this.m_hasActions=b.GetBoolean();this.m_isDisplayed=b.GetBoolean();this.m_domHeading=this.m_isInFieldGroup?this.GetDomNode().cells[0].firstChild:
this.GetDomNode();this.m_text=new D2L.LP.Text.PlainText(this.m_domHeading.innerHTML)},SetIsDisplayed:function(b){if(b!=this.m_isDisplayed){if(this.IsRendered())if(b)if(this.m_isInFieldGroup)if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE)this.GetDomNode().style.display="inline";else this.GetDomNode().style.display="table-row";else this.GetDomNode().style.display="block";else this.GetDomNode().style.display="none";this.m_isDisplayed=b}},SetText:function(b){this.m_text=D2L.LP.Text.IText.Normalize(b,
"D2L.Control.Heading","SetText","text");this.IsRendered()&&this.m_text.AssignHtml(this.m_domHeading,"innerHTML",true)}});
D2L.Control.Hidden=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_value=""},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);if(b.HasMember())this.GetDomNode().ID2L=null;this.m_value=this.GetDomNode().value},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);this.SetDomNode(this.CreateElement("input"));this.GetDomNode().type="hidden";this.GetDomNode().name=this.GetMappedId();this.GetDomNode().value=
this.m_value}},GetMultiEditValue:function(){return this.GetValue()},GetState:function(b){b.AddMember("Value",this.GetValue())},GetValue:function(){return this.IsRendered()?this.GetDomNode().value:this.m_value},SetValue:function(b){this.m_value=b;if(this.IsRendered())this.GetDomNode().value=b}});
D2L.Control.Image=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_text=null;this.m_isDisplayed=this.m_isEnabled=true;this.m_textNode=this.m_onClick=null;this.m_hasDefaultPadding=true;this.m_navInfo=this.m_childSpan=this.m_anchorNode=this.m_alt=this.m_imgNode=this.m_imgDisabled=this.m_img=null;this.OnMouseOver=new D2L.EventHandler;this.OnMouseOut=new D2L.EventHandler},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);this.SetDomNode(this.CreateElement("span"));
this.m_imgNode=this.CreateElement("img");this.m_imgNode.className=this.HasDefaultPadding()?"di_i":"di_in";this.m_imgNode.alt="";if(!this.m_img&&this.m_isEnabled||!this.m_imgDisabled&&!this.m_isEnabled)this.m_imgNode.style.display="none";this.GetDomNode().insertBefore(this.m_imgNode,null);this.SetText(this.m_text);this.SetAlt(this.m_alt);this.SetIsEnabled(this.m_isEnabled);this.SetIsDisplayed(this.m_isDisplayed);this.SetNav(this.m_navInfo);var b=this;D2L.Control.Image.InstallEvents(this.GetDomNode(),
function(){return b})}},BuildAnchorNode:function(){if(!this.m_anchorNode&&this.m_imgNode){var b=this.CreateElement("a");b.style.display=this.IsDisplayed()?"inline":"none";b.className=this.m_isEnabled?"di_l":"di_l di_l_d";if(this.m_imgNode){this.m_anchorNode=this.m_imgNode.parentNode.insertBefore(b,this.m_imgNode);this.GetDomNode()==this.m_imgNode&&this.SetDomNode(this.m_anchorNode)}if(this.m_imgNode){this.m_anchorNode.parentNode.removeChild(this.m_imgNode);this.m_anchorNode.insertBefore(this.m_imgNode,
null)}if(this.m_textNode){this.m_anchorNode.parentNode.removeChild(this.m_textNode);this.m_anchorNode.insertBefore(this.m_textNode,null)}if(this.m_childSpan){this.m_anchorNode.parentNode.removeChild(this.m_childSpan);this.m_anchorNode.insertBefore(this.m_childSpan,null)}}},BuildTextNode:function(){if(!this.m_textNode&&this.m_imgNode){var b=this.CreateElement("span");b.style.display=this.IsDisplayed()?"inline":"none";b.className=this.m_isEnabled?"di_t":"di_t di_t_d";this.m_textNode=this.m_imgNode.parentNode.insertBefore(b,
this.m_imgNode.nextSibling)}},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_img=b.GetObjectMin(D2L.Images.Image);this.m_imgDisabled=b.GetObjectMin(D2L.Images.Image);this.m_isDisplayed=b.GetBoolean();var c=b.GetBoolean(),e=b.GetBoolean();this.m_isEnabled=b.GetBoolean();this.m_href=b.GetMember();this.m_imgNode=this.GetDomNode();if(this.m_href.length>0)this.m_anchorNode=this.m_imgNode.parentNode;if(e){this.m_textNode=this.m_imgNode.nextSibling;this.m_text=
this.m_textNode.textContent?new D2L.LP.Text.PlainText(this.m_textNode.textContent):new D2L.LP.Text.PlainText(this.m_textNode.innerText)}if(c){this.m_childSpan=this.m_textNode?this.m_textNode.nextSibling:this.m_imgNode.nextSibling;this.SetIsDisplayed(this.m_isDisplayed)}this.m_alt=new D2L.LP.Text.PlainText(this.m_imgNode.alt)},SetIsEnabled:function(b){this.m_isEnabled=b;if(this.m_imgNode)if(b){if(this.m_img){this.m_img.Assign(this.m_imgNode);this.m_imgNode.style.display="inline"}if(this.m_textNode)this.m_textNode.className=
"di_t";if(this.m_anchorNode){this.m_anchorNode.className="di_l";b=this.GetWindow().document.createAttribute("href");b.value=this.m_href;this.m_anchorNode.attributes.setNamedItem(b)}}else{if(this.m_imgDisabled){this.m_imgDisabled.Assign(this.m_imgNode);this.m_imgNode.style.display="inline"}if(this.m_textNode)this.m_textNode.className="di_t di_t_d";if(this.m_anchorNode){this.m_anchorNode.className="di_l di_l_d";this.m_anchorNode.attributes.getNamedItem("href")&&this.m_anchorNode.attributes.removeNamedItem("href")}}},
Focus:function(){this.m_anchorNode&&this.m_anchorNode.focus()},GetImage:function(){return this.m_img},GetImageDisabled:function(){return this.m_imgDisabled},GetOnClick:function(){return this.m_navInfo!=null?this.m_navInfo.GetOnClick():null},GetText:function(){return this.m_text},GetAlt:function(){return this.m_alt},HasDefaultPadding:function(){return this.m_hasDefaultPadding},Hide:function(){if(this.IsDisplayed()){this.SetIsDisplayed(false);(new D2L.TransformEvent(this.IDomNode)).Bubble()}},IsEnabled:function(){return this.m_isEnabled},
IsDisplayed:function(){return this.m_isDisplayed},SetHasDefaultPadding:function(b){this.m_hasDefaultPadding=b;if(this.IsRendered()&&this.m_imgNode)this.m_imgNode.className=b?"di_i":"di_in"},SetOnClick:function(b){UI.GetMessageArea().AddWarningMessage(new D2L.LP.Text.PlainText("Image.SetOnClick() is obsolete. Please use SetNav() instead."),true);if(b){if(this.m_navInfo==null)this.m_navInfo=new D2L.NavInfo;this.m_navInfo.SetOnClick(b);this.SetNav(this.m_navInfo)}},SetNav:function(b){if(b){this.m_navInfo=
b;if(this.IsRendered()){this.BuildAnchorNode();if(this.m_anchorNode){if(this.m_alt){var c=this;this.m_alt.GetText().Register(function(f){if(f.length>0){c.m_anchorNode.title=f;if(c.m_textNode&&UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE&&UI.GetBrowserInfo().MajorVersion==8)c.m_textNode.title=f}})}var e=this.m_navInfo.SetupHrefOnClick(this);this.m_href=e.Href;if(this.m_isEnabled)this.m_anchorNode.href=this.m_href;if(e.Target==null||e.Target=="")this.m_anchorNode.attributes.getNamedItem("target")&&
this.m_anchorNode.attributes.removeNamedItem("target");else this.m_anchorNode.target=e.Target;c=this;e.OnClick&&this.AttachObject(this.m_anchorNode,"onclick",function(){if(e.OnClick&&c.IsEnabled())return e.OnClick.call()})}}}},SetImage:function(b){if(b){this.m_img=b;if(this.m_imgNode&&this.m_isEnabled){this.m_img.Assign(this.m_imgNode);this.m_imgNode.style.display="inline"}}},SetImageDisabled:function(b){if(b){this.m_imgDisabled=b;if(this.m_imgNode&&!this.m_isEnabled){this.m_imgDisabled.Assign(this.m_imgNode);
this.m_imgNode.style.display="inline"}}},SetText:function(b){if(b){this.m_text=D2L.LP.Text.IText.Normalize(b,"D2L.Control.Image","SetText","text");this.BuildTextNode();if(this.m_textNode){var c=this;this.m_text.GetHtml().Register(function(e){if(e.length>0)c.m_textNode.innerHTML=e})}}},SetAlt:function(b){if(b){this.m_alt=D2L.LP.Text.IText.Normalize(b,"D2L.Control.Image","SetAlt","alt");if(this.m_imgNode){var c=this;this.m_alt.GetText().Register(function(e){if(e.length>0){c.m_imgNode.alt=e;c.m_imgNode.title=
e}})}if(this.m_anchorNode){c=this;this.m_alt.GetText().Register(function(e){if(e.length>0){c.m_anchorNode.title=e;if(c.m_textNode&&UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE&&UI.GetBrowserInfo().MajorVersion==8)c.m_textNode.title=e}})}}},Show:function(){if(!this.IsDisplayed()){this.SetIsDisplayed(true);(new D2L.TransformEvent(this.IDomNode)).Bubble()}},SetIsDisplayed:function(b){if(this.IsRendered())if(b){this.IDomNode.style.display="inline";if(this.m_anchorNode)this.m_anchorNode.style.display=
"inline";if(this.m_textNode)this.m_textNode.style.display="inline"}else{this.IDomNode.style.display="none";if(this.m_anchorNode)this.m_anchorNode.style.display="none";if(this.m_textNode)this.m_textNode.style.display="none"}this.m_isDisplayed=b}});D2L.Control.Image.InstallEvents=function(b,c){var e=null;UI.AttachObject(b,"onmouseover",function(){if(e===null)e=c();e.OnMouseOver.Trigger(e)});UI.AttachObject(b,"onmouseout",function(){if(e===null)e=c();e.OnMouseOut.Trigger(e)})};D2L.Image=D2L.Control.Image;
D2L.Image.ImageInfo=D2L.Images.ImageInfo;
D2L.Control.ImageLink=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_alt=null;this.m_float=D2L.Style.Float.None;this.m_imageHover=this.m_image=null;this.m_isEnabled=this.m_isDisplayed=true;this.m_navInfo=null;this.m_isHover=false},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);var b=this.SetDomNode(this.GetUI().CreateElement("a"));b.className="dil";b.appendChild(this.GetUI().CreateElement("img"));this.RenderAlt();this.RenderImage();
this.RenderIsDisplayed();this.RenderFloat();this.RenderNav()}},IntegrateControl:function(b){arguments.callee.$.IntegrateControl.call(this);this.m_image=b.GetObject("Image");if(b.HasMember("ImageHover"))this.m_imageHover=b.GetObject("ImageHover");this.m_navInfo=b.GetObject("NavInfo");this.m_isDisplayed=b.GetMember("IsDisplayed",true);this.m_float=b.GetMember("Float",D2L.Style.Float.None)},Focus:function(){this.IsRendered()&&this.GetDomNode().focus()},GetAlt:function(){return this.m_alt},GetFloat:function(){return this.m_float},
GetImage:function(){return this.m_image},GetNav:function(){return this.m_navInfo},GetImageNode:function(){return this.GetDomNode().firstChild},IsDisplayed:function(){return this.m_isDisplayed},RenderAlt:function(){if(this.IsRendered())if(this.m_alt===null)this.GetUI().GetMessageArea().AddWarningMessage(new D2L.LP.Text.PlainText("ImageLink 'Alt' is required."),true);else{var b=this.GetImageNode();this.m_alt.AssignText(b,"alt");this.m_alt.AssignText(b,"title")}},RenderFloat:function(){this.IsRendered()&&
D2L.Util.Style.ApplyFloat(this.GetDomNode(),this.GetFloat())},RenderImage:function(){if(this.IsRendered())if(this.m_isHover)this.m_imageHover===null?this.GetUI().GetMessageArea().AddWarningMessage(new D2L.LP.Text.PlainText("ImageLink 'Image' is required."),true):this.m_imageHover.Assign(this.GetImageNode(),false);else this.m_image===null?this.GetUI().GetMessageArea().AddWarningMessage(new D2L.LP.Text.PlainText("ImageLink 'Image' is required."),true):this.m_image.Assign(this.GetImageNode(),false)},
RenderIsDisplayed:function(){if(this.IsRendered())this.GetDomNode().style.display=this.IsDisplayed()?"inline":"none"},RenderNav:function(){if(this.IsRendered())if(this.m_navInfo===null)this.GetUI().GetMessageArea().AddWarningMessage(new D2L.LP.Text.PlainText("ImageLink must have a navigation component specified."),true);else{var b=this.GetDomNode(),c=this.m_navInfo.SetupHrefOnClick(this,true);b.href=c.Href;if(c.Target==null||c.Target=="")b.attributes.getNamedItem("target")&&b.attributes.removeNamedItem("target");
else this.m_anchorNode.target=c.Target;if(c.OnClick)this.AttachObject(b,"onclick",function(){return c.OnClick.call()});else b.onclick=null}},SetAlt:function(b){this.m_alt=b;this.RenderAlt()},SetIsEnabled:function(b){this.m_isEnabled=b},SetFloat:function(b){if(b!==this.GetFloat()){this.m_float=b;this.RenderFloat()}},SetImage:function(b){this.m_image=b;this.m_isHover||this.RenderImage()},SetHoverImage:function(b){this.m_imageHover=b;this.RenderImage()},SetIsDisplayed:function(b){if(b!==this.IsDisplayed()){this.m_isDisplayed=
b;this.RenderIsDisplayed()}},SetNav:function(b){this.m_navInfo=b;this.RenderNav()}});D2L.Control.ImageLink.InstallEvents=function(b,c){b=b.firstChild;UI.AttachObject(b,"onmouseover",function(){c().m_isHover=true;c().RenderImage()});UI.AttachObject(b,"onmouseout",function(){c().m_isHover=false;c().RenderImage()})};
D2L.Control.ImageViewer=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_isDisplayed=true},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_isDisplayed=b.GetBoolean()},IsDisplayed:function(){return this.m_isDisplayed},SetIsDisplayed:function(b){if(this.IsRendered())this.GetDomNode().display.display=b?"inline":"none";this.m_isDisplayed=b}});
D2L.Control.InlineHelp=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_isEnabled=this.m_isDisplayed=true;this.m_text=new D2L.LP.Text.PlainText;this.m_isInLine=true},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_isDisplayed=this.GetDomNode().style.display!="none";this.m_isEnabled=this.GetDomNode().className!="dh_sd";this.m_isInLine=this.GetDomNode().style.display!="block";this.m_text=new D2L.LP.Text.PlainText(this.GetDomNode().innerHTML)},
GetText:function(){return this.m_text},IsDisplayed:function(){return this.m_isDisplayed},IsEnabled:function(){return this.m_isEnabled},SetIsDisplayed:function(b){if(this.IsRendered()){var c="inline";this.m_isInLine||(c="block");this.GetDomNode().style.display=b?c:"none"}this.m_isDisplayed=b},SetIsEnabled:function(b){this.m_isEnabled=b;if(this.IsRendered())if(b)this.GetDomNode().className="dh_s";else this.GetDomNode().className="dh_sd"},SetText:function(b){this.m_text=b;this.IsRendered()&&this.m_text.AssignHtml(this.GetDomNode(),
"innerHTML")}});
D2L.Control.Label=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_isDisplayed=true;this.m_text=new D2L.LP.Text.PlainText},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_isDisplayed=this.GetDomNode().style.display!="none";this.m_text=new D2L.LP.Text.PlainText(this.GetDomNode().innerHTML)},GetText:function(){return this.m_text},IsDisplayed:function(){return this.m_isDisplayed},SetIsDisplayed:function(b){if(this.IsRendered())this.GetDomNode().style.display=b?
"inline":"none";this.m_isDisplayed=b},SetText:function(b){this.m_text=D2L.LP.Text.IText.Normalize(b,"D2L.Control.Label","SetText","text");this.IsRendered()&&this.m_text.AssignHtml(this.GetDomNode(),"innerHTML")}});
D2L.Control.LargeClassSize=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_groupId=this.m_groupTypeId=this.m_viewType=0},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_viewType=b.GetMember();this.m_groupTypeId=b.GetMember();this.m_groupId=b.GetMember()},GetInfo:function(){return new D2L.Control.LargeClassSize.Info(this.m_viewType,this.m_groupTypeId,this.m_groupId)}});
D2L.Control.LargeClassSize.Info=D2L.Class.extend({Construct:function(b,c,e){arguments.callee.$.Construct.call(this);this.m_viewType=b;this.m_groupTypeId=c;this.m_groupId=e},GetViewType:function(){return this.m_viewType},GetGroupTypeId:function(){return this.m_groupTypeId},GetGroupId:function(){return this.m_groupId}});D2L.Control.LargeClassSize.ViewType={None:0,Users:1,Groups:2,Sections:3};
D2L.Control.Link=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_alt=new D2L.LP.Text.PlainText;this.m_float=D2L.Style.Float.None;this.m_href="javascript://";this.m_isEnabled=true;this.m_navInfo=new D2L.NavInfo;this.m_spacing=new D2L.Style.Spacing(D2L.Style.Spacing.Type.Spacing);this.m_text=new D2L.LP.Text.PlainText},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);this.SetDomNode(this.GetUI().CreateElement("a"));this.RenderAlt();
this.RenderText();this.SetNav(this.m_navInfo);this.RenderIsEnabled();this.RenderFloat();this.RenderSpacing()}},Focus:function(){try{this.IsRendered()&&this.GetDomNode().focus()}catch(b){}},GetAlt:function(){return this.m_alt},GetFloat:function(){return this.m_float},GetSpacing:function(){return this.m_spacing},GetText:function(){return this.m_text},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_isEnabled=this.GetDomNode().className!="dlk_d";if(this.GetDomNode().title.length>
0)this.m_alt=new D2L.LP.Text.PlainText(this.GetDomNode().title);if(this.GetDomNode().firstChild)this.m_text=new D2L.LP.Text.PlainText(this.GetDomNode().firstChild.data);this.m_href=b.GetMember();this.m_float=b.GetMember()},IsEnabled:function(){return this.m_isEnabled},RenderAlt:function(){if(this.IsRendered()){var b=this;this.m_alt.GetText().Register(function(c){if(c.length>0)b.GetDomNode().title=c})}},RenderFloat:function(){this.IsRendered()&&D2L.Util.Style.ApplyFloat(this.GetDomNode(),this.GetFloat())},
RenderIsEnabled:function(){if(this.GetDomNode())if(this.IsEnabled()){this.GetDomNode().className="";var b=this.GetWindow().document.createAttribute("href");b.value=this.m_href;this.GetDomNode().attributes.setNamedItem(b)}else{this.GetDomNode().className="dlk_d";this.GetDomNode().attributes.getNamedItem("href")&&this.GetDomNode().attributes.removeNamedItem("href")}},RenderSpacing:function(){if(this.IsRendered())this.GetDomNode().style.margin=this.GetSpacing().ToCss()},RenderText:function(){if(this.IsRendered()){var b=
this;this.m_text.GetHtml().Register(function(c){b.GetDomNode().innerHTML="";var e=UI.CreateElement("span");e.innerHTML=c;b.GetDomNode().appendChild(e);b.m_alt&&UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE&&UI.GetBrowserInfo().MajorVersion==8&&b.m_alt.GetText().Register(function(f){if(e&&f.length>0)e.title=f})})}},SetAlt:function(b){this.m_alt=D2L.LP.Text.IText.Normalize(b,"D2L.Control.Link","SetAlt","alt");this.RenderAlt()},SetFloat:function(b){if(b!==this.GetFloat()){this.m_float=b;this.RenderFloat()}},
SetIsDisplayed:function(b){if(this.IsRendered())if(b)this.GetDomNode().style.display="inline";else this.GetDomNode().style.display="none"},SetIsEnabled:function(b){this.m_isEnabled=b;this.RenderIsEnabled()},SetNav:function(b){if(b){this.m_navInfo=b;if(this.IsRendered()){var c=this.m_navInfo.SetupHrefOnClick(this);this.m_href=c.Href;if(this.IsEnabled())this.GetDomNode().href=this.m_href;if(c.Target==null||c.Target=="")this.GetDomNode().attributes.getNamedItem("target")&&this.GetDomNode().attributes.removeNamedItem("target");
else this.GetDomNode().target=c.Target;var e=this;this.AttachObject(this.GetDomNode(),"onclick",function(f){D2L.Util.Dom.CancelBubble(f);if(c.OnClick&&e.IsEnabled())return c.OnClick.call()})}}},SetOnClick:function(b){UI.GetMessageArea().AddWarningMessage(new D2L.LP.Text.PlainText("Link.SetOnClick() is obsolete. Please use SetNav() instead."),true);if(b){this.m_navInfo.SetOnClick(b);this.SetNav(this.m_navInfo)}},SetText:function(b){this.m_text=D2L.LP.Text.IText.Normalize(b,"D2L.Control.Link","SetText",
"text");this.RenderText()}});D2L.Link=D2L.Control.Link;
D2L.Control.List=D2L.Control.extend({Construct:function(b){arguments.callee.$.Construct.call(this);this.m_altLess=new D2L.LP.Text.PlainText;this.m_altMore=new D2L.LP.Text.PlainText;this.m_bulletType=b;this.m_delimiter="";this.m_threshold=-1;this.m_isExpanded=false;this.m_lineHeight=1;this.m_objectName="";this.m_numItems=0;this.m_isOnDemand=this.m_hasThreshold=false;this.m_moreCountIsDisplayed=true;this.m_onDemandHasLessLink=false;this.m_onDemandTotalItemsCount=-1;this.m_onDemandJsCallbackObjectJs=
this.m_onDemandCallback=this.m_lessLink=this.m_moreLink=null;this.m_isOnDemandLoaded=false;this.m_onDemandOrigNumItems=this.m_onDemandReturnsAll=null},AddItem:function(b){this.AppendChild(b)},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_bulletType=b.GetMember();this.m_delimiter=b.GetMember();this.m_objectName=b.GetMember();this.m_threshold=b.GetMember();this.m_hasThreshold=this.m_threshold>=0;var c=b.GetMember();this.m_onDemandHasLessLink=b.GetBoolean();
this.m_onDemandReturnsAll=b.GetBoolean();this.m_onDemandTotalItemsCount=b.GetMember();var e=b.GetMember();this.m_moreCountIsDisplayed=b.GetBoolean();this.m_altLess=new D2L.LP.Text.PlainText(b.GetMember());this.m_altMore=new D2L.LP.Text.PlainText(b.GetMember());if(e.length>0)this.m_onDemandJsCallbackObjectJs=eval(e);if(c.length>0)this.m_onDemandCallback=this.m_onDemandJsCallbackObjectJs?this.m_onDemandJsCallbackObjectJs[c]:this.GetWindow()[c];if(this.m_onDemandCallback!==null&&this.m_onDemandCallback!==
undefined)this.m_isOnDemand=true;this.GetDomNode().childNodes.length==1&&this.GetDomNode().childNodes[0].className=="no_disp"&&this.GetDomNode().removeChild(this.GetDomNode().childNodes[0]);this.m_numItems=this.GetDomNode().childNodes.length;if(this.m_hasThreshold||this.m_isOnDemand){this.m_numItems-=2;this.m_moreLink=this.GetDomNode().childNodes[this.m_numItems].firstChild;this.m_lessLink=this.GetDomNode().childNodes[this.m_numItems+1].firstChild}for(c=0;c<this.GetDomNode().childNodes.length;c++)(new D2L.Control.ListItem).IntegrateChild(this,
this.GetDomNode().childNodes[c])},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);var b=this.GetUI().CreateElement("ul");this.SetDomNode(b);var c="dl";switch(this.m_bulletType){case D2L.Control.List.BulletTypeOptions.Circle:c+=" dl_ci";break;case D2L.Control.List.BulletTypeOptions.Disc:c+=" dl_di";break;case D2L.Control.List.BulletTypeOptions.Square:c+=" dl_sq";break;case D2L.Control.List.BulletTypeOptions.None:c+=" dl_no";break;case D2L.Control.List.BulletTypeOptions.Flat:defaultSpacing=
"1em,0em,1em,0em";c+=" dl_fl";break}b.className=c}},AppendChild:function(b){b=this.m_hasThreshold||this.m_isOnDemand?arguments.callee.$.InsertBefore.call(this,b,this.Children()[this.m_numItems]):arguments.callee.$.InsertBefore.call(this,b);this.m_numItems++;var c=this.CreateElement("span");c.style.display=this.m_hasThreshold&&this.m_numItems>this.m_threshold||this.m_isOnDemand&&this.m_onDemandHasLessLink?"":"none";var e="&lrm;";if(Culture.IsRightToLeft())e="&rlm;";var f=this.CreateTextNode(this.m_delimiter);
c.innerHTML=e;c.appendChild(f);b.GetDomNode().appendChild(c);if(this.m_numItems-2>=0){c=this.GetDomNode().childNodes[this.m_numItems-2];D2L.LP.Web.UI.Html.Dom.GetLastElementChild(c).style.display=""}if(this.m_hasThreshold)if(this.IsExpanded()){if(this.m_numItems>this.m_threshold)this.m_lessLink.parentNode.style.display="";this.UpdateLessLink()}else if(this.m_numItems>this.m_threshold){b.GetDomNode().style.display="none";this.m_moreLink.parentNode.style.display="";this.UpdateMoreLink()}return b},Collapse:function(){if(!(!this.m_isExpanded||
!this.m_isOnDemand&&!this.m_hasThreshold)){this.m_isExpanded=false;for(var b=this.m_hasThreshold?this.m_threshold:this.m_onDemandOrigNumItems,c=0;c<this.m_numItems;c++)if(c<b)this.GetDomNode().childNodes[c].style.display="";else this.GetDomNode().childNodes[c].style.display="none";this.m_moreLink.parentNode.style.display="";this.m_lessLink.parentNode.style.display="none";this.UpdateMoreLink()}},Expand:function(){if(!(this.m_isExpanded||!this.m_isOnDemand&&!this.m_hasThreshold)){this.m_isExpanded=
true;var b=this,c=this.CreateElement("img");D2L.LP.Text.LangTerm.AssignText("Standard.Misc.txtLoading",c,"title");D2L.LP.Text.LangTerm.AssignText("Standard.Misc.txtLoading",c,"alt");var e=function(){for(var f=0;f<b.m_numItems;f++)b.GetDomNode().childNodes[f].style.display="";b.m_moreLink.parentNode.style.display="none";if(b.m_hasThreshold||b.m_onDemandHasLessLink){b.m_lessLink.parentNode.style.display="";b.UpdateLessLink()}};if(this.m_hasThreshold||this.m_isOnDemandLoaded)e();else{(new D2L.Images.ImageInfo("/d2l/img/lp/loading.gif",
16,16)).Assign(c);this.m_moreLink.parentNode.appendChild(c);this.m_moreLink.style.display="none";this.m_onDemandOrigNumItems=this.m_numItems;(this.m_onDemandJsCallbackObjectJs?this.m_onDemandCallback.call(this.m_onDemandJsCallbackObjectJs,this):this.m_onDemandCallback.call(this,this)).Register(function(f){b.m_isOnDemandLoaded=true;b.m_moreLink.style.display="";b.m_moreLink.parentNode.removeChild(c);if(f){b.m_onDemandReturnsAll&&b.RemoveAll();b.AppendChildren(f)}e()})}}},GetBulletType:function(){return this.m_bulletType},
IsExpanded:function(){return this.m_isExpanded},RemoveAll:function(){for(var b=this.m_numItems-1;b>=0;b--)this.RemoveChild(this.Children()[b]);if(this.m_moreLink!=null)this.m_moreLink.parentNode.style.display="none";if(this.m_lessLink!=null)this.m_lessLink.parentNode.style.display="none";this.m_numItems=0},RenderLineHeight:function(){if(this.IsRendered())this.GetDomNode().style.lineHeight=this.m_lineHeight+"em"},SetLineHeight:function(b){this.m_lineHeight=b;this.RenderLineHeight()},UpdateMoreLink:function(){if(this.m_isOnDemand||
this.m_hasThreshold){var b;b=this.m_onDemandTotalItemsCount>=0?this.m_isOnDemandLoaded?this.m_numItems-this.m_onDemandOrigNumItems:this.m_onDemandTotalItemsCount-this.m_numItems:this.m_numItems-this.m_threshold;(this.m_moreCountIsDisplayed&&(this.m_onDemandTotalItemsCount>=0||this.m_hasThreshold)?new D2L.LP.Text.LangTerm("Framework.List.lblMore",b):new D2L.LP.Text.LangTerm("Framework.List.lblMoreNoNumber")).AssignText(this.m_moreLink,"innerHTML",true);this.m_altMore.AssignText(this.m_moreLink,"title",
false)}},UpdateLessLink:function(){if(this.m_hasThreshold||this.m_isOnDemand&&this.m_lessLink)this.m_altLess.AssignText(this.m_lessLink,"title",false)}});D2L.Control.List.BulletTypeOptions={None:1,Flat:2,Circle:3,Disc:4,Square:5,Custom:6};
D2L.Control.ListItem=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_bulletImg=null;this.m_bulletType=D2L.Control.List.BulletTypeOptions.None;this.m_text=this.m_textNode=null;var b=this;this.ParentChangeEvent().RegisterMethod(function(c){b.m_bulletType=c.GetBulletType();b.SetBulletImage(b.m_bulletImg)})},BuildDom:function(){if(!this.m_hasDomBeenBuilt){arguments.callee.$.BuildDom.call(this);this.SetDomNode(this.GetUI().CreateElement("li"));this.m_text!==null&&
this.SetText(this.m_text);this.m_bulletImg!==null&&this.SetBulletImage(this.m_bulletImg)}},GetText:function(){return this.m_text},SetBulletImage:function(b){this.m_bulletImg=b;if(!(!this.IsRendered()||this.m_bulletImg===null))if(!(this.m_bulletType!==D2L.Control.List.BulletTypeOptions.Flat&&this.m_bulletType!==D2L.Control.List.BulletTypeOptions.Custom)){var c=this.GetDomNode();b.GetSrc().Register(function(e){e="url('"+e+"')";if(this.m_bulletType==D2L.Control.List.BulletTypeOptions.Custom)c.style.listStyleImage=
e;else{var f=b.GetWidth();if(f===0)f=16;c.style.backgroundImage=e;c.style.backgroundRepeat="no-repeat";if(Culture.IsRightToLeft()){c.style.backgroundPosition="top right";c.style.paddingRight=f+4+"px"}else{c.style.backgroundPosition="2px 0px";c.style.paddingLeft=f+4+"px"}}})}},SetText:function(b){this.m_text=b;if(this.IsRendered()){if(this.m_textNode===null){this.m_textNode=this.GetUI().CreateElement("span");this.GetDomNode().appendChild(this.m_textNode)}this.m_text.AssignHtml(this.m_textNode,"innerHTML")}}});
D2L.Control.LongEdit=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_backgroundColor="";this.m_height=-1;this.m_isEnabled=this.m_isDisplayed=true;this.m_text=new D2L.LP.Text.PlainText;this.m_title=new D2L.LP.Text.PlainText;this.m_width=-1},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);if(b.HasMember())this.GetDomNode().ID2L=null;this.m_isDisplayed=this.GetDomNode().style.display!="none";this.m_isEnabled=!this.GetDomNode().disabled;
this.m_text=new D2L.LP.Text.PlainText(this.GetDomNode().value);this.m_title=new D2L.LP.Text.PlainText(this.GetDomNode().getAttribute("title"))},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);this.SetDomNode(this.CreateElement("textarea"));this.GetDomNode().name=this.GetMappedId();this.SetIsDisplayed(this.m_isDisplayed);this.SetText(this.m_text);this.SetTitle(this.m_title);this.SetBackgroundColor(this.m_backgroundColor);if(this.m_width>0)this.GetDomNode().style.width=
this.m_width+"px";if(this.m_height>0)this.GetDomNode().style.height=this.m_height+"px"}},Focus:function(){this.IsRendered()&&this.GetDomNode().focus()},GetMultiEditValue:function(){if(this.IsEnabled()&&this.IsRendered())return this.GetDomNode().value;return""},GetText:function(){if(this.IsRendered())return new D2L.LP.Text.PlainText(this.GetDomNode().value);return this.m_text},GetTextAsString:function(){if(this.IsRendered())return this.GetDomNode().value;return""},GetTitle:function(){return this.m_title},
GetState:function(b){this.IsRendered()&&b.AddMember("Text",this.GetDomNode().value)},GetValue:function(){return this.GetText().GetText()},GetValueNoDelay:function(){return this.GetTextAsString()},HasValue:function(){var b=new D2L.Util.DelayedReturn;this.GetText().GetText().Register(function(c){b.Trigger(c.trim().length>0)});return b},HasValueNoDelay:function(){return this.GetTextAsString().trim().length>0},IsDisplayed:function(){return this.m_isDisplayed},IsEnabled:function(){return this.IsRendered()?
!this.GetDomNode().disabled:this.m_isEnabled},OpenSpellChecker:function(){var b=this;D2L.Util.SpellChecker.OpenSpellChecker(this.GetTextAsString(),false).Register(function(c){b.SetText(new D2L.LP.Text.PlainText(c))})},SetBackgroundColor:function(b){this.m_backgroundColor=b;if(this.IsRendered())this.GetDomNode().style.backgroundColor=b},SetHeight:function(b){this.m_height=b;if(this.IsRendered())if(b>0)this.GetDomNode().style.height=b+"px";else this.GetDomNode().style.height="auto"},SetIsDisplayed:function(b){if(this.IsRendered())this.GetDomNode().style.display=
b?"inline":"none";this.m_isDisplayed=b},SetIsEnabled:function(b){this.m_isEnabled=b;if(this.IsRendered())this.GetDomNode().disabled=!b},SetText:function(b){this.m_text=b;this.IsRendered()&&this.m_text.AssignText(this.GetDomNode(),"value")},SetTitle:function(b){this.m_title=b;this.IsRendered()&&this.m_title.AssignText(this.GetDomNode(),"title")},SetWidth:function(b){this.m_width=b;if(this.IsRendered())if(b>0)this.GetDomNode().style.width=b+"px";else this.GetDomNode().style.width="auto"}});
D2L.Control.MessageArea=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_domErrorList=this.m_domError=this.m_domStatusText=this.m_domStatusLiveRegion=this.m_domStatus=this.m_domAriaLog=null;this.m_domErrorBalloons=[];this.m_domWarningList=this.m_domWarning=null;this.m_oldHeight=this.m_fadeOutsWaiting=0;this.m_hasWarnings=false;this.m_errorDescription=new D2L.LP.Text.LangTerm("Framework.MessageArea.lblErrors");this.m_numWarnings=0;this.m_renderingDr=new D2L.Util.DelayedReturn(true);
this.m_numErrors=0;this.m_mouseOverStatus=false;this.OnHeightChange=new D2L.EventHandler},AddAriaMessage:function(b){var c=this.m_domAriaLog===null,e=this.GetAriaLog(),f=function(){b.AssignText(e,"innerHTML",true)};b.GetPlainText().Register(function(g){c?setTimeout(function(){f(g)}):f(g)})},AddErrorObj:function(b){var c=null;if(b.m_controlId)c=UI.GetControl(b.m_controlId.ID(),b.m_controlId.SID());this.AddError(b.m_errorText,c)},AddError:function(b,c){this.m_domError===null&&this.BuildDom_Error();
var e=this,f=this.GetUI().CreateElement("li");if(function(j){if(j===undefined||j===null)return false;if(c.HasFocusControl!==undefined)return c.HasFocusControl();return c.Focus!==undefined}(c)){var g=b.GetSubject(),h=new D2L.LP.Text.PlainText(g);b.SetSubject("{tempsubject}");if(g.length===0){h=D2L.Control.Field.GetFieldParentText(c);if(h===null)h=new D2L.LP.Text.LangTerm("Framework.Validation.DefaultSubject")}var k=this.CreateElement("a");k.href="javascript://";this.AttachObject(k,"onclick",function(){c.Focus()});
f.appendChild(k);D2L.Util.DelayedReturn.RegisterAll(b.GetHtml(),h.GetHtml(),function(j,l){k.innerHTML=j.replace("{tempsubject}",'<span class="d_ma_vet">'+D2L.Util.Html.Encode(l)+"</span>");e.m_domErrorList.appendChild(f);b.SetSubject(l);e.AttachBalloon(c,b)})}else{b.GetText().Register(function(j){f.appendChild(e.CreateTextNode(j))});this.m_domErrorList.appendChild(f);c!==undefined&&c!==null&&e.AttachBalloon(c,b)}this.m_numErrors++},AddWarningMessage:function(b,c){if(this.m_hasWarnings){this.m_domWarningList===
null&&this.BuildDom_Warning();if(c===undefined)c=false;var e=this.GetUI().CreateElement("li");b.AssignHtml(e,"innerHTML");this.m_domWarningList.appendChild(e);this.m_numWarnings++;if(c){this.RenderWarningLabel();this.RenderHeight()}}},AttachBalloon:function(b,c){var e=b.GetDomNode();if(b.GetValidationBalloonDomNode!==undefined)e=b.GetValidationBalloonDomNode();if(!(e===undefined||e===null)){for(var f=e.nextSibling;f;){if(f.nodeType==1){var g=f.tagName.toLowerCase(),h=YAHOO.util.Dom.getStyle(f,"display");
if(h=="block"||h.length===0){e=f.previousSibling;break}e=f;if(g=="br"&&h=="inline")break}else e=f;f=f.nextSibling}if(e!==null){var k=D2L.Validation.CreateErrorBalloon(c);c.GetHtml().Register(function(){e.nextSibling?e.parentNode.insertBefore(k,e.nextSibling):e.parentNode.appendChild(k)});this.m_domErrorBalloons.push(k);b.GetWindow().UI.GetWindowEventManager().Transform.Trigger()}}},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);this.SetDomNode(this.GetUI().CreateElement("div"));
this.GetDomNode().id=this.GetMappedId();this.GetDomNode().className="d_ma"}},BuildDom_Error:function(){this.m_domError=this.GetUI().CreateElement("div");this.m_domError.className="d_ma_ve";this.m_domError.tabIndex=0;D2L.Util.Aria.SetRole(this.m_domError,"alert");var b=this.GetUI().CreateElement("h2");b.id=this.GetUI().GetUniqueHtmlId();b.appendChild(this.GetUI().CreateTextNode(new D2L.LP.Text.LangTerm("Framework.MessageArea.hdrErrors")));this.m_domError.appendChild(b);this.m_domError.appendChild(this.GetUI().CreateElement("p"));
this.m_domErrorList=this.GetUI().CreateElement("ul");this.m_domError.appendChild(this.m_domErrorList)},BuildDom_Status:function(){var b=this;this.m_domStatus=this.GetUI().CreateElement("div");this.m_domStatus.className="d_ma_s";this.m_domStatus.id=this.GetUI().GetUniqueHtmlId();D2L.LP.Web.UI.Html.Dom.AddEventListener("mouseover",this.m_domStatus,function(){b.m_mouseOverStatus=true});D2L.LP.Web.UI.Html.Dom.AddEventListener("mouseout",this.m_domStatus,function(){b.m_mouseOverStatus=false;b.FadeOutStatus()});
var c=this.GetUI().CreateElement("img");c.src="/d2l/img/lp/messageArea/close.gif";D2L.LP.Web.UI.Html.Dom.AddEventListener("click",c,function(){b.m_domStatus.style.bottom="-10000px"});this.m_domStatus.appendChild(c);this.m_domStatusLiveRegion=this.GetUI().CreateElement("div");D2L.Util.Aria.SetRole(this.m_domStatusLiveRegion,"alert");this.m_domStatus.appendChild(this.m_domStatusLiveRegion);c=this.GetUI().CreateElement("img");c.alt="";this.m_domStatusLiveRegion.appendChild(c);this.GetDomNode().appendChild(this.m_domStatus)},
BuildDom_Warning:function(){if(this.m_hasWarnings){this.m_domWarning=this.GetUI().CreateElement("div");this.m_domWarning.className="d_ma_w";var b=this.GetUI().CreateElement("h2");b.innerHTML="Code Warnings";this.m_domWarning.appendChild(b);b=this.GetUI().CreateElement("p");this.m_domWarning.appendChild(b);var c=this.GetUI().CreateElement("span");b.appendChild(c);c=this.GetUI().CreateElement("span");c.innerHTML='<a href="javascript:UI.GetMessageArea().ExpandWarnings();">Show Warnings</a><a href="javascript:UI.GetMessageArea().CollapseWarnings();" style="display:none;">Hide Warnings</a>';
c.style.paddingLeft="0.5em";b.appendChild(c);this.m_domWarningList=this.GetUI().CreateElement("ul");this.m_domWarningList.style.display="none";this.m_domWarning.appendChild(this.m_domWarningList);this.RenderWarningLabel()}},ClearErrors:function(b){if(this.m_numErrors===0&&this.m_numWarnings===0)return new D2L.Util.DelayedReturn(true);for(var c=new D2L.Util.DelayedReturn,e=0;e<this.m_domErrorBalloons.length;e++){D2L.Util.Dom.Purge(this.m_domErrorBalloons[e]);this.m_domErrorBalloons[e]&&this.m_domErrorBalloons[e].parentNode&&
this.m_domErrorBalloons[e].parentNode.removeChild(this.m_domErrorBalloons[e])}this.m_domErrorBalloons=[];if(this.m_domErrorList!==null)for(;this.m_domErrorList.childNodes.length>0;){D2L.Util.Dom.Purge(this.m_domErrorList.firstChild);this.m_domErrorList.removeChild(this.m_domErrorList.firstChild)}this.m_numErrors=0;b?this.RenderHeight().Register(function(){setTimeout(function(){c.Trigger(true)},200)}):c.Trigger(true);return c},CollapseWarnings:function(){if(this.m_hasWarnings){this.m_domWarning.childNodes[1].childNodes[1].childNodes[0].style.display=
"inline";this.m_domWarning.childNodes[1].childNodes[1].childNodes[1].style.display="none";this.m_domWarningList.style.display="none";this.RenderHeight()}},ExpandWarnings:function(){if(this.m_hasWarnings){this.m_domWarning.childNodes[1].childNodes[1].childNodes[0].style.display="none";this.m_domWarning.childNodes[1].childNodes[1].childNodes[1].style.display="inline";this.m_domWarningList.style.display="block";this.RenderHeight()}},GetAriaLog:function(){if(this.m_domAriaLog===null){this.m_domAriaLog=
this.GetUI().CreateElement("div");this.m_domAriaLog.className="d_ma_al";this.m_domAriaLog.innerHTML="<p>initial value</p>";D2L.Util.Aria.SetRole(this.m_domAriaLog,"log");D2L.Util.Aria.SetAttribute(this.m_domAriaLog,"live","assertive");this.GetDomNode().appendChild(this.m_domAriaLog)}return this.m_domAriaLog},GetHeight:function(){if(!this.HasErrors()&&!this.HasWarnings())return 0;this.GetDomNode().style.height=this.m_oldHeight+"px";var b=0;if(this.HasErrors())b+=this.m_domError.offsetHeight;if(this.HasWarnings())b+=
this.m_domWarning.offsetHeight;return b},HasErrors:function(){return this.m_numErrors>0},HasWarnings:function(){return this.m_hasWarnings&&this.m_numWarnings>0},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b,false);this.m_hasWarnings=D2L.Debug.IsEnabled();var c=b.GetMember(),e=b.GetMember(),f=b.GetMember(),g=b.GetObjectArray(D2L.Control.MessageArea.Error),h=b.GetObject(),k=b.GetObject();if(b.HasMember())this.m_errorDescription=b.GetObject();this.BuildDom();if(g.length>
0)for(var j=0;j<g.length;j++)this.AddErrorObj(g[j]);g=this.GetDomNode();if(e==null){if(c=UI.GetById(c))c.childNodes.length>0?c.insertBefore(g,c.firstChild):c.appendChild(g)}else if(c=UI.GetById(e))c.nextSibling?c.parentNode.insertBefore(g,c.nextSibling):c.parentNode.appendChild(g);if(f!==D2L.Control.MessageArea.Status.None)this.SetStatus(f);else if(h!==null&&k!==null)this.SetCustomStatus(h,k);else if(this.HasErrors()||this.HasWarnings())this.ShowErrors()},RenderErrorLabel:function(){var b=this;if(this.m_domError.childNodes[1].firstChild){D2L.Util.Dom.Purge(this.m_domError.childNodes[1].firstChild);
this.m_domError.childNodes[1].removeChild(this.m_domError.childNodes[1].firstChild)}this.m_errorDescription.SetReplace(D2L.Util.Integer.Format(this.m_numErrors));this.m_errorDescription.GetHtml().Register(function(c){b.m_domError.childNodes[1].innerHTML=c})},RenderWarningLabel:function(){if(this.HasWarnings()){if(this.m_domWarning.childNodes[1].firstChild.firstChild){D2L.Util.Dom.Purge(this.m_domWarning.childNodes[1].firstChild.firstChild);this.m_domWarning.childNodes[1].firstChild.removeChild(this.m_domWarning.childNodes[1].firstChild.firstChild)}this.m_domWarning.childNodes[1].firstChild.innerHTML=
this.m_numWarnings>1?"There are <b>"+D2L.Util.Integer.Format(this.m_domWarningList.childNodes.length)+" code warnings</b> on this page:":"There is <b>"+D2L.Util.Integer.Format(1)+" code warning</b> on this page:"}},RenderHeight:function(){var b=this,c=new D2L.Util.DelayedReturn,e=this.GetDomNode();this.m_renderingDr.Register(function(){b.m_renderingDr=c;e.className=b.HasErrors()||b.HasWarnings()?"d_ma d_ma_e":"d_ma";e.style.height=b.m_oldHeight+"px";if(b.m_hasWarnings&&b.m_domWarning!==null)if(b.HasWarnings())b.m_domWarning.parentNode!==
e&&e.appendChild(b.m_domWarning);else b.m_domWarning.parentNode===e&&e.removeChild(b.m_domWarning);if(b.m_domError!==null)if(b.HasErrors())b.m_domError.parentNode!==e&&e.appendChild(b.m_domError);else b.m_domError.parentNode===e&&e.removeChild(b.m_domError);var f=b.GetHeight();if(f!=b.m_oldHeight){b.m_oldHeight=f;f=new YAHOO.util.Anim(b.GetMappedId(),{height:{to:f}},0.5,YAHOO.util.Easing.easeOut);f.onComplete.subscribe(function(){e.style.height=b.HasErrors()||b.HasWarnings()?"auto":"0px";UI.GetWindowEventManager().Transform.Trigger();
b.m_renderingDr.Trigger(true);b.OnHeightChange.Trigger();setTimeout(function(){e.focus()})});f.animate()}else b.m_renderingDr.Trigger(true)});return c},Reset:function(){var b=new D2L.Util.DelayedReturn;this.ClearErrors(true).Register(function(){b.Trigger(true)});return b},SetCustomStatus:function(b,c){this.SetStatusHelper(b,c)},SetStatus:function(b){b!=D2L.Control.MessageArea.Status.None&&this.SetStatusHelper(new D2L.Images.ImageTerm("Framework.MessageArea.actStatus"+b),new D2L.LP.Text.LangTerm("Framework.MessageArea.lblStatus"+
b))},SetStatusHelper:function(b,c){if(this.IsRendered()){this.m_domStatus===null&&this.BuildDom_Status();b.Assign(this.m_domStatusLiveRegion.firstChild,false);var e=this;this.m_domStatusText!==null&&this.m_domStatusLiveRegion.removeChild(this.m_domStatusText);c.GetText().Register(function(f){setTimeout(function(){e.m_domStatusText=e.GetUI().CreateTextNode(f);e.m_domStatusLiveRegion.appendChild(e.m_domStatusText);e.ShowStatus()})})}},SetMessages:function(b){var c=this;this.Reset().Register(function(){if(b.HasErrors()){c.m_errorDescription=
b.m_errorDescription;for(var e=0;e<b.m_errors.length;e++)c.AddErrorObj(b.m_errors[e]);c.ShowErrors()}else b.HasCustomStatus()?c.SetCustomStatus(b.GetCustomIcon(),b.GetCustomMessage()):c.SetStatus(b.GetStatusType())})},ShowStatus:function(){if(this.GetUI().GetBrowserInfo().Type==D2L.UI.BrowserType.IE)this.m_domStatus.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=0)";else this.m_domStatus.style.opacity="0";this.m_domStatus.style.bottom="1em";(new YAHOO.util.Anim(this.m_domStatus.id,
{opacity:{to:1}},0.3,YAHOO.util.Easing.easeInStrong)).animate();this.FadeOutStatus()},FadeOutStatus:function(){var b=this,c=function(){if(b.GetUI().GetBrowserInfo().Type==D2L.UI.BrowserType.IE)b.m_domStatus.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)";else b.m_domStatus.style.opacity="1"};this.m_fadeOutsWaiting++;setTimeout(function(){if(b.m_fadeOutsWaiting>1)b.m_fadeOutsWaiting--;else{var e=new YAHOO.util.Anim(b.m_domStatus.id,{opacity:{to:0}},D2L.Control.MessageArea.FADE_OUT_DURATION,
YAHOO.util.Easing.easeInStrong);e.onTween.subscribe(function(){if(b.m_mouseOverStatus){e.stop();setTimeout(c)}else b.m_fadeOutsWaiting>1&&e.stop()});e.onComplete.subscribe(function(){b.m_fadeOutsWaiting--;if(!b.m_mouseOverStatus&&b.m_fadeOutsWaiting==0)b.m_domStatus.style.bottom="-10000px"});e.animate()}},D2L.Control.MessageArea.WAIT_DURATION)},ShowErrors:function(){if(this.m_numErrors===0)return new D2L.Util.DelayedReturn(true);this.RenderErrorLabel();return this.RenderHeight()}});
D2L.Control.MessageArea.FADE_OUT_DURATION=2;D2L.Control.MessageArea.FADE_IN_DURATION=0.5;D2L.Control.MessageArea.WAIT_DURATION=4E3;D2L.Control.MessageArea.Error=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_errorText=new D2L.LP.Text.PlainText;this.m_controlId=null},Deserialize:function(b){this.m_errorText=b.GetObject("ErrorText");if(b.HasMember("ControlId"))this.m_controlId=b.GetObject("ControlId",D2L.Control.Id)}});
D2L.Control.MessageArea.Messages=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_customMessage=this.m_customIcon=null;this.m_errorDescription=new D2L.LP.Text.LangTerm("Framework.MessageArea.lblErrors");this.m_statusType=D2L.Control.MessageArea.Status.None;this.m_errors=[]},Deserialize:function(b){this.m_statusType=b.GetMember("StatusType");if(b.HasMember("CustomIcon")&&b.HasMember("CustomMessage")){this.m_customIcon=b.GetObject("CustomIcon");this.m_customMessage=
b.GetObject("CustomMessage")}if(b.HasMember("ErrorDescription"))this.m_errorDescription=b.GetObject("ErrorDescription",D2L.LP.Text.IText);this.m_errors=b.GetObjectArray("Errors",D2L.Control.MessageArea.Error)},GetCustomIcon:function(){return this.m_customIcon},GetCustomMessage:function(){return this.m_customMessage},GetStatusType:function(){return this.m_statusType},HasCustomStatus:function(){return this.m_customIcon!==null},HasErrors:function(){return this.m_errors.length>0}});
D2L.Control.MessageArea.Status={None:0,Saved:1,Deleted:2,Created:3,Reordered:4,Copied:5,Imported:6,Exported:7,Moved:8,Added:9,Removed:10,Enrolled:11,Unenrolled:12,Sent:13};
D2L.Control.MenuBar=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_clearFloat=null;this.m_isDisplayed=this.m_hasBorderLeft=this.m_hasBorderBottom=this.m_hasBorderRight=this.m_hasBorderTop=true;this.m_padding=new D2L.Style.Spacing(D2L.Style.Spacing.Type.Padding,D2L.Style.Spacing.UnitType.Pixel,2);this.m_spacing=new D2L.Style.Spacing(D2L.Style.Spacing.Type.Spacing,D2L.Style.Spacing.UnitType.Pixel,0)},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);
var b=this.SetDomNode(this.GetUI().CreateElement("div"));b.className="dmb";this.IChildrenDomNode=this.GetUI().CreateElement("div");b.appendChild(this.IChildrenDomNode);this.m_clearFloat=new D2L.Control.ClearFloat;this.m_clearFloat.AppendTo(b);this.RenderIsDisplayed();this.RenderPadding();this.RenderSpacing();this.InstallEvents()}},GetPadding:function(){return this.m_padding},GetSpacing:function(){return this.m_spacing},HasBorderTop:function(){return this.m_hasBorderTop},HasBorderRight:function(){return this.m_hasBorderRight},
HasBorderBottom:function(){return this.m_hasBorderBottom},HasBorderLeft:function(){return this.m_hasBorderLeft},IntegrateControl:function(b){arguments.callee.$.IntegrateControl.call(this,b);this.IChildrenDomNode=this.GetDomNode().firstChild;this.m_hasBorderTop=b.GetMember("HasBorderTop",true);this.m_hasBorderRight=b.GetMember("HasBorderRight",true);this.m_hasBorderBottom=b.GetMember("HasBorderBottom",true);this.m_hasBorderLeft=b.GetMember("HasBorderLeft",true);this.m_isDisplayed=b.GetMember("IsDisplayed",
true);if(b.HasMember("Padding"))this.m_padding=b.GetObject("Padding");if(b.HasMember("Spacing"))this.m_spacing=b.GetObject("Spacing");this.InstallEvents()},InstallEvents:function(){var b=this;this.m_spacing.OnChange().RegisterMethod(function(){b.RenderSpacing()});this.m_padding.OnChange().RegisterMethod(function(){b.RenderPadding()})},IsDisplayed:function(){return this.m_isDisplayed},RenderBorder:function(b,c){if(this.IsRendered()){c=c?"solid":"none";this.GetDomNode().style["border"+b+"Style"]=c}},
RenderIsDisplayed:function(){if(this.IsRendered())this.GetDomNode().style.display=this.IsDisplayed()?"block":"none"},RenderPadding:function(){if(this.IsRendered())this.GetDomNode().style.padding=this.GetPadding().ToCss()},RenderSpacing:function(){if(this.IsRendered())this.GetDomNode().style.margin=this.GetSpacing().ToCss()},SetHasBorderTop:function(b){this.m_hasBorderTop=b;this.RenderBorder("Top",b)},SetHasBorderRight:function(b){this.m_hasBorderRight=b;this.RenderBorder("Right",b)},SetHasBorderBottom:function(b){this.m_hasBorderBottom=
b;this.RenderBorder("Bottom",b)},SetHasBorderLeft:function(b){this.m_hasBorderLeft=b;this.RenderBorder("Left",b)},SetIsDisplayed:function(b){this.m_isDisplayed=b;this.RenderIsDisplayed()}});
D2L.Nav=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_params=null;this.OnBeforeNavigate=new D2L.EventHandler;this.OnNavigate=new D2L.EventHandler;this.OnNavigationFailure=new D2L.EventHandler},Go:function(b,c,e){var f=true;if(!e&&(b.target=="_self"||b.target=="_parent"||b.target===""||b.action=="RPC"))(f=this.OnBeforeNavigate.Trigger(b))||this.OnNavigationFailure.Trigger(b);if(f)if(b.IsAction())this.GoAction(b,c);else{if(b.target=="_self"||b.target=="_parent"||
b.target===""||b.action=="RPC")(f=this.OnNavigate.Trigger(b))?b.OnNavigate.Trigger(b):this.OnNavigationFailure.Trigger(b);if(f)b.IsReload()?this.GoSelf(b):this.GoTo(b)}},GoRpc:function(b,c,e){D2L.Rpc.CreatePost(b,function(f){f.GetResponseType()==D2L.Rpc.ResponseType.Success&&e&&Nav.Go(e)},c).Call()},SetAnchor:function(b){if(window.location.hash==b||window.location.hash=="#"+b)window.location.hash="d2l";window.location.hash=b},GetAnchor:function(){var b=window.location.href.split("#")[1];b||(b="");
return b},GetParam:function(b){if(!this.m_params)this.m_params=this.GetParamArray();return this.m_params[b]?this.m_params[b]:null},Reload:function(b,c){var e=new D2L.NavInfo;if(b)for(var f in b.m_params)e.SetParam(f,b.m_params[f]);this.Go(e,true,c)},SubmitAction:function(b,c,e){var f=new D2L.NavInfo;if(b){f.action=b;if(c)f.actionParam=c;if(e)for(var g in e.m_params)f.SetParam(g,e.m_params[g]);this.Go(f)}else alert("action is required for the Nav.SubmitAction function")},GetWindow:function(b){try{return!b||
b===""||b=="_self"?window:b=="_parent"?window.parent:b=="_top"?window.top:b=="_blank"?null:D2L.Util.Html.FindFrame(b,window)}catch(c){return null}},GetParamArray:function(){var b={},c=window.location.href.split("?")[1];c=c?c.split("#")[0]:"";var e;if(c.length>0)for(var f=c.split("&"),g=f.length,h=0;h<g;h++){c=f[h].split("=")[0];e=f[h].split("=")[1];if(c){e||(e="");c=D2L.Util.Url.Decode(c);e=D2L.Util.Url.Decode(e);b[c]=e}}return b},GoTo:function(b){this.GoHelper(b.GetHref(),b.target)},GoSelf:function(b){UI.GetStateManager().SetSaveStateOnUnload(false);
UI.GetStateManager().AddStateToNavInfo(b);var c=this.GetParam("d2l_change"),e="0";e=c?c=="0"?"1":"0":"0";b.SetParam("d2l_change",e);this.GoHelper(b.GetHref(),b.target)},GoUrl:function(b){this.GoHelper(b,"_self")},GoHelper:function(b,c){if(b.length<2E3){var e=this.GetWindow(c);if(e)e.location.href=b;else c=="_blank"?window.open(b):window.open(b,c)}else{var f=document.getElementById("d2l_body");e=document.createElement("form");f.appendChild(e);var g=b.split("?")[0].split("#")[0];(f=b.split("?")[1])||
(f="");(b=b.split("#")[1])||(b="");f=f.split("&");var h=g,k=true;for(g=0;g<f.length;g++){var j=f[g];j||(j="");var l=j.split("=")[0];l||(l="");(j=j.split("=")[1])||(j="");if(l.substring(0,9)=="d2l_state"){var o=document.createElement("input");o.type="hidden";o.name=D2L.Util.Url.Decode(l);o.value=D2L.Util.Url.Decode(j);e.appendChild(o)}else{if(k){h+="?";k=false}else h+="&";h=h+l+"="+j}}if(b.length>0)h=h+"#"+b;e.method="post";e.action=h;e.target=c;e.submit()}},GoAction:function(b,c,e){if(c===undefined)c=
false;if(e===undefined)e=false;var f=this,g=function(){if(UI.form.target=="_self"||b.target=="_parent"||UI.form.target===""||b.action=="RPC")if(!f.OnNavigate.Trigger(b))return;UI.GetByName("d2l_action").value=UI.form.d2l_submitted?"":b.action;UI.GetByName("d2l_actionparam").value=b.actionParam;if(b.GetParam("d2l_rf")!==undefined)UI.GetByName("d2l_rf").value=b.GetParam("d2l_rf");UI.form.action=b.GetHref();if(b.target&&b.target.length>0)UI.form.target=b.target;b.IsAction()&&UI.GetMultiEditManager().AddMultiEditToForm();
if(!b.IgnoreState()){UI.GetStateManager().SetSaveStateOnUnload(false);UI.GetStateManager().AddStateToForm()}UI.GetControlMap().AddControlMapToForm();if(UI.form.action.indexOf("/d2l/tools/")>=0){for(var h=false,k=UI.form.elements,j=k.length,l,o=0;o<j;o++){l=k[o];if(l.name&&l.type&&l.name=="input"&&l.type=="file"){h=true;break}}if(!h&&!b.doMultipartSubmission){UI.form.enctype="application/x-www-form-urlencoded";UI.form.encoding="application/x-www-form-urlencoded"}}UI.GetByName("d2l_session").value=
D2L.LP.Web.UI.Html.Form.GetSessionVal();UI.form.method="post";(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.Safari||UI.GetBrowserInfo().Type==D2L.UI.BrowserType.Chrome)&&UI.GetBodyType()!=D2L.UI.BodyType.Normal?setTimeout(function(){UI.form.submit()}):UI.form.submit();UI.GenerateHitCode();if(UI.form.target=="_self"||UI.form.target==="")UI.form.d2l_submitted=true};c?g():UI.GetValidationManager().Validate(["Action","Action"+b.action]).Register(function(h){h?g():f.OnNavigationFailure.Trigger(b)})},GetNavigation:function(){var b=
window.location.href.split("?")[0];b||(b="");b=b.split("#")[0];if(b.indexOf("/d2l/")>=0)b=b.substring(b.indexOf("/d2l/"),b.length);return b},OpenWindow:function(b,c,e,f,g,h,k,j){if(e===undefined)e=640;if(f===undefined)f=480;if(g===undefined)g=true;if(h===undefined)h=true;if(k===undefined)k=true;if(j===undefined)j=true;b=b.replace(".","_");window.open(c,b,"width="+e+",height="+f+",location="+(j?"1":"0")+",menubar="+(g?"1":"0")+",resizable=1,scrollbars="+(h?"1":"0")+",status=0,toolbar="+(k?"1":"0")).focus()}});
D2L.NavInfo=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.action="none";this.anchor=this.actionParam="";this.doSmartScroll=false;this.navigation=Nav.GetNavigation();this.target="_self";this.m_params={};this.m_ignoreCurrentQueryParamsOnReload=this.m_ignoreState=false;this.m_eventParams=this.m_event="";this.m_isNavigationSet=this.m_forceSaveConfirmation=this.m_statusIsSet=false;this.m_onClick=null;this.OnNavigate=new D2L.EventHandler},ForceSaveConfirmation:function(){this.m_forceSaveConfirmation=
true},GetAction:function(){return this.action},GetActionParam:function(){return this.actionParam},GetAnchor:function(){return this.anchor},GetHref:function(){this.IsAction();var b,c,e,f=this.navigation,g={},h=this.anchor;for(b in this.m_params)g[b]=this.m_params[b];if(!h||h.length===0)(h=f.split("#")[1])||(h="");f=f.split("#")[0];if(f.indexOf("?")>0){b=f.split("?")[1];f=f.split("?")[0];b=b.split("&");for(var k=0;k<b.length;k++){e=b[k].split("=");c=D2L.Util.Url.Decode(e[0]);e=e.length==2?D2L.Util.Url.Decode(e[1]):
undefined;if(c&&!g[c])g[c]=e}}if(this.IsReload()&&!this.m_ignoreCurrentQueryParamsOnReload){b=Nav.GetParamArray();for(c in g)b[c]=g[c];if(this.doSmartScroll){g=UI.GetScrollLeft();k=UI.GetScrollTop()}else k=g=null;b.d2l_scrollx=g;b.d2l_scrolly=k;this.m_statusIsSet||(b.dst=null)}else{b=g;if(!this.IsExternal()&&this.GetTarget()!="_top"&&this.GetTarget()!="_blank"){g=Nav.GetParamArray();if(g.d2l_body_type)b.d2l_body_type=g.d2l_body_type}}if(!b.ou&&!this.IsExternal())b.ou=Nav.GetParam("ou")?Nav.GetParam("ou"):
Global.OrgUnitId;e=g="";for(c in b)if(b[c]!==null)if(D2L.Util.JavaScript.IsArray(b[c]))for(k=0;k<b[c].length;k++){g+=e+D2L.Util.Url.Encode(c)+"="+D2L.Util.Url.Encode(b[c][k]);e="&"}else{g+=e+D2L.Util.Url.Encode(c);if(b[c]!==undefined)g+="="+D2L.Util.Url.Encode(b[c]);e="&"}c=f;if(g.length>0)c+="?"+g;if(h.length>0)c+="#"+D2L.Util.Url.Encode(h);return c},GetNavigation:function(){return this.navigation},GetOnClick:function(){return this.m_onClick},GetEventParams:function(){return this.m_eventParams},
GetEvent:function(){return this.m_event},GetParam:function(b){return this.m_params[b]},GetTarget:function(){return this.target},HasSmartScroll:function(){return this.doSmartScroll},IgnoreState:function(){return this.m_ignoreState},IsAction:function(){return this.action.toString().toLowerCase()!="none"},IsEvent:function(){return this.m_event!==""},IsExternal:function(){return this.navigation.search(/^[a-zA-Z]+:\/\//i)>-1},IsReload:function(){return this.navigation.split("#")[0].split("?")[0].toLowerCase()==
Nav.GetNavigation().split("#")[0].split("?")[0].toLowerCase()},SetAction:function(b){this.action=b},SetActionParam:function(b){this.actionParam=b},SetAnchor:function(b){this.anchor=b},SetEventParams:function(b){this.m_eventParams=b},SetEvent:function(b){this.m_event=b},SetHasSmartScroll:function(b){this.doSmartScroll=b},SetIgnoreCurrentQueryParamsOnReload:function(b){this.m_ignoreCurrentQueryParamsOnReload=b},SetIgnoreState:function(b){this.m_ignoreState=b},SetMessageAreaStatusType:function(b){this.SetParam("dst",
b);this.m_statusIsSet=true},SetNavigation:function(b){if(b&&b!=""){if(b.toLowerCase()!="self")this.navigation=b;this.m_isNavigationSet=true}},SetOnClick:function(b){this.m_onClick=b},SetParam:function(b,c){if(b){b=b.toString();if(b.length!==0){if(c===null)c="";this.m_params[b]=D2L.Util.JavaScript.IsArray(c)?c:c.toString()}}},SetTarget:function(b){this.target=b},SetupHrefOnClick:function(b,c){var e=[],f=false;if(c===undefined)c=true;e.Href=null;e.OnClick=null;e.Target=null;if(c&&!this.IsAction()&&
this.m_isNavigationSet&&!this.IsReload()&&!this.IsEvent()){e.Href=this.GetHref();if(this.GetTarget()!="_self"&&this.GetTarget()!=""&&this.GetTarget()!=null)e.Target=this.GetTarget();if(e.Href.length<2E3)f=true;else{f=false;e.Href="javascript://"}}else if(c)e.Href="javascript://";var g=this;e.OnClick=function(){g.IsEvent()&&Events!==undefined&&Events[g.GetEvent()].Raise(g.GetEventParams());g.GetOnClick()!=null&&g.GetOnClick().call(b);if(!c||!f){if(g.m_isNavigationSet||g.IsAction())Nav.Go(g);return false}else return true};
return e},Deserialize:function(b){b.HasMember("Action")&&this.SetAction(b.GetMember("Action"));b.HasMember("ActionParam")&&this.SetActionParam(b.GetMember("ActionParam"));b.HasMember("Anchor")&&this.SetAnchor(b.GetMember("Anchor"));b.HasMember("Navigation")&&this.SetNavigation(b.GetMember("Navigation"));if(b.HasMember("OnClick")){var c=b.GetMember("OnClick");c=new Function(c);this.SetOnClick(c)}this.SetTarget(b.GetMember("Target","_self"));if(b.HasMember("NavParams"))this.m_params=b.GetDictionary("NavParams");
b.HasMember("Event")&&this.SetEvent(b.GetMember("Event"));b.HasMember("EventParams")&&this.SetEventParams(b.GetMember("EventParams"))},DeserializeMin:function(b){this.SetAction(b.GetMember());this.SetActionParam(b.GetMember());this.SetAnchor(b.GetMember());this.SetNavigation(b.GetMember());var c=b.GetMember();c=new Function(c);this.SetOnClick(c);this.SetTarget(b.GetMember());this.m_params=b.GetDictionaryMin();this.SetEvent(b.GetMember());this.SetEventParams(b.GetMember())},Serialize:function(b){b.AddMember("A",
this.GetAction());b.AddMember("AP",this.GetActionParam());b.AddMember("AN",this.GetAnchor());this.m_isNavigationSet?b.AddMember("N",this.GetNavigation()):b.AddMember("N","");var c="";if(this.GetOnClick())c=this.GetOnClick().toString();if(c.substr(0,8)=="function")c=c.substring(c.indexOf("{")+1,c.lastIndexOf("}"));b.AddMember("O",c);b.AddMember("T",this.GetTarget());c=new D2L.Util.Dictionary;for(i in this.m_params)this.m_params&&c.Add(i.toString(),this.m_params[i].toString());b.AddMember("NP",c);b.AddMember("E",
this.GetEvent());b.AddMember("EP",this.GetEventParams())}});D2L.NavParams=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_params={}},SetParam:function(b,c){if(b){b=b.toString();if(b.length!==0){if(c===null)c="";this.m_params[b]=c.toString()}}}});
D2L.UI.AriaController=D2L.Class.extend({Construct:function(b){arguments.callee.$.Construct.call(this);this.m_ui=b;if(D2L.Util.Aria.IsEnabled()){var c=this;this.m_ui.OnPageLoad().RegisterMethod(function(){c.OnPageLoad()})}},OnPageLoad:function(){var b=this.m_ui.GetByClassName("d_nb");b.length>0&&D2L.Util.Aria.SetRole(b[0],"navigation");b=this.m_ui.GetByClassName("d_nb_c3");b.length>0&&D2L.Util.Aria.SetRole(b[0],"banner");b=this.m_ui.GetById("d_content");if(b!==null)this.m_ui.GetBodyType()==D2L.UI.BodyType.Frame?
D2L.Util.Aria.SetRole(b,"complementary"):D2L.Util.Aria.SetRole(b,"main");var c=this.m_ui.GetByClassName("datb_ul");for(b=0;b<c.length;b++)D2L.Util.Aria.SetRole(c[b],"navigation");c=this.m_ui.GetByClassName("dtb_ul");for(b=0;b<c.length;b++)D2L.Util.Aria.SetRole(c[b],"navigation")}});
D2L.FormManager=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_fileUploads=[];this.m_hasSaveConfirmationOriginal=this.m_hasSaveConfirmation=this.m_uploadIsPrepared=this.hasChanged=false;this.m_formElementDisabled=[];this.m_saveConfirmationMethod=this.m_saveConfirmationDialog=null;this.m_skipUploads=false;this.OnChange=new D2L.EventHandler;this.OnChangeReset=new D2L.EventHandler;this.IDomNode=null;Nav.OnNavigate.Register(this,"ShowSaveConfirmation");Nav.OnNavigate.Register(this,
"UploadFilesNav");var b=this;UI.OnPageLoad().RegisterMethod(function(){b.IDomNode=UI.GetById("d2l_form");if(b.IDomNode){b.AttachObject(b.IDomNode,"ID2L",this);b.AttachObject(b.IDomNode,"onsubmit",function(){return false});b.AttachObject(b.IDomNode,"ID2LOnChange",new D2L.EventHandler);b.IDomNode.ID2LOnChange.Register(b,"HandleFormChange");b.AttachObject(b.IDomNode,"ID2LOnTransform",new D2L.EventHandler);b.IDomNode.ID2LOnTransform.Register(b,"HandleTransform")}})},ForceChange:function(b){if(b===undefined||
b===null)this.hasChanged=true;else{if(D2L.Util.IsD2LControl(b))b=b.GetDomNode();WindowEventManager.BubbleChangeEvent(b,null)}},GetSaveConfirmationDialog:function(){if(!this.m_saveConfirmationDialog)this.m_saveConfirmationDialog=new D2L.Dialog.SaveConfirmation;return this.m_saveConfirmationDialog},HandleFormChange:function(b){if(b.hasChangeBeenShown){this.hasChanged=true;this.OnChange.Trigger(b)}},HandleTransform:function(b){WindowEventManager.Transform.Trigger(b)},HasChanged:function(){return this.hasChanged},
ResetChanges:function(){this.hasChanged=false;this.m_hasSaveConfirmation=this.m_hasSaveConfirmationOriginal;this.OnChangeReset.Trigger()},SetHasSaveConfirmation:function(b){this.m_hasSaveConfirmation=b},SetSaveConfirmation:function(b){if(b.length>0)if(window[b])this.m_saveConfirmationMethod=window[b];this.m_hasSaveConfirmationOriginal=this.m_hasSaveConfirmation=true},ShowSaveConfirmation:function(b){if(this.m_hasSaveConfirmation&&this.HasChanged()&&(!b.IsAction()||b.m_forceSaveConfirmation)){var c=
this,e=function(g){if(g){c.m_hasSaveConfirmation=false;setTimeout(function(){Nav.Go(b)})}},f=this.GetSaveConfirmationDialog();f.SetCallback(function(g){if(g.GetType()==D2L.Dialog.ResponseType.Positive)if(c.m_saveConfirmationMethod){g=c.m_saveConfirmationMethod();g.Register(function(h){h===true&&e(true)})}else{g=D2L.Rpc.CreatePost("Save",function(h){return h.GetResponseType()==D2L.Rpc.ResponseType.Success?true:false}).Call();g.Register(e)}else g.GetType()==D2L.Dialog.ResponseType.Negative&&e(true)});
f.Open();return false}return true},RegisterFileUpload:function(b){this.m_fileUploads.push(b)},PrepareForUpload:function(b){var c=this;if(!this.m_uploadIsPrepared){var e=UI.form.action,f=UI.form.target;b.Register(function(){try{UI.form.action=e;UI.form.target=f}catch(g){}for(var h in c.m_formElementDisabled)c.m_formElementDisabled[h].disabled=false;c.m_uploadIsPrepared=false});b=UI.GetById("upload_frame");if(b===null)if(document.body.insertAdjacentHTML)document.body.insertAdjacentHTML("beforeEnd",
"<iframe id='upload_frame' name='upload_frame' style='position:absolute;left:-200px;top:-200px;width:1px;height:1px;'></iframe>");else{b=document.createElement("iframe");b.id="upload_frame";b.name="upload_frame";b.style.position="absolute";b.style.left="-200px";b.style.top="-200px";b.style.width="1px";b.style.height="1px";document.body.appendChild(b)}UI.form.target="upload_frame";this.m_uploadIsPrepared=true}for(b=0;b<UI.form.elements.length;b++)if(!UI.form.elements[b].disabled&&UI.form.elements[b].tagName.toLowerCase()!=
"fieldset"){this.m_formElementDisabled.push(UI.form.elements[b]);UI.form.elements[b].disabled=true}},UploadFilesNav:function(b){if(this.m_skipUploads||!b.IsAction())return true;for(var c=0,e=0;e<this.m_fileUploads.length;e++)c+=this.m_fileUploads[e].GetNumToUpload();if(c===0)return true;var f=this;this.UploadFiles().Register(function(g){if(g&&b){f.m_skipUploads=true;Nav.Go(b);f.m_skipUploads=false}});return false},UploadFiles:function(){var b=new D2L.Util.DelayedReturn,c=this,e=function(k){b.Trigger(k)};
this.m_fileUploads.length===0&&e(true);var f=function(k){k<c.m_fileUploads.length?c.m_fileUploads[k].Upload().Register(function(j){j?f(++k):e(false)}):e(true)},g=0,h=function(k){if(k<c.m_fileUploads.length){var j=c.m_fileUploads[k];j.IsEnabled()&&j.UploadPrepare().Register(function(l){if(l<0)e(false);else g+=l;if(k==c.m_fileUploads.length-1)if(g===0)e(true);else{c.PrepareForUpload(b);f(0)}h(++k)})}};h(0);return b}});
D2L.UI.ShimController=D2L.Class.extend({Construct:function(b){arguments.callee.$.Construct.call(this);this.m_shims=[];this.m_ui=b;var c=this;b.OnPageUnload().RegisterMethod(function(){c.ClearShims()})},ClearShim:function(b){if(!(b===undefined||b===null)){for(var c=0;c<this.m_shims.length;c++)if(this.m_shims[c]==b){this.m_shims.splice(c,1);break}for(c=0;c<b.shims.length;c++)b.shims[c]!==null&&b.shims[c].SetIsVisible(false)}},ClearShims:function(b){if(b===undefined||b==-1||b>this.m_shims.length)b=this.m_shims.length;
for(var c=0;c<b;c++)for(var e=this.m_shims.pop(),f=0;f<e.shims.length;f++)e.shims[f]!==null&&e.shims[f].SetIsVisible(false)},ShimWindow:function(b,c,e){var f=this,g=[],h=function(k){for(var j=k.document.getElementsByTagName("frame"),l=k.document.getElementsByTagName("iframe"),o=j.length===0,p=0;p<j.length;p++)try{h(j[p].contentWindow)}catch(r){}for(p=0;p<l.length;p++){j=null;try{if(l[p].contentWindow!==undefined&&l[p].contentWindow.document!=undefined)j=l[p].contentWindow.document.location}catch(s){}if(e||
j===null)g.push(f.AddShim(k,l[p],c,e));else if(l[p].className=="dif"&&(l[p].offsetWidth>0||l[p].offsetHeight>0)){o=false;h(l[p].contentWindow)}}o&&g.push(f.AddShim(k,k.document,c,e))};for(b=window;b.parent!=b;)b=b.parent;h(b);return g},AddShim:function(b,c,e,f){if(b===undefined)b=window;if(e===undefined)e=false;if(f==undefined)f=false;var g=this.m_ui,h=0;if(g.GetBrowserInfo().Type==D2L.UI.BrowserType.IE)h=-1;var k=null;try{k=new D2L.Control.Shim(c,e,g.GetZIndex());f&&k.SetBackgroundColour("transparent");
k.SetWindow(b);if(c===b.document){c=function(){var l=g.GetWindowWidth(b)+h,o=g.GetWindowHeight(b)+h;k.SetSize(l,o);var p=g.GetPageWidth(b)+h,r=g.GetPageHeight(b)+h;o=Math.max(o,r);l=Math.max(l,p);k.SetSize(l,o)};c();WindowEventManager.Resize.RegisterMethod(c)}else{k.SetPosition(D2L.Util.Dom.FindPosX(c),D2L.Util.Dom.FindPosY(c));k.SetSize(c.offsetWidth,c.offsetHeight)}k.SetIsVisible(true)}catch(j){}return k},Shim:function(b,c,e){var f={control:b,shims:[]};if(this.m_shims.length===0)f.shims=this.ShimWindow(window,
c,e);else c||f.shims.push(this.AddShim(window,this.m_shims[this.m_shims.length-1].control.GetDomNode(),c,e));this.m_shims.push(f);if(b)b.IDomNode.style.zIndex=this.m_ui.GetZIndex();return f}});D2L.UI.BodyType={Normal:0,Frame:1,Dialog:2,IFrame:3,PrimaryFrame:4};D2L.UI.BrowserType={Unknown:0,IE:1,Safari:4,Firefox:6,Chrome:10};
D2L.Control.UserProfileBadge=D2L.Control.extend({Construct:function(b){arguments.callee.$.Construct.call(this);this.m_cacheBuster="";this.m_isDisplayed=true;this.m_orgId=0;this.m_size=100;this.m_contextUserId=this.m_userId=0;this.m_userProfileBadgeInfo=null;if(b!==undefined)this.m_userProfileBadgeInfo=b},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);this.SetDomNode(this.CreateElement("img"));var b=this.m_userProfileBadgeInfo.GetProfileBadgeImage(),c=b.GetSrc(),
e=this.GetDomNode();c.Register(function(f){e.src=f;e.style.width=b.GetWidth()+"px";e.style.height=b.GetHeight()+"px"});this.m_userProfileBadgeInfo.GetProfileBadgeAlternativeText().AssignText(this.GetDomNode(),"alt")}},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_isDisplayed=this.GetDomNode().style.display!="none";this.m_orgId=b.GetMember();this.m_userId=b.GetMember();this.m_size=b.GetMember();this.m_cacheBuster=b.GetMember();this.m_contextUserId=b.GetMember()},
IsDisplayed:function(){return this.m_isDisplayed},SetFile:function(b){b=D2L.Serialization.JsonDeserializer.Deserialize(b,D2L.Files.FileInfo);this.GetDomNode().src="/d2l/common/viewprofileimage.d2l?oi="+this.m_orgId+"&ui="+this.m_userId+"&s="+this.m_size+"&lm="+b.GetLastModified()+"&v="+this.m_cacheBuster+"&cui="+this.m_contextUserId},SetIsDisplayed:function(b){if(this.IsRendered())this.GetDomNode().style.display=b?"inline":"none";this.m_isDisplayed=b},SetProfileImage:function(b){if(b!==null)this.GetDomNode().src=
D2L.Control.Thumbnail.GetViewThumbUrl(b,this.m_size);else{var c=this;(new D2L.Images.ImageTerm("Framework.UserProfileBadge.actProfile"+this.m_size)).GetSrc().Register(function(e){c.GetDomNode().src=e})}}});
D2L.Control.ProgressBar=D2L.Control.extend({Construct:function(b){arguments.callee.$.Construct.call(this);this.m_allowCancel=true;this.m_errorMessage=this.m_errorCode=this.m_domBarProgress=this.m_domBar=this.m_cancelCallback=null;this.m_pollInterval=3E3;this.m_progressId=this.m_progress=0;this.m_status=D2L.Control.ProgressBar.ProgressStatus.NotStarted;this.m_steps=[];this.m_total=0;this.OnStatusChange=new D2L.EventHandler;b!==undefined&&this.SetProgressId(b)},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);
var b=this,c=this.SetDomNode(this.GetUI().CreateElement("span"));c.className="dpb_c";this.m_domBar=this.GetUI().CreateElement("span");this.m_domBar.className="dpb_s";c.appendChild(this.m_domBar);this.m_domBarProgress=this.GetUI().CreateElement("img");this.m_domBarProgress.className="dpb_p";this.m_domBarProgress.alt="0%";this.m_domBarProgress.src="/d2l/img/lp/pixel.gif";this.m_domBarProgress.style.display="none";this.m_domBar.appendChild(this.m_domBarProgress);this.m_domBarTotal=this.GetUI().CreateElement("img");
this.m_domBarTotal.className="dpb_b";this.m_domBarTotal.alt="";this.m_domBarTotal.src="/d2l/img/lp/pixel.gif";this.m_domBar.appendChild(this.m_domBarTotal);this.m_domCancel=this.GetUI().CreateElement("a");this.m_domCancel.href="javascript://";this.AttachObject(this.m_domCancel,"onclick",function(){b.CancelConfirm()});this.m_domCancel.appendChild(this.GetUI().CreateTextNode(new D2L.LP.Text.LangTerm("Framework.ProgressBar.lblCancel")));this.m_domCancel.className="dpb_merr";this.m_domCancel.style.display=
"none";c.appendChild(this.m_domCancel);this.m_domMessage=this.GetUI().CreateElement("span");this.m_domMessage.className="dpb_merr";this.m_domMessage.style.display="none";c.appendChild(this.m_domMessage);this.m_domSteps=this.GetUI().CreateElement("ul");this.m_domSteps.className="dpb_sl";c.appendChild(this.m_domSteps);this.Render()}},Cancel:function(b){if(b===undefined)b=false;this.SetStatus(D2L.Control.ProgressBar.ProgressStatus.Cancel);this.Render();b&&this.m_progressId>0&&D2L.Rpc.Create("Cancel",
undefined,"/d2l/common/rpc/progress/progress.d2l").Call(this.m_progressId)},CancelConfirm:function(){if(this.m_cancelCallback===null)this.Cancel(true);else{var b=this;this.m_cancelCallback.call(this.m_cancelCallback,this.m_domCancel).Register(function(c){c&&b.Cancel(true)})}},Complete:function(){this.SetProgress(this.m_total)},Fail:function(b,c){if(b===undefined)b=null;if(c===undefined||c.length===0)c=null;this.m_errorCode=b;this.m_errorMessage=c;this.SetStatus(D2L.Control.ProgressBar.ProgressStatus.Fail);
this.Render()},GetStatus:function(){return this.m_status},GetErrorCode:function(){if(this.GetStatus()==D2L.Control.ProgressBar.ProgressStatus.Fail)return this.m_errorCode;return null},GetErrorMessage:function(){if(this.GetStatus()==D2L.Control.ProgressBar.ProgressStatus.Fail)return this.m_errorMessage;return null},OnStatusChangeEvent:function(){return this.OnStatusChange},Render:function(){var b="dpb_c";if(this.GetStatus()==D2L.Control.ProgressBar.ProgressStatus.Fail||this.GetStatus()==D2L.Control.ProgressBar.ProgressStatus.Cancel)b+=
" dpb_cd";else if(this.m_progress==this.m_total)b+=" dpb_cc";this.GetDomNode().className=b;this.Render_Cancel();this.Render_Progress();this.Render_Message();this.Render_Steps()},Render_Cancel:function(){if(this.m_domCancel&&this.m_allowCancel)this.m_domCancel.style.display=this.GetStatus()==D2L.Control.ProgressBar.ProgressStatus.InProgress?"inline":"none"},Render_Progress:function(){if(this.m_domBar){var b="/d2l/img/lp/pixel.gif",c=true;if(this.GetStatus()==D2L.Control.ProgressBar.ProgressStatus.InProgress||
this.GetStatus()==D2L.Control.ProgressBar.ProgressStatus.NotStarted||this.GetStatus()==D2L.Control.ProgressBar.ProgressStatus.Complete){var e=0;if(this.m_total>0){e=Math.round(this.m_progress/this.m_total*100);var f=Math.round(e/100*28)*7;this.GetUI().GetMessageArea().AddAriaMessage(new D2L.LP.Text.PlainText(e+"%"));this.m_domBarProgress.alt=e+"%";this.m_domBarProgress.title=e+"%";this.m_domBarProgress.style.width=f+"px"}else{c=false;b="/d2l/img/lp/progressBar/a.gif"}}this.m_domBarTotal.src=b;this.m_domBarTotal.style.display=
"inline";this.m_domBarProgress.style.display=c?"inline":"none";this.m_domBar.style.display="inline"}},Render_Message:function(){if(this.m_domMessage){var b=null;if(this.GetStatus()==D2L.Control.ProgressBar.ProgressStatus.NotStarted){b=new D2L.LP.Text.LangTerm("Framework.ProgressBar.lblPleaseWait");this.m_domMessage.style.color="#000000"}else if(this.GetStatus()==D2L.Control.ProgressBar.ProgressStatus.Cancel){b=new D2L.LP.Text.LangTerm("Framework.ProgressBar.lblCancelled");this.m_domMessage.style.color=
"#cc0000"}else if(this.GetStatus()==D2L.Control.ProgressBar.ProgressStatus.Fail){b=this.m_errorMessage!==null?new D2L.LP.Text.LangTerm("Framework.ProgressBar.lblErrorWithMessage",this.m_errorMessage):new D2L.LP.Text.LangTerm("Framework.ProgressBar.lblError");this.m_domMessage.style.color="#cc0000"}else if(this.GetStatus()==D2L.Control.ProgressBar.ProgressStatus.Complete){this.m_domMessage.style.color="#000000";b=new D2L.LP.Text.LangTerm("Framework.ProgressBar.lblComplete")}if(b!==null){this.GetUI().GetMessageArea().AddAriaMessage(b);
b.AssignText(this.m_domMessage,"innerHTML",true);this.m_domMessage.style.display="inline"}else this.m_domMessage.style.display="none"}},Render_Steps:function(){if(this.m_domSteps){for(var b=0;b<this.m_steps.length;b++){var c=this.m_steps[b],e=true;if(this.m_domSteps.childNodes.length<=b){this.m_domSteps.appendChild(this.CreateElement("li"));e=false}var f=this.m_domSteps.childNodes[b],g=f.className=="dbp_sip",h="";if(c.Status==D2L.Control.ProgressBar.ProgressStatus.InProgress){if(!g||!e)this.GetUI().GetMessageArea().AddAriaMessage(new D2L.LP.Text.PlainText(c.Title));
h="dbp_sip"}else if(c.Status==D2L.Control.ProgressBar.ProgressStatus.Complete)h="dbp_sc";f.className=h;f.innerHTML=c.Title}this.m_domSteps.style.display=this.m_steps.length>0?"block":"none"}},SetAllowCancel:function(b){this.m_allowCancel=b;this.Render_Cancel()},SetCancelCallback:function(b){this.m_cancelCallback=b},SetProgressId:function(b){this.m_progressId=b;this.Start()},SetProgress:function(b){if(b>=this.m_total)b=this.m_total;if(b<0)b=0;if(b!=this.m_progress){if(b==this.m_total)this.SetStatus(D2L.Control.ProgressBar.ProgressStatus.Complete);
else b>0&&this.SetStatus(D2L.Control.ProgressBar.ProgressStatus.InProgress);this.m_progress=b;this.Render()}},SetStatus:function(b){if(this.GetStatus()!=b){this.m_status=b;this.OnStatusChange.Trigger(this.m_status)}},Start:function(){var b=this,c=function(f){if(f.GetResponseType()==D2L.Rpc.ResponseType.Success){var g=f.GetResult();b.m_total=g.Total;b.SetProgress(g.Progress);b.m_steps=g.Steps;b.Render_Steps();if(g.Status==D2L.Control.ProgressBar.ProgressStatus.Cancel)b.Cancel(false);else if(g.Status==
D2L.Control.ProgressBar.ProgressStatus.Fail)b.Fail(g.ErrorCode,g.ErrorMessage);else if(g.Status==D2L.Control.ProgressBar.ProgressStatus.InProgress||g.Status==D2L.Control.ProgressBar.ProgressStatus.NotStarted)f.GetDuration()>=b.m_pollInterval?e():setTimeout(e,b.m_pollInterval-f.GetDuration())}else b.Cancel(false)},e=function(){b.GetStatus()<D2L.Control.ProgressBar.ProgressStatus.Complete&&D2L.Rpc.Create("GetProgressBar",c,"/d2l/common/rpc/progress/progress.d2l").Call(b.m_progressId)};e()}});
D2L.Control.ProgressBar.ProgressStatus={NotStarted:1,InProgress:2,Complete:3,Fail:4,Cancel:5};
D2L.Control.RadioButton=D2L.Control.extend({Construct:function(b,c,e){arguments.callee.$.Construct.call(this);if(b===undefined)b="";c=D2L.LP.Text.IText.Normalize(c,"D2L.Control.RadioButton","Constructor","text");if(e===undefined)e="";this.m_group=b;this.m_text=c;this.m_value=e;this.m_isEnabled=true;this.m_input=this.m_label=null;this.m_isSelected=false;this.m_showText=true;this.m_onClickEvent=new D2L.EventHandler},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);this.SetDomNode(this.GetUI().CreateElement("span"));
if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE&&UI.GetBrowserInfo().MajorVersion<8)this.m_input=this.GetUI().CreateElement('<input type="radio" name="'+this.m_group+'" />');else{this.m_input=this.GetUI().CreateElement("input");this.m_input.type="radio";this.m_input.name=this.m_group}this.m_input.className="d_rdo";this.m_input.id=this.GetMappedId();this.m_input.value=this.m_value;this.GetDomNode().appendChild(this.m_input);this.SetIsSelected(this.m_isSelected);this.SetIsEnabled(this.m_isEnabled);
this.SetText(this.m_text);this.InstallEvents()}},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_showText=b.GetBoolean();this.m_input=this.GetDomNode();this.m_isEnabled=!this.m_input.disabled;if(this.m_showText){this.m_label=this.m_input.nextSibling;this.m_text=new D2L.LP.Text.PlainText(this.m_label.innerHTML)}else{var c=b.GetMember();this.m_text=new D2L.LP.Text.PlainText(c)}this.m_group=this.m_input.name;this.m_value=this.m_input.value;this.InstallEvents()},
GetMultiEditValue:function(){return D2L.Control.RadioButton.GetSelectedValue(this.m_group)},GetState:function(b){b.AddMember("SelectedVal",D2L.Control.RadioButton.GetSelectedValue(this.m_group))},GetText:function(){return this.m_text},GetValue:function(){return this.m_value},InstallEvents:function(){var b=this,c=function(e){b.OnClickEvent().Trigger(b);D2L.Util.Dom.CancelBubble(e)};if(this.m_input.addEventListener)this.m_input.addEventListener("click",c,false);else this.m_input.attachEvent&&this.m_input.attachEvent("onclick",
c)},IsEnabled:function(){return this.m_isEnabled},IsSelected:function(){return this.IsRendered()?this.m_input.checked:this.m_isSelected},OnClickEvent:function(){return this.m_onClickEvent},SetIsEnabled:function(b){this.m_isEnabled=b;if(this.IsRendered()){if(this.m_label!==null)this.m_label.className=this.m_isEnabled?"":"d_rdo_d";this.m_input.disabled=!this.m_isEnabled}},SetIsSelected:function(b){this.m_isSelected=b;if(this.IsRendered()){if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE&&UI.GetBrowserInfo().MajorVersion<
8)this.m_input.defaultChecked=b;this.m_input.checked=b}},SetShowText:function(b){if(b!=this.m_showText&&this.IsRendered()){if(this.m_label!==null){D2L.Util.Dom.Purge(this.m_label);this.m_label.parentNode.removeChild(this.m_label);this.m_label=null}this.m_input.title=""}this.m_showText=b;this.SetText(this.m_text)},SetText:function(b){this.m_text=b;if(this.IsRendered())if(this.ShowText()){if(this.m_label===null){this.m_label=this.CreateElement("label");this.m_label.htmlFor=this.GetMappedId();this.m_label.className=
this.m_isEnabled?"":"d_rdo_d";this.m_input.nextSibling?this.m_input.parentNode.insertBefore(this.m_label,this.m_input.nextSibling):this.m_input.parentNode.appendChild(this.m_label)}for(;this.m_label.childNodes.length>0;)this.m_label.removeChild(this.m_label.childNodes[0]);this.m_label.appendChild(this.CreateTextNode(this.m_text))}else this.m_text.AssignText(this.m_input,"title")},SetValue:function(b){this.m_value=b;if(this.IsRendered())this.m_input.value=b},ShowText:function(){return this.m_showText}});
D2L.Control.RadioButton.GetSelectedValue=function(b){var c=UI.GetForm();if(c)if(b=c[b])if(b.length===undefined){if(b.checked)return b.value}else for(c=0;c<b.length;c++)if(b[c].checked)return b[c].value;return""};D2L.Control.RadioButton.SetSelectedValue=function(b,c){var e=UI.GetForm();if(e)if(b=e[b])if(b.length===undefined){if(b.value==c)b.checked=true}else for(e=0;e<b.length;e++)if(b[e].value==c)b[e].checked=true};D2L.Reorder={};
D2L.Reorder.ReorderManager=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_groups=[]},DeserializeMin:function(b){this.m_groups=b.GetObjectArrayMin(D2L.Reorder.ReorderManager.ItemGroupData)},Init:function(){for(var b=0;b<this.m_groups.length;b++){var c=UI.GetControl(this.m_groups[b].m_controlId.ID(),this.m_groups[b].m_controlId.SID());if(c){c.m_name=this.m_groups[b].m_name;for(var e=0;e<this.m_groups[b].m_items.length;e++)this.m_groups[b].m_items[e].IntegrateChild(c,
UI.GetById(this.m_groups[b].m_items[e].m_myMappedId));c.Init()}}},GetGroup:function(b){b=b.toLowerCase();for(var c=0;c<this.m_groups.length;c++)if(this.m_groups[c].m_name==b)return UI.GetControl(this.m_groups[c].m_controlId.ID(),this.m_groups[c].m_controlId.SID());return null}});
D2L.Reorder.ReorderManager.ItemGroupData=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_controlId=null;this.m_name="";this.m_items=[]},DeserializeMin:function(b){this.m_controlId=b.GetObjectMin(D2L.Control.Id);this.m_name=b.GetMember();this.m_items=b.GetObjectArrayMin(D2L.Control.ReorderItem)}});
D2L.Control.ReorderItemGroup=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_name="";this.m_hasChangedHidden=null},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b)},Init:function(){for(var b,c=0;c<this.Children().length;c++){if(c===0){this.m_hasChangedHidden=this.CreateElement("input");this.m_hasChangedHidden.type="hidden";this.m_hasChangedHidden.name=this.m_name+"_hasChanged";this.Children()[c].GetDomNode().parentNode.insertBefore(this.m_hasChangedHidden,
this.Children()[c].GetDomNode())}var e=this.Children()[c];if(e.IsEnabled()){e.GetDomNode().remove&&e.GetDomNode().remove(0);b=-1;for(var f=0;f<this.Children().length;f++)if(c==f||this.Children()[f].IsEnabled()){b++;var g=document.createElement("option");g.appendChild(document.createTextNode(D2L.Util.Integer.Format(f+1)));if(c==f){g.selected=true;e.m_prevSortOrder=f+1}g.value=f+1+"_"+e.GetKey();e.GetDomNode().appendChild(g)}}else{e.GetDomNode().innerHTML=D2L.Util.Integer.Format(c+1);e.m_hidden.value=
c+1+"_"+e.GetKey()}if(this.m_hasChangedHidden.value.length>0)this.m_hasChangedHidden.value+=",";this.m_hasChangedHidden.value+=e.GetKey()}},GetItem:function(b){for(var c=0;c<this.Children().length;c++)if(this.Children()[c].GetKey()==b)return this.Children()[c];return null},Update:function(b,c,e){var f;c=b.m_prevSortOrder-1;for(var g=e>c?1:-1,h=0;c+1!=e;){h=0;for(f=c+g;f<this.Children().length&&f>-1&&!this.Children()[f].IsEnabled();){h+=g;f+=g}f=this.Children()[c+g+h];this.Children()[c+g+h]=b;this.Children()[c]=
f;c=c+g+h}for(c=0;c<this.Children().length;c++)if(this.Children()[c].m_prevSortOrder!=c+1){this.Children()[c].m_prevSortOrder=0;this.Children()[c].SetSortOrder(c+1)}}});
D2L.Control.ReorderItem=D2L.Control.extend({Construct:function(b){arguments.callee.$.Construct.call(this);this.m_hidden=null;this.m_isEnabled=true;this.m_key=b;this.m_prevSortOrder=0;this.m_myMappedId=""},DeserializeMin:function(b){this.m_key=b.GetMember();this.m_myMappedId=b.GetMember()},IntegrateChild:function(b,c){arguments.callee.$.IntegrateChild.call(this,b,c);this.m_isEnabled=this.GetDomNode().tagName.toLowerCase()=="select"?!this.GetDomNode().disabled:false;if(!this.IsEnabled())this.m_hidden=
this.GetDomNode().previousSibling;var e=this;this.AttachObject(this.GetDomNode(),"onchange",function(){e.SetSortOrder(parseInt(this.options[this.selectedIndex].value.split("_")[0]))})},GetKey:function(){return this.m_key},GetSortOrder:function(){return this.IsEnabled()?parseInt(this.GetDomNode().options[this.GetDomNode().selectedIndex].value.split("_")[0]):parseInt(this.m_hidden.value.split("_")[0])},IsEnabled:function(){return this.m_isEnabled},SetSortOrder:function(b){if(this.IsEnabled())for(var c=
0;c<this.GetDomNode().options.length;c++)if(parseInt(this.GetDomNode().options[c].value.split("_")[0])==b){this.GetDomNode().selectedIndex=c;this.GetDomNode().options[c].value=b+"_"+this.GetKey();if(this.m_hidden)this.m_hidden.value=b+"_"+this.GetKey();WindowEventManager.BubbleChangeEvent(this.GetDomNode());this.m_prevSortOrder!==0&&this.Parent().Update(this,this.m_prevSortOrder,b);this.m_prevSortOrder=b;break}}});
D2L.Control.RichText=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_text=new D2L.LP.Text.PlainText;this.m_isInline=this.m_isHtml=false;this.m_textDomNode=null},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);this.SetDomNode(this.CreateElement("div"));this.GetDomNode().className="drt";this.m_textDomNode=this.GetDomNode();this.SetIsInline(this.m_isInline);this.SetText(this.m_text)}},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,
b);this.m_isInline=b.GetBoolean();this.m_isHtml=b.GetBoolean();var c=this.GetDomNode();this.m_textDomNode=c.firstChild&&c.firstChild.tagName&&c.firstChild.tagName.toLowerCase()=="label"?c.firstChild:c;this.m_text=this.m_isHtml?new D2L.LP.Text.HtmlText(this.m_textDomNode.innerHTML,false):new D2L.LP.Text.PlainText(D2L.Util.Html.Decode(this.m_textDomNode.innerHTML))},IsInline:function(){return this.m_isInline},GetText:function(){return this.m_text},SetIsInline:function(b){this.m_isInline=b;if(this.IsRendered())this.GetDomNode().style.display=
this.m_isInline?"inline":"block"},SetText:function(b){this.m_text=D2L.LP.Text.IText.Normalize(b,"D2L.Control.RichText","SetText","text");if(this.IsRendered()){this.m_textDomNode.innerHTML="";var c=this.m_textDomNode;this.m_text.GetHtml().Register(function(e){D2L_MathML.AssignHtml(c,e)})}}});
D2L.Control.SelectList=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_float=D2L.Style.Float.None;this.m_isDisplayed=true;this.options=[];this.m_onChange=null;this.m_spacing=new D2L.Style.Spacing(D2L.Style.Spacing.Type.Spacing);this.m_title=null;this.m_hasEnablerTargetItem=false;UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE&&UI.GetBrowserInfo().MajorVersion<7&&WindowEventManager.SelectIeHack.Register(this,"HandleSelectIeHack");var b=this;this.m_spacing.GetTop().SetUnitType(D2L.Style.Measurement.UnitType.Pixel);
this.m_spacing.GetTop().SetValue(2);this.m_spacing.GetBottom().SetUnitType(D2L.Style.Measurement.UnitType.Pixel);this.m_spacing.GetBottom().SetValue(2);this.m_spacing.OnChange().RegisterMethod(function(){b.RenderSpacing()})},AddOption:function(b,c){return(b=this.GetOption(b))?b.AppendChild(c):this.AppendChild(c)},AppendChild:function(b){return this.InsertBefore(b,null)},Blur:function(){this.GetDomNode()&&this.GetDomNode().blur()},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);
var b=this.SetDomNode(this.GetUI().CreateElement("select"));b.name=this.GetMappedId();this.RenderTitle();this.RenderFloat();this.RenderSpacing();this.AttachObject(b,"ID2L",this);for(var c=0;c<this.options.length;c++){this.options[c].BuildDom();UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE?b.add(this.options[c].GetDomNode()):b.add(this.options[c].GetDomNode(),null)}var e=this;D2L.Control.SelectList.InstallEvents(b,function(){return e})}},ClearOptions:function(){for(;this.options.length>0;)this.RemoveChild(this.options[this.options.length-
1])},Disable:function(){this.GetDomNode().disabled=true},Enable:function(){this.GetDomNode().disabled=false},Focus:function(){this.IsRendered()&&this.GetDomNode().focus()},GetFloat:function(){return this.m_float},GetIndex:function(b){for(var c=0;c<this.GetDomNode().options.length;c++)if(this.GetDomNode().options[c].ID2L==b)return c;return-1},GetMultiEditValue:function(){return this.GetSelectedValue()},GetOption:function(b){for(var c=0;c<this.options.length;c++)if(this.options[c].key==b)return this.options[c];
return null},GetOptions:function(){return this.options},GetSelectedIndex:function(){return this.GetDomNode().selectedIndex},GetSelectedOption:function(){return this.GetDomNode().selectedIndex>=0?this.GetDomNode().options[this.GetDomNode().selectedIndex].ID2L:null},GetSelectedKey:function(){return this.GetSelectedOption()!=null?this.GetSelectedOption().key:null},GetSelectedValue:function(){var b=this.GetSelectedOption();return b!==null&&b!==undefined?b.val:null},GetSpacing:function(){return this.m_spacing},
GetState:function(b){var c=this.GetSelectedOption();if(c){b.AddMember("SelectedKey",c.GetKey());b.AddMember("SelectedVal",c.GetVal())}},GetTitle:function(){return this.m_title},HandleSelectIeHack:function(b){if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE&&UI.GetBrowserInfo().MajorVersion<7&&b.source){var c=D2L.Util.Dom.FindPosX(b.source),e=D2L.Util.Dom.FindPosY(b.source),f=c+b.source.offsetWidth,g=e+b.source.offsetHeight,h=D2L.Util.Dom.FindPosX(this.GetDomNode()),k=D2L.Util.Dom.FindPosY(this.GetDomNode()),
j=h+this.GetDomNode().offsetWidth,l=k+this.GetDomNode().offsetHeight+2;if(h<c)h=c;if(j>f)j=f;if(k<e)k=e;if(l>g)l=g;if(j-h>0&&l-k>0)this.GetDomNode().style.visibility=b.doHide?"hidden":"visible"}},Hide:function(){this.SetIsDisplayed(false)},InsertBefore:function(b,c){if(!b||b===undefined||b===null)return null;if(!c||c===undefined||c===null)c=null;this.BuildDom();var e=-1,f=null;if(c){for(var g=0;g<this.m_children.length;g++)if(this.m_children[g]==c){e=g;break}if(e!=-1){if(c.m_previousSibling){c.m_previousSibling.m_nextSibling=
b;b.m_previousSibling=c.m_previousSibling}c.m_previousSibling=b;b.m_nextSibling=c}}if(e!=-1){f=c;this.m_children.splice(e,0,b)}else{if(this.m_children.length>0){c=this.m_children[this.m_children.length-1];c.m_nextSibling=b;b.m_previousSibling=c}this.m_children.push(b)}b.m_parent=this;b.m_sl=this;this.InsertHelper(b,f);return b},InsertHelper:function(b,c){if(c===undefined||c===null){b.BuildDom();UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE?this.GetDomNode().add(b.GetDomNode()):this.GetDomNode().add(b.GetDomNode(),
null);this.options.push(b)}else{var e=this.GetIndex(c);b.BuildDom();UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE?this.GetDomNode().add(b.GetDomNode(),e):this.GetDomNode().add(b.GetDomNode(),c.GetDomNode());this.options.splice(e,0,b)}},InsertSorted:function(b){return arguments.callee.$.InsertSorted.call(this,b,function(c,e){return c.text.toLowerCase()>e.text.toLowerCase()})},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_isDisplayed=this.GetDomNode().style.display!==
"none";this.SetOnChange(new Function(b.GetMember()));this.m_hasEnablerTargetItem=b.GetBoolean();this.m_float=b.GetMember();var c=b.GetMember(),e=b.GetMember(),f=b.GetMember(),g=[];if(c>-1&&e>-1)for(c=c;c<e+1;c+=f)g.push(new D2L.Control.SelectOption(c.toString(),c.toString()));else g=b.GetObjectArrayMin(D2L.Control.SelectOption);for(c=0;c<g.length;c++){this.options.push(g[c]);g[c].IntegrateChild(this,this.GetDomNode().childNodes[this.options.length-1])}},IsDisplayed:function(){return this.m_isDisplayed},
IsEnabled:function(){return!this.GetDomNode().disabled},OnChange:function(b){b=b!==undefined?b:window.event!==undefined?window.event:null;WindowEventManager.BubbleChangeEvent(this.GetDomNode(),b);this.m_hasEnablerTargetItem&&this.Enablers&&this.Enablers.ResetEnablers();this.m_onChange!==undefined&&this.m_onChange!==null&&this.m_onChange.call(this)},RemoveChild:function(b){if(b){if(b.m_parent==this){for(;b.m_children.length>0;)b.RemoveChild(b.m_children[0]);arguments.callee.$.RemoveChild.call(this,
b);for(var c=0;c<this.options.length;c++)if(this.options[c]==b){this.options.splice(c,1);break}}else b.m_parent.RemoveChild(b);return b}return null},RenderFloat:function(){this.IsRendered()&&D2L.Util.Style.ApplyFloat(this.GetDomNode(),this.GetFloat())},RenderSpacing:function(){if(this.IsRendered())this.GetDomNode().style.margin=this.GetSpacing().ToCss()},RenderTitle:function(){if(this.IsRendered())this.m_title!==null?this.m_title.AssignText(this.GetDomNode(),"title"):this.GetDomNode().removeAttribute("title")},
SelectOption:function(b,c){if(b)if(b.canSelect){b=this.GetIndex(b);if(b!=-1){this.GetDomNode().options.selectedIndex=b;c&&this.OnChange()}}},SelectOptionByKey:function(b,c){b=this.GetOption(b);b!==null&&this.SelectOption(b,c)},SetFloat:function(b){this.m_float=b;this.RenderFloat()},SetIsEnabled:function(b){b?this.Enable():this.Disable()},SetTitle:function(b){this.m_title=b===undefined?null:b;this.RenderTitle()},SetIsDisplayed:function(b){if(this.IsDisplayed()!=b){if(b)this.GetDomNode().style.display=
"inline";else this.GetDomNode().style.display="none";this.m_isDisplayed=b;(new D2L.TransformEvent(this.GetDomNode())).Bubble()}},SetIsEnabled:function(b){b?this.Enable():this.Disable()},SetOnChange:function(b){this.m_onChange=b},Show:function(){this.SetIsDisplayed(true)},ToggleEnabled:function(){this.IsEnabled()?this.Disable():this.Enable()}});D2L.Control.SelectList.InstallEvents=function(b,c){UI.AttachObject(b,"onchange",function(e){var f=c();f.OnChange.call(f,e)})};
D2L.SelectList=D2L.Control.SelectList.extend({Construct:function(b,c){arguments.callee.$.Construct.call(this);this.m_onChange=c}});
D2L.Control.SelectOption=D2L.Control.extend({Construct:function(b,c,e){arguments.callee.$.Construct.call(this);if(b===undefined)b="";if(c===undefined)c="";if(e===undefined||e===null)e="";else if(e.isString===undefined)e=e.toString();this.canSelect=true;this.depth=0;this.key=b;this.m_depthStr="";this.m_sl=null;this.text=e.stripHtml();this.val=c;this.m_options=[]},AppendChild:function(b){return this.InsertBefore(b,null)},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);
if(this.canSelect){this.SetDomNode(document.createElement("OPTION"));this.AttachObject(this.IDomNode,"ID2L",this);this.GetDomNode().value=this.val;for(var b="",c=0;c<this.depth;c++)b+="&nbsp;&nbsp;&nbsp;";if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE){b=b.replace(/&nbsp;/g," ");this.GetDomNode().text=b+this.text}else this.GetDomNode().innerHTML=b+this.text}else{this.SetDomNode(document.createElement("OPTGROUP"));this.AttachObject(this.IDomNode,"ID2L",this);this.GetDomNode().label=this.text}this.m_depthStr=
b}},DeserializeMin:function(b){this.key=b.GetMember();this.val=b.GetMember();this.canSelect=b.GetBoolean();this.m_options=b.GetObjectArrayMin(D2L.Control.SelectOption)},GetDepth:function(){return this.depth},GetKey:function(){return this.key},GetText:function(){return this.text},GetVal:function(){return this.val},InsertBefore:function(b,c){if(!b||b===undefined||b===null)return null;if(!c||c===undefined||c===null)c=null;this.BuildDom();var e=-1,f=null;if(c!==null){for(f=0;f<this.m_children.length;f++)if(this.m_children[f]==
c){e=f;break}if(e!=-1){if(c.m_previousSibling){c.m_previousSibling.m_nextSibling=b;b.m_previousSibling=c.m_previousSibling}c.m_previousSibling=b;b.m_nextSibling=c}}if(e!=-1){f=c;this.m_children.splice(e,0,b)}else{if(this.m_children.length>0){c=this.m_children[this.m_children.length-1];c.m_nextSibling=b;b.m_previousSibling=c}f=this.m_nextSibling;for(c=this;f===null&&c.m_parent!==this.m_sl;){c=c.m_parent;f=c.m_nextSibling}this.m_children.push(b)}b.depth=this.depth+1;b.m_parent=this;b.m_sl=this.m_sl;
this.m_sl.InsertHelper(b,f);return b},InsertSorted:function(b){return arguments.callee.$.InsertSorted.call(this,b,function(c,e){return c.text.toLowerCase()>e.text.toLowerCase()})},IntegrateChild:function(b,c){arguments.callee.$.IntegrateChild.call(this,b,c);this.m_sl=this.GetDomNode().parentNode.ID2L;this.text=this.GetDomNode().innerHTML.toString().stripHtml().replace(/^(&nbsp;)*/,"");if(b!==this.m_sl)this.depth=b.depth+1;for(var e=0;e<this.m_options.length;e++){this.m_sl.options.push(this.m_options[e]);
this.m_options[e].IntegrateChild(this,this.m_sl.GetDomNode().childNodes[this.m_sl.options.length-1])}},RemoveChild:function(b){if(b&&b.m_parent==this){for(;b.m_children.length>0;)b.RemoveChild(b.m_children[0]);arguments.callee.$.RemoveChild.call(this,b);for(var c=0;c<this.m_sl.options.length;c++)if(this.m_sl.options[c]==b){this.m_sl.options.splice(c,1);break}return b}return null},SetText:function(b){this.text=b.stripHtml();if(this.GetDomNode())if(this.canSelect)this.GetDomNode().text=this.m_depthStr+
this.text;else this.GetDomNode().label=this.text},SetVal:function(b){this.val=b;if(this.GetDomNode())this.GetDomNode().value=b}});D2L.SelectOption=D2L.Control.SelectOption;
D2L.Control.Shim=D2L.Control.extend({Construct:function(b,c,e){if(c===undefined)c=false;arguments.callee.$.Construct.call(this);this.m_backgroundColour="#333300";this.m_domScope=b;this.m_externalObjects=[];this.m_height=0;this.m_isTimeBased=c;this.m_opacity=0.5;this.m_width=this.m_posY=this.m_posX=0;this.m_zIndex=e;if(c){this.m_backgroundColour="#ffffff";this.m_opacity=0}},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);var b=this.SetDomNode(this.GetWindow().document.createElement("div"));
b.className="ddial_shim";b.style.zIndex=this.m_zIndex;this.RenderHeight();this.RenderOpacity();this.RenderPosition();this.RenderWidth()}},GetBackgroundColour:function(){return this.m_backgroundColour},GetHeight:function(){return this.m_height},GetOpacity:function(){return this.m_opacity},GetPosition:function(){return{x:this.m_posX,y:this.m_posY}},GetWidth:function(){return this.m_width},RenderBackgroundColour:function(){if(this.IsRendered())this.GetDomNode().style.backgroundColor=this.GetBackgroundColour()},
RenderHeight:function(){if(this.IsRendered())this.GetDomNode().style.height=this.GetHeight()+"px"},RenderOpacity:function(){if(this.IsRendered())if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE)this.GetDomNode().style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+this.GetOpacity()*100+")";else this.GetDomNode().style.opacity=this.GetOpacity()},RenderPosition:function(){if(this.IsRendered()){this.GetDomNode().style.left=this.m_posX+"px";this.GetDomNode().style.top=this.m_posY+"px"}},
RenderWidth:function(){if(this.IsRendered())this.GetDomNode().style.width=this.GetWidth()+"px"},SetBackgroundColour:function(b){this.m_backgroundColour=b;this.RenderBackgroundColour()},SetHeight:function(b){this.m_height=b;this.RenderHeight()},SetIsVisible:function(b){if(b){this.SetObjectVisibility(this.m_domScope);this.BuildDom();var c=this;(b=c.GetWindow().document.getElementsByTagName("body"))&&b.length==1&&b[0].appendChild(c.GetDomNode());UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE&&UI.GetBrowserInfo().MajorVersion>=
8?setTimeout(function(){c.RenderBackgroundColour()},0):c.RenderBackgroundColour();this.m_isTimeBased&&setTimeout(function(){c.GetDomNode().style.backgroundImage="url(/d2l/img/lp/Dialog/loading.gif)";c.SetBackgroundColour("#d6e1f3");c.SetOpacity(0.3)},500)}else if(this.IsRendered()){for(b=0;b<this.m_externalObjects.length;b++)try{this.m_externalObjects[b].style.visibility="visible"}catch(e){}this.GetDomNode().parentNode.removeChild(this.GetDomNode())}},SetObjectVisibility:function(b){var c=["applet",
"object","embed"];UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE&&UI.GetBrowserInfo().MajorVersion<7&&c.push("select");for(var e=0;e<c.length;e++)for(var f=b.getElementsByTagName(c[e]),g=0;g<f.length;g++){f[g].style.visibility="hidden";this.m_externalObjects.push(f[g])}b=b.getElementsByTagName("iframe");for(c=0;c<b.length;c++)try{b[c].contentWindow&&this.SetObjectVisibility(b[c].contentWindow.document)}catch(h){}},SetOpacity:function(b){this.m_opacity=b;this.RenderOpacity()},SetPosition:function(b,
c){this.m_posX=b;this.m_posY=c;this.RenderPosition()},SetSize:function(b,c){this.SetWidth(b);this.SetHeight(c)},SetWidth:function(b){this.m_width=b;this.RenderWidth()}});D2L.Control.Tabs={};D2L.Control.Tabs.AriaIsEnabled=true;
D2L.Control.Tabs.AriaController=D2L.Class.extend({Construct:function(b){arguments.callee.$.Construct.call(this);this.m_tabGroup=b},Init:function(){var b=this;this.m_tabGroup.SelectTabEvent().RegisterMethod(function(g){D2L.Util.Aria.SetAttribute(g.m_objC.firstChild,"selected","true");b.m_tabGroup.m_isFromTab&&g.m_objC.firstChild.focus()});this.m_tabGroup.UnSelectTabEvent().RegisterMethod(function(g){D2L.Util.Aria.SetAttribute(g.m_objC.firstChild,"selected","false")});var c=this.m_tabGroup.GetDomNode().firstChild.firstChild.rows[0];
D2L.Util.Aria.SetRole(c,"tablist");for(var e=0;e<c.cells.length;e++){var f=c.cells[e];D2L.Util.Aria.SetRole(f,"presentation");if(f.className=="d_tabs_c"||f.className=="d_tabs_c_s")D2L.Util.Aria.SetRole(f.firstChild,"tab")}c=this.m_tabGroup.GetDomNode().childNodes[1];D2L.Util.Aria.SetRole(c,"tabpanel");D2L.Util.Aria.SetAttribute(c,"expanded","true")}});
D2L.Control.Tab=D2L.Control.extend({Construct:function(b,c,e){arguments.callee.$.Construct.call(this);if(c===undefined)c="";if(e===undefined)e="";this.m_name=c;this.m_text=b;this.m_isSelected=false;this.m_onClick=new Function(e);this.m_objLink=this.m_objR=this.m_objC=this.m_objL=null;this.m_paddingLeft=this.m_paddingBottom=this.m_paddingRight=this.m_paddingTop="1em"},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);if(this.m_name===undefined)this.m_name=this.GetUI().GetUniqueHtmlId();
this.SetDomNode(this.GetUI().CreateElement("div"));this.GetDomNode().className="d_tabs_tab";this.IChildrenDomNode=this.GetUI().CreateElement("div");this.IChildrenDomNode.className="d_tabs_tabcontent";this.SetPadding(this.m_paddingTop,this.m_paddingRight,this.m_paddingBottom,this.m_paddingLeft);this.GetDomNode().appendChild(this.IChildrenDomNode)}},Click:function(){this.Parent().m_tabToSelect=this;return this.m_onClick.call(this)},DeserializeMin:function(b){this.m_name=b.GetMember();this.m_text=b.GetMember();
this.m_isSelected=b.GetBoolean();this.m_onClick=new Function(b.GetMember())},GetName:function(){return this.m_name},IntegrateChild:function(b,c){arguments.callee.$.IntegrateChild.call(this,b,c);this.m_objL=UI.GetById(b.GetMappedId()+"_"+this.m_name+"_l");this.m_objC=this.m_objL.nextSibling;this.m_objLink=this.m_objC.firstChild;this.m_objR=this.m_objC.nextSibling;this.InstallEvents()},InstallEvents:function(){var b=this;this.AttachObject(this.m_objC,"onclick",function(){b.Parent().ClickTab(b.GetName())});
var c=function(){if(this.parentNode.className!="d_tabs_c_s")this.parentNode.className="d_tabs_c_o"},e=function(){if(this.parentNode.className!="d_tabs_c_s")this.parentNode.className="d_tabs_c"};this.AttachObject(this.m_objLink,"onmouseover",c);this.AttachObject(this.m_objLink,"onfocus",c);this.AttachObject(this.m_objLink,"onmouseout",e);this.AttachObject(this.m_objLink,"onblur",e);this.AttachObject(this.m_objLink,"onclick",function(){return false})},IsSelected:function(){return this.m_isSelected},
SetPadding:function(b,c,e,f){this.m_paddingTop=b;this.m_paddingRight=c;this.m_paddingBottom=e;this.m_paddingLeft=f;if(this.IsRendered()){this.IChildrenDomNode.style.paddingTop=this.m_paddingTop;this.IChildrenDomNode.style.paddingRight=this.m_paddingRight;this.IChildrenDomNode.style.paddingBottom=this.m_paddingBottom;this.IChildrenDomNode.style.paddingLeft=this.m_paddingLeft}}});
D2L.Control.TabGroup=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_ariaController=new D2L.Control.Tabs.AriaController(this);this.m_isFromTab=false;this.m_container=null;this.m_hasBorder=true;this.m_selectedTab=null;this.m_selectTabEvent=new D2L.EventHandler;this.m_tabToSelect=null;this.m_unSelectTabEvent=new D2L.EventHandler;this.OnClick=new D2L.EventHandler;var b=this;Nav.OnNavigate.RegisterMethod(function(c){if(b.m_tabToSelect)if(c.action!="RPC"){b.m_oldSelectedTab=
b.m_selectedTab;b.m_selectedTab=b.m_tabToSelect;b.m_tabToSelect!=b.m_oldSelectedTab&&c.SetParam("d2l_isfromtab","1");b.m_tabToSelect=null}});Nav.OnNavigationFailure.RegisterMethod(function(){b.m_tabToSelect=null;if(b.m_oldSelectedTab)b.m_selectedTab=b.m_oldSelectedTab});this.OnChildAdd.RegisterMethod(function(c,e){b.IsRendered()&&b.BuildDom_Tab(e)})},IntegrateControlMin:function(b){this.m_container=this.GetDomNode().childNodes[1];var c=b.GetObjectArrayMin(D2L.Control.Tab);this.m_isFromTab=b.GetBoolean();
b="";for(var e=0;e<c.length;e++){c[e].IntegrateChild(this,UI.GetById(this.GetMappedId()+"_"+c[e].m_name));if(c[e].IsSelected())b=c[e].m_name}D2L.Control.Tabs.AriaIsEnabled&&this.m_ariaController.Init();b.length>0&&this.SelectTab(b)},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);var b=this.SetDomNode(this.GetUI().CreateElement("div"));b.className="d_tabs";var c=this.GetUI().CreateElement("div");c.className="d_tabs_header";if(!this.m_hasBorder)c.style.background=
"none";b.appendChild(c);var e=this.GetUI().CreateElement("table");e.cellSpacing="0";e.cellPadding="0";c.appendChild(e);c=e.insertRow(-1);this.m_container=this.GetUI().CreateElement("div");this.m_container.className="d_tabs_container";if(!this.m_hasBorder){this.m_container.style.border="none";this.m_container.style.background="none"}b.appendChild(this.m_container);for(b=0;b<this.Children().length;b++){if(b==0){e=c.insertCell(-1);var f=this.GetUI().CreateElement("img");f.width="2";f.height="1";f.src=
"/d2l/tools/img/pixel.gif";e.appendChild(f)}this.BuildDom_Tab(this.Children()[b])}}},BuildDom_Tab:function(b){if(this.IsRendered()){var c=this.GetDomNode().firstChild.firstChild.rows[0];b.BuildDom();b.m_objL=c.insertCell(-1);b.m_objL.className="d_tabs_l";var e=this.GetUI().CreateElement("img");e.src="/d2l/tools/img/pixel.gif";e.width="2";e.seigth="1";b.m_objL.appendChild(e);b.m_objC=c.insertCell(-1);b.m_objC.className="d_tabs_c";b.m_objLink=this.GetUI().CreateElement("a");b.m_objLink.href="javascript://";
b.m_objLink.appendChild(this.CreateTextNode(b.m_text));b.m_objC.appendChild(b.m_objLink);b.m_objR=c.insertCell(-1);b.m_objR.className="d_tabs_r";e=this.GetUI().CreateElement("img");e.src="/d2l/tools/img/pixel.gif";e.width="2";e.seigth="1";b.m_objR.appendChild(e);b.GetDomNode()&&this.m_container.appendChild(b.GetDomNode());e=c.insertCell(-1);var f=this.GetUI().CreateElement("img");f.width="2";f.height="1";f.src="/d2l/tools/img/pixel.gif";e.appendChild(f);c.appendChild(e);b.InstallEvents()}},ClickTab:function(b){if((b=
this.GetTab(b))&&b!=this.m_selectedTab){b.Click();this.OnClick.Trigger(b)}},GetSelectedTab:function(){return this.m_selectedTab},GetState:function(b){var c=this.GetSelectedTab();c?b.AddMember("SelectedTab",c.m_name):b.AddMember("SelectedTab","")},GetTab:function(b){for(var c=0;c<this.Children().length;c++)if(this.Children()[c].m_name==b)return this.Children()[c];return null},SelectTab:function(b){if(this.m_selectedTab){var c=this.m_selectedTab;if(c.m_objL&&c.m_objC&&c.m_objR){c.m_objL.className="d_tabs_l";
c.m_objC.className="d_tabs_c";c.m_objR.className="d_tabs_r"}if(c.GetDomNode())c.GetDomNode().style.display="none";c.m_isSelected=false;this.m_selectedTab=null;this.UnSelectTabEvent().Trigger(c)}if(b=this.GetTab(b)){if(b.m_objL&&b.m_objC&&b.m_objR){b.m_objL.className="d_tabs_l_s";b.m_objC.className="d_tabs_c_s";b.m_objR.className="d_tabs_r_s"}if(b.GetDomNode())b.GetDomNode().style.display="block";b.m_isSelected=true;this.m_tabToSelect=this.m_selectedTab=b;this.SelectTabEvent().Trigger(b)}},SelectTabEvent:function(){return this.m_selectTabEvent},
SetHasBorder:function(b){this.m_hasBorder=b},UnSelectTabEvent:function(){return this.m_unSelectTabEvent}});
D2L.Control.TextBlock=D2L.Control.extend({Construct:function(b){arguments.callee.$.Construct.call(this);if(b===undefined)b=new D2L.LP.Text.PlainText;this.m_float=D2L.Style.Float.None;this.m_isInline=this.m_isDisplayed=true;this.m_text=b},BuildDom:function(){if(!this.IsRendered()){arguments.callee.$.BuildDom.call(this);this.SetDomNode(this.GetUI().CreateElement("span"));this.RenderFloat();this.RenderIsDisplayed();this.RenderIsInline();this.RenderText()}},GetFloat:function(){return this.m_float},GetText:function(){return this.m_text},
IntegrateControl:function(b){arguments.callee.$.IntegrateControl.call(this,b);this.m_float=b.GetMember("Float",D2L.Style.Float.None);this.m_isDisplayed=b.GetMember("IsDisplayed",true);this.m_isInline=b.GetMember("IsInline",true);this.m_text=new D2L.LP.Text.PlainText(this.GetDomNode().innerHTML)},IsDisplayed:function(){return this.m_isDisplayed},IsInline:function(){return this.m_isInline},RenderFloat:function(){this.IsRendered()&&D2L.Util.Style.ApplyFloat(this.GetDomNode(),this.GetFloat())},RenderIsDisplayed:function(){if(this.IsRendered())if(this.IsDisplayed())if(this.IsInline())this.GetDomNode().style.display=
"inline";else this.GetDomNode().style.display="block";else this.GetDomNode().style.display="none"},RenderIsInline:function(){if(this.IsRendered()&&this.IsDisplayed())if(this.IsInline())this.GetDomNode().style.display="inline";else this.GetDomNode().style.display="block"},RenderText:function(){this.IsRendered()&&this.GetText().AssignHtml(this.GetDomNode(),"innerHTML")},SetFloat:function(b){this.m_float=b;this.RenderFloat()},SetIsDisplayed:function(b){this.m_isDisplayed=b;this.RenderIsDisplayed()},
SetIsInline:function(b){this.m_isInline=b;this.RenderIsInline()},SetText:function(b){this.m_text=D2L.LP.Text.IText.Normalize(b,"D2L.Control.TextBlock","SetText","text");this.RenderText()}});
D2L.Control.Thumbnail=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_size=100;this.m_isDisplayed=true;this.m_fileInfo=null;this.m_queryString=""},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_isDisplayed=b.GetBoolean();this.m_size=b.GetMember();this.m_queryString=b.GetMember()},SetFile:function(b){this.SetImageFile(D2L.Serialization.JsonDeserializer.Deserialize(b,D2L.Files.FileInfo))},SetImageFile:function(b){if(this.IsRendered()){this.GetDomNode().src=
"/d2l/img/lp/pixel.gif";var c=this;setTimeout(function(){c.GetDomNode().src=D2L.Control.Thumbnail.GetViewThumbUrl(b,c.m_size)+c.m_queryString})}this.m_fileInfo=b},SetIsDisplayed:function(b){if(this.IsRendered())this.GetDomNode().style.display=b?"inline":"none";this.m_isDisplayed=b}});
D2L.Control.Thumbnail.GetViewThumbUrl=function(b,c){var e=b.GetFileId(),f=b.GetFileSystemType();b=b.GetLastModified();e=D2L.Util.Base64.Encode(e);e=e.replace("=","").replace("/","_");return e.Length>100?"/d2l/common/viewThumb.d2lfile/"+f+"/"+DateTime.Now.Ticks+"/"+b+"/"+c+"?ou="+Global.OrgUnitId+"&fid="+e:"/d2l/common/viewThumb.d2lfile/"+f+"/"+e+"/"+b+"/"+c+"?ou="+Global.OrgUnitId};D2L.Util.Aria={};
D2L.Util.Aria.IsEnabled=function(){var b=UI.GetBrowserInfo();return b.Type==D2L.UI.BrowserType.Firefox&&b.MajorVersion>=3||b.Type==D2L.UI.BrowserType.IE&&b.MajorVersion>=8};D2L.Util.Aria.RemoveAttribute=function(b,c){D2L.Util.Aria.IsEnabled()&&b!==undefined&&b!==null&&b.removeAttribute("aria-"+c)};D2L.Util.Aria.SetAttribute=function(b,c,e){D2L.Util.Aria.IsEnabled()&&b!==undefined&&b!==null&&b.setAttribute("aria-"+c,e)};
D2L.Util.Aria.SetRole=function(b,c){D2L.Util.Aria.IsEnabled()&&b!==undefined&&b!==null&&b.setAttribute("role",c)};D2L.Util.Aria.Politeness={Off:"off",Polite:"polite",Assertive:"assertive",Rude:"rude"};D2L.Util.Aria.MakeLiveRegion=function(b,c){if(c===undefined)c=D2L.Util.Aria.Politeness.Assertive;var e=b;if(D2L.Util.IsD2LControl(b)){b.IsRendered()||b.BuildDom();e=b.GetDomNode()}D2L.Util.Aria.SetAttribute(e,"live",c)};D2L.Util.Base64={};
D2L.Util.Base64.Encode=function(b){var c=new RegExp("([^%])|(%[a-fA-F0-9][a-fA-F0-9])","g"),e="";b=encodeURIComponent(b).replace(c,function(f){f=f.length==1?f.charCodeAt(0):parseInt(f.substr(1),16);for(f=f.toString(2);f.length<8;)f="0"+f;e+=f;for(f="";e.length>=6;){f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(parseInt(e.substr(0,6),2));e=e.substr(6)}return f});if(e.length>0){for(;e.length<6;)e+="0";b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(parseInt(e,
2))}for(;b.length%4!=0;)b+="=";return b};D2L.Util.Base64.Decode=function(b){b=b.replace(/[^a-z0-9\+\/]/ig,"");for(var c="",e="",f=0;f<b.length;f++){var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b.charAt(f));for(g=g.toString(2);g.length<6;)g="0"+g;for(e+=g;e.length>=8;){g=e.substr(0,8);e=e.substr(8);g=parseInt(g,2);g=g.toString(16);if(g.length==1)g="0"+g;c+="%"+g}}return decodeURIComponent(c)};
D2L.Util.Clipboard=D2L.Class.extend({Construct:function(){this.m_item=null},Clear:function(){this.m_item=null},IsEmpty:function(){return this.m_item===null},Get:function(){return this.m_item},Set:function(b){this.m_item=b}});D2L.Util.Clipboard.Actions={Cut:1,Copy:2};
D2L.Util.Clipboard.Item=D2L.Class.extend({Construct:function(b,c){this.m_dataObj=b;this.m_action=c},GetAction:function(){return this.m_action},GetDataObject:function(){return this.m_dataObj},SetAction:function(b){this.m_action=b},SetDataObject:function(b){this.m_dataObj=b}});
D2L.Util.DataSource=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_count=0;this.m_index=-1;this.m_rawData=[];this.m_fields=[]},Deserialize:function(b){this.m_fields=b.GetMember("Fields");this.m_rawData=b.GetMember("Data");this.m_count=this.m_rawData.length},GetFields:function(){return this.m_fields},GetFieldIndex:function(b){for(var c=0;c<this.m_fields.length;c++)if(this.m_fields[c]==b)return c;return-1},GetNumRows:function(){return this.m_count},GetRow:function(){return this.m_index},
GetValue:function(b,c){if(this.IsEOF())throw"DataSource has reached end of data.";else{var e=this.GetFieldIndex(b);if(e<0)throw"DataSource does not contain field '"+b+"'.";this.m_index==-1&&this.MoveAhead();return D2L.Serialization.JsonDeserializer.Deserialize(this.m_rawData[this.m_index][e],c)}},IsEOF:function(){return this.m_index>=this.m_count},MoveAhead:function(b){if(b===undefined)b=1;this.m_index+=b},Read:function(){this.m_index++;return!this.IsEOF()}});D2L.Data={};D2L.Data.DataSource=D2L.Util.DataSource;
D2L.Util.DateTime=D2L.Class.extend({Construct:function(b,c,e,f,g,h){arguments.callee.$.Construct.call(this);if(f===undefined)f=0;if(g===undefined)g=0;if(h===undefined)h=0;this.m_date=new Date(b,c-1,e,f,g,h)},CompareTo:function(b){return this.GetTimestamp()<b.GetTimestamp()?-1:this.GetTimestamp()>b.GetTimestamp()?1:0},GetDay:function(){return this.m_date.getDate()},GetDayOfWeek:function(){return this.m_date.getDay()},GetHour:function(){return this.m_date.getHours()},GetMinute:function(){return this.m_date.getMinutes()},
GetMonth:function(){return this.m_date.getMonth()+1},GetSecond:function(){return this.m_date.getSeconds()},GetTimestamp:function(){return this.m_date.getTime()},GetYear:function(){return this.m_date.getFullYear()},Deserialize:function(b){var c=b.GetMember("Year"),e=b.GetMember("Month"),f=b.GetMember("Day"),g=b.GetMember("Hour"),h=b.GetMember("Minute");b=b.GetMember("Second");this.m_date=new Date(c,e-1,f,g,h,b)},Serialize:function(b){b.AddMember("Year",this.GetYear());b.AddMember("Month",this.GetMonth());
b.AddMember("Day",this.GetDay());b.AddMember("Hour",this.GetHour());b.AddMember("Minute",this.GetMinute());b.AddMember("Second",this.GetSecond())}});D2L.Util.DateTime.ConvertToD2LDateTime=function(b){var c=new D2L.DateTime;c.SetMonth(0);c.SetDay(1);c.SetYear(b.GetYear());c.SetMonth(b.GetMonth()-1);c.SetDay(b.GetDay());c.SetHour(b.GetHour());c.SetMinute(b.GetMinute());return c};
D2L.Util.DateTime.ConvertFromD2LDateTime=function(b){return new D2L.Util.DateTime(b.GetYear(),b.GetMonth()+1,b.GetDay(),b.GetHour(),b.GetMinute(),0)};D2L.Util.DateTime.Now=function(){var b=(new Date).getTime()-D2L.Util.DateTime.LoadTimestamp;b=new Date(D2L.Util.DateTime.LoadDateTime.GetTimestamp()+b);return new D2L.Util.DateTime(b.getFullYear(),b.getMonth()+1,b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds())};
D2L.Util.DateTime.Today=function(){var b=D2L.Util.DateTime.Now();return new D2L.Util.DateTime(b.GetYear(),b.GetMonth(),b.GetDay(),0,0,0)};D2L.Util.DateTime.DayOfWeek={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};D2L.Util.DateTime.LoadDateTime=null;D2L.Util.DateTime.LoadTimestamp=(new Date).getTime();
D2L.Util.Decimal={MaxValue:999999999999999,MinValue:-999999999999999,Parse:function(b){var c="",e=false,f=false;b=b.trim();if(b==""||b==null)return 0;b=Culture.GroupSeparator()!=" "?b.replace(" ",""):b.replace(/^\s*|\s(?=\s)|\s*$/g,"");if(!(new RegExp(Culture.decimalRegex)).test(b))throw"Invalid Decimal (re)";b=b.replace(Culture.GroupSeparator(),"");for(var g=0;g<b.length;g++){var h=b.charAt(g);if(h==Culture.DecimalSeparator()){f||(c+=".");f=true}else if(h==Culture.NegativeSign()||h=="("||h==")")e=
true;else{for(var k=0;k<10;k++)if(h==Culture.NativeDigits()[k]){h=k;break}h=parseInt(h);if(!isNaN(h)&&h>=0&&h<=9)c+=h;else throw"Invalid Decimal 2";}}c=parseFloat(c);if(e)c*=-1;return c},FormatSimple:function(b){b+="";var c="",e=false,f=true;if(b.indexOf(".",0)>=0)f=false;for(var g=Culture.GroupSizes(),h=0,k=0,j=b.length-1;j>=0;j--){var l=b.charAt(j);if(l=="."){f||(c=Culture.DecimalSeparator()+c);f=true}else if(l=="-")e=true;else{l=parseInt(l);if(!isNaN(l)&&l>=0&&l<=9)if(f)if(g[h]==0)c=Culture.ConvertToNativeDigit(l)+
c;else if(g[h]==k){c=Culture.GroupSeparator()+c;c=Culture.ConvertToNativeDigit(l)+c;h++;if(h>=g.length)h=g.length-1;k=1}else{c=Culture.ConvertToNativeDigit(l)+c;k++}else c=Culture.ConvertToNativeDigit(l)+c;else throw"Invalid Integer 3";}}if(e)switch(Culture.NegativeFormat()){case 0:c="("+c+")";break;case 1:c=Culture.NegativeSign()+c;break;case 2:c=Culture.NegativeSign()+" "+c;break;case 3:c+=Culture.NegativeSign();break;case 4:c+=" "+Culture.NegativeSign();break}return c},Format:function(b,c,e){if(isNaN(c))return D2L.Util.Decimal.FormatSimple(b);
else{b=Math.round(b*Math.pow(10,c))/Math.pow(10,c);b+="";var f="",g=false,h=0,k=true;if(b.indexOf(".",0)>=0)k=false;for(var j=Culture.GroupSizes(),l=0,o=0,p=b.length-1;p>=0;p--){var r=b.charAt(p);if(r=="."){k||(f=Culture.DecimalSeparator()+f);k=true}else if(r=="-")g=true;else{r=parseInt(r);if(!isNaN(r)&&r>=0&&r<=9)if(k)if(j[l]==0)f=Culture.ConvertToNativeDigit(r)+f;else if(j[l]==o){f=Culture.GroupSeparator()+f;f=Culture.ConvertToNativeDigit(r)+f;l++;if(l>=j.length)l=j.length-1;o=1}else{f=Culture.ConvertToNativeDigit(r)+
f;o++}else{f=Culture.ConvertToNativeDigit(r)+f;h++}else throw"Invalid Integer 3";}}if(e)for(b=h;b<c;b++){if(b==0)f+=Culture.DecimalSeparator();f+=Culture.ConvertToNativeDigit(0)}if(h>c)f=f.substring(0,f.length-(c-h));if(g)switch(Culture.NegativeFormat()){case 0:f="("+f+")";break;case 1:f=Culture.NegativeSign()+f;break;case 2:f=Culture.NegativeSign()+" "+f;break;case 3:f+=Culture.NegativeSign();break;case 4:f+=" "+Culture.NegativeSign();break}return f}}};
D2L.Util.DelayedReturn=D2L.Class.extend({Construct:function(b){arguments.callee.$.Construct.call(this,true);this.m_hasReturned=false;this.m_isDelayedReturn=true;this.m_registrees=[];this.m_returnValue=null;b!==undefined&&this.Trigger(b)},Dispose:function(){this.m_registrees=null},GetReturnValue:function(){return this.m_returnValue},HasReturned:function(){return this.m_hasReturned},Register:function(b){this.HasReturned()?b.call(b,this.GetReturnValue()):this.m_registrees.push(b)},RegisterWithReturn:function(b){var c=
new D2L.Util.DelayedReturn;this.Register(function(e){e=b(e);c.Trigger(e)});return c},Trigger:function(b){if(!this.HasReturned())if(D2L.Util.IsDelayedReturn(b)){var c=this;b.Register(function(f){c.Trigger(f)})}else{this.m_returnValue=b;this.m_hasReturned=true;if(this.m_registrees)for(var e=0;e<this.m_registrees.length;e++)this.m_registrees[e].call(this.m_registrees[e],b)}},Unregister:function(b){for(var c=[],e=0;e<this.m_registrees.length;e++)this.m_registrees[e]!=b&&c.push(this.m_registrees[e]);this.m_registrees=
c}});D2L.Util.DelayedReturn.Create=function(b,c){return new D2L.MethodProxy(b,c)};D2L.Util.DelayedReturn.RegisterAll=function(){for(var b=[],c=0;c<arguments.length-1;c++)b.push(arguments[c]);var e=arguments[arguments.length-1];D2L.Util.DelayedReturn.RegisterMultiple(b,function(f){e.apply(e,f)})};D2L.Util.DelayedReturn.RegisterMultiple=function(b,c){b.length===0&&c.apply(c,[]);for(var e=[],f=0,g=0;g<b.length;g++)(function(){var h=g;b[g].Register(function(k){e[h]=k;f++;f==b.length&&c.call(c,e)})})()};
D2L.Util.IsDelayedReturn=function(b){if(b!==undefined)return b.m_isDelayedReturn!==undefined;return false};
D2L.Util.Dictionary=D2L.Class.extend({Construct:function(){this.m_keys=[];this.m_dict={};this.m_values=[];arguments.callee.$.Construct.call(this)},Add:function(b,c){for(var e=false,f=0;f<this.m_keys.length;f++)if(this.m_keys[f]==b){this.m_values[f]=c;e=true;break}if(!e){this.m_keys.push(b);this.m_values.push(c)}this.m_dict[b]=c},ContainsKey:function(b){for(var c=0;c<this.m_keys.length;c++)if(this.m_keys[c]==b)return true;return false},GetCount:function(){return this.m_keys.length},Get:function(b){if(this.m_dict[b]!==
undefined)return this.m_dict[b]},Keys:function(){return this.m_keys},Remove:function(b){for(var c=0;c<this.m_keys.length;c++)if(this.m_keys[c]==b){this.m_keys.splice(c,1);this.m_values.splice(c,1);this.m_dict[b]=undefined;return true}return false},Values:function(){return this.m_values},Serialize:function(b){for(var c=0;c<this.m_keys.length;c++)b.AddMember(this.m_keys[c],this.Get(this.m_keys[c]))},Deserialize:function(b){for(var c=b.Keys(),e=0;e<c.length;e++)this.Add(c[e],b.GetMember(c[e]))}});
D2L.Util.Dom={};D2L.Util.Dom.GetHeightHelper=function(b){return D2L.Util.Dom.GetSizeHelper(b).height};D2L.Util.Dom.GetWidthHelper=function(b){return D2L.Util.Dom.GetSizeHelper(b).width};
D2L.Util.Dom.GetSizeHelper=function(b){new D2L.Util.DelayedReturn;var c=b.cloneNode(true);c.id="";c.style.display="none";b.parentNode&&b.parentNode.insertBefore(c,b);c.style.borderStyle="none";c.style.margin="0px";c.style.padding="0px";c.style.overflow="hidden";c.style.left="-2000px";c.style.position="absolute";c.style.display="block";b=c.offsetHeight;var e=c.offsetWidth;c.parentNode&&c.parentNode.removeChild(c);return{height:b,width:e}};
D2L.Util.Dom.CancelBubble=function(b){if(b===undefined)b=window.event;if(b.stopPropagation!==undefined)b.stopPropagation();else if(b.cancelBubble!==undefined)b.cancelBubble=true};D2L.Util.Dom.FindPosX=function(b){var c=0;if(b=YAHOO.util.Dom.getXY(b))c=b[0];return c};D2L.Util.Dom.FindPosY=function(b){var c=0;if(b=YAHOO.util.Dom.getXY(b))c=b[1];return c};D2L.Util.Dom.FindPosXY=function(b){b=YAHOO.util.Dom.getXY(b);if(!b){b=[];b[0]=0;b[1]=0}return b};
D2L.Util.Dom.ScrollTo=function(b,c,e){if(!(!b||!b.offsetLeft||!b.offsetWidth)){if(c===undefined)c=false;if(e===undefined)e=false;var f=D2L.Util.Dom.FindPosX(b),g=D2L.Util.Dom.FindPosY(b),h=b.offsetWidth,k=UI.GetScrollLeft(),j=UI.GetScrollTop(),l=UI.GetWindowWidth(),o=UI.GetWindowHeight(),p=false;if(e&&b.offsetHeight&&b.offsetHeight+g>=j+o&&g>j){g+=b.offsetHeight;p=true}var r=e=b=0;p||(r=o);if(c)r=o/2;if(g<j)e=g-j-r;else if(g>j+o)e=g-(j+o)+r;if(f<k)b=f-k;else if(f+h>k+l)b=f+h-(k+l);if(b!=0||e!=0)window.scrollBy(b,
e)}};var ScrollToDomNode=D2L.Util.Dom.ScrollTo;D2L.Util.Dom.Purge=function(b){var c=b.attributes,e,f,g;if(c){f=c.length;for(e=0;e<f;e+=1)if(c[e]){g=c[e].name;if(typeof b[g]==="function")b[g]=null}}if(c=b.childNodes){f=c.length;for(e=0;e<f;e+=1)D2L.Util.Dom.Purge(b.childNodes[e])}};
D2L.Util.Dom.SetPngSrc=function(b,c,e,f){b.width=e;b.height=f;if(b.runtimeStyle){b.src="/d2l/tools/img/pixel.gif";b.runtimeStyle.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+c+"',sizingMethod='scale')"}else b.src=c};D2L.Util.Dom.IsKeyEnter=function(b){b=b||window.event;if(b===undefined||b===null)return false;return b.keyCode==13||b.charCode==13||b.which==13?true:false};D2L.Util.Dom.IsAncestor=function(b,c){return YAHOO.util.Dom.isAncestor(b,c)};
D2L.Util.Dom.GetElementsByClassName=function(b,c){if(b.getElementsByClassName!==undefined)return b.getElementsByClassName(c);b=b.all?b.all:b.getElementsByTagName("*");var e=[];c=c.replace(/\-/g,"\\-");c=new RegExp("(^|\\s)"+c+"(\\s|$)");for(var f=0;f<b.length;f++)c.test(b[f].className)&&e.push(b[f]);return e};D2L.Util.Dom.HasClassName=function(b,c){if(!b||!c||c.className===undefined)return false;c=c.className.split(" ");for(var e=0;e<c.length;e++)if(c[e]==b)return true;return false};
D2L.Util.Email={};D2L.Util.Email.GetValidityRegex=function(){return/^[^ \t\r\n]+\@[^ \t\r\n]+\.[^ \t\r\n]+$/};D2L.Util.Email.IsAddressValid=function(b){return D2L.Util.Email.GetValidityRegex().test(b)};function IsEmailValid(b){D2L.Debug.Warn("IsEmailValid() is deprecated, use D2L.Util.Email.IsAddressValid( address ) instead.");return D2L.Util.Email.IsAddressValid(b)}
function d2l_Encoder(b,c,e,f){this.ResetData();this.valSep=b;this.rowSep=e;this.valReplace=this.escapeChar+c;this.rowReplace=this.escapeChar+f}a=d2l_Encoder.prototype;a.escapeChar="\\";a.escapeReplace="\\&";a.ResetData=function(){this.rows=[]};a.AddRow=function(){var b=[];if(arguments[0]!==undefined)if(arguments[0].join)b=arguments[0];else for(var c=0;c<arguments.length;c++)b[c]=arguments[c];this.rows[this.rows.length]=b};
a.Encode=function(b){var c=b;if(b.split){c=b.split(this.escapeChar).join(this.escapeReplace);c=c.split(this.valSep).join(this.valReplace);c=c.split(this.rowSep).join(this.rowReplace)}return c};a.Decode=function(b){b=b.split(this.rowReplace).join(this.rowSep);b=b.split(this.valReplace).join(this.valSep);return b=b.split(this.escapeReplace).join(this.escapeChar)};
a.Serialize=function(){var b="",c,e,f,g,h;h="";for(var k=0;k<this.rows.length;k++){c=this.rows[k];f=g="";for(var j=0;j<c.length;j++){e=this.Encode(c[j]);g+=f+e;f=this.valSep}b+=h+g;h=this.rowSep}return b};a.Deserialize=function(b){this.ResetData();b=b.split(this.rowSep);for(var c,e=0;e<b.length;e++){c=b[e].split(this.valSep);for(var f=0;f<c.length;f++)c[f]=this.Decode(c[f]);this.rows[this.rows.length]=c}return this.rows};D2L.Util.Html={};
D2L.Util.Html.Encode=function(b){if(b!=undefined&&b.encodeHtml!==undefined)return b.encodeHtml();return b};D2L.Util.Html.Decode=function(b){if(b!=undefined&&b.encodeHtml!==undefined)return b.decodeHtml();return b};D2L.Util.Html.HasClassName=function(b,c){if(b&&b.className!==undefined){b=b.className.split(" ");for(var e=0;e<b.length;e++)if(b[e]==c)return true}return false};
D2L.Util.Html.JsString=function(b){b=new String(b);b=b.replace("\\","\\\\");b=b.replace("'","\\'");b=b.replace('"','\\"');b=b.replace("/","\\/");return b=b.replace("\n","\\n")};
D2L.Util.Html.FindFrame=function(b,c){if(c===undefined)c=window;var e=function(f){for(var g=function(k){if(k.frames&&k.frames[b])return k.frames[b];else if(k.frames)for(var j=0;j<k.frames.length;j++){var l=g(k.frames[j]);if(l!==null)return l}return null},h=f;;)if(h.parent&&h.parent!=h)h=h.parent;else break;h=g(h);if(h!==null)return h;if(f.opener)return e(f.opener);return null};return e(c)};D2L.Util.Html.IsDomNode=function(b){if(b!==undefined&&b!==null)return b.tagName!==undefined;return false};
D2L.Util.Integer={MaxValue32:2147483647,MinValue32:-2147483648,MaxValue64:999999999999999,MinValue64:-999999999999999,Parse:function(b){var c="",e=false;b=b.trim();if(b==""||b==null)return 0;b=Culture.GroupSeparator()!=" "?b.replace(" ",""):b.replace(/^\s*|\s(?=\s)|\s*$/g,"");if(!(new RegExp(Culture.integerRegex)).test(b))throw"Invalid Integer (re)";b=b.replace(Culture.GroupSeparator(),"");for(var f=0;f<b.length;f++){var g=b.charAt(f);if(g==Culture.DecimalSeparator())throw"Invalid Integer 2";else if(g==
Culture.NegativeSign()||g=="("||g==")")e=true;else{for(var h=0;h<10;h++)if(g==Culture.NativeDigits()[h]){g=h;break}g=parseInt(g);if(!isNaN(g)&&g>=0&&g<=9)c+=g;else throw"Invalid Integer 3";}}c=parseInt(c,10);if(e)c*=-1;return c},Format:function(b){b+="";for(var c="",e=false,f=Culture.GroupSizes(),g=0,h=0,k=b.length-1;k>=0;k--){var j=b.charAt(k);if(j==".")throw"Invalid Integer 2";else if(j=="-")e=true;else{j=parseInt(j);if(!isNaN(j)&&j>=0&&j<=9)if(f[g]==0)c=Culture.ConvertToNativeDigit(j)+c;else if(f[g]==
h){c=Culture.GroupSeparator()+c;c=Culture.ConvertToNativeDigit(j)+c;g++;if(g>=f.length)g=f.length-1;h=1}else{c=Culture.ConvertToNativeDigit(j)+c;h++}else throw"Invalid Integer 3";}}if(e)switch(Culture.NegativeFormat()){case 0:c="("+c+")";break;case 1:c=Culture.NegativeSign()+c;break;case 2:c=Culture.NegativeSign()+" "+c;break;case 3:c+=Culture.NegativeSign();break;case 4:c+=" "+Culture.NegativeSign();break}return c}};
D2L.Util.IsD2LControl=function(b){if(b!==undefined)return b.isD2LControl!==undefined;return false};D2L.Util.JavaScript={};D2L.Util.JavaScript.DeepCopy=function(b){if(b===undefined||b===null)return b;if(typeof b=="object"&&b.__isArray){for(var c=[],e=0;e<b.length;e++)c.push(D2L.Util.JavaScript.DeepCopy(b[e]));return c}else if(typeof b=="object"){c={};for(e in b)c[e]=D2L.Util.JavaScript.DeepCopy(b[e]);return c}return b};D2L.Util.JavaScript.IsArray=function(b){if(b&&b.pop&&b.push)return true;return false};
function isArray(b){return D2L.Util.JavaScript.IsArray(b)}D2L.Util.Number={};D2L.Util.Number.Mod=function(b,c){b=b%c;return b<0?c+b:b};
D2L.Util.Percentage={FormatSimple:function(b,c){var e=false;b=parseFloat(b)/parseFloat(c);b*=100;if(b<0){e=true;b*=-1}b=D2L.Util.Decimal.FormatSimple(b);if(e)switch(Culture.PercentNegativePattern()){case 0:b=Culture.NegativeSign()+b+" "+Culture.PercentSymbol();break;case 1:b=Culture.NegativeSign()+b+Culture.PercentSymbol();break;case 2:b=Culture.NegativeSign()+Culture.PercentSymbol()+b;break;case 3:b=Culture.PercentSymbol()+Culture.NegativeSign()+b;break;case 4:b=Culture.PercentSymbol()+b+Culture.NegativeSign();
break;case 5:b=b+Culture.NegativeSign()+Culture.PercentSymbol();break;case 6:b=b+Culture.PercentSymbol()+Culture.NegativeSign();break;case 7:b=Culture.NegativeSign()+Culture.PercentSymbol()+" "+b;break;case 8:b=b+" "+Culture.PercentSymbol()+Culture.NegativeSign();break;case 9:b=Culture.PercentSymbol()+" "+b+Culture.NegativeSign();break;case 10:b=Culture.PercentSymbol()+" "+Culture.NegativeSign()+b;break;case 11:b=b+Culture.NegativeSign()+" "+Culture.PercentSymbol();break}else switch(Culture.PercentPositivePattern()){case 0:b=
b+" "+Culture.PercentSymbol();break;case 1:b+=Culture.PercentSymbol();break;case 2:b=Culture.PercentSymbol()+b;break;case 3:b=Culture.PercentSymbol()+" "+b;break}return b},Format:function(b,c,e,f){if(isNaN(e))return D2L.Util.Percentage.FormatSimple(b,c);else{var g=false;b=parseFloat(b)/parseFloat(c);b*=100;if(b<0){g=true;b*=-1}b=D2L.Util.Decimal.Format(b,e,f);if(g)switch(Culture.PercentNegativePattern()){case 0:b=Culture.NegativeSign()+b+" "+Culture.PercentSymbol();break;case 1:b=Culture.NegativeSign()+
b+Culture.PercentSymbol();break;case 2:b=Culture.NegativeSign()+Culture.PercentSymbol()+b;break;case 3:b=Culture.PercentSymbol()+Culture.NegativeSign()+b;break;case 4:b=Culture.PercentSymbol()+b+Culture.NegativeSign();break;case 5:b=b+Culture.NegativeSign()+Culture.PercentSymbol();break;case 6:b=b+Culture.PercentSymbol()+Culture.NegativeSign();break;case 7:b=Culture.NegativeSign()+Culture.PercentSymbol()+" "+b;break;case 8:b=b+" "+Culture.PercentSymbol()+Culture.NegativeSign();break;case 9:b=Culture.PercentSymbol()+
" "+b+Culture.NegativeSign();break;case 10:b=Culture.PercentSymbol()+" "+Culture.NegativeSign()+b;break;case 11:b=b+Culture.NegativeSign()+" "+Culture.PercentSymbol();break}else switch(Culture.PercentPositivePattern()){case 0:b=b+" "+Culture.PercentSymbol();break;case 1:b+=Culture.PercentSymbol();break;case 2:b=Culture.PercentSymbol()+b;break;case 3:b=Culture.PercentSymbol()+" "+b;break}return b}}};D2L.Util.ProfanityFilter={};
D2L.Util.ProfanityFilter.IsValidTerm=function(b){var c=new D2L.Util.DelayedReturn;D2L.Rpc.Create("IsValidTerm",function(e){e.GetResponseType()==D2L.Rpc.ResponseType.Success?c.Trigger(e.GetResult()):c.Trigger(false)},"/d2l/common/rpc/profanityFilter/profanityFilter.d2l").Call(b);return c};
D2L.Util.ProfanityFilter.FilterTerms=function(b){var c=new D2L.Util.DelayedReturn;D2L.Rpc.Create("FilterTerms",function(e){e.GetResponseType()==D2L.Rpc.ResponseType.Success?c.Trigger(e.GetResult()):c.Trigger([])},"/d2l/common/rpc/profanityFilter/profanityFilter.d2l").Call(b);return c};D2L.Util.ProfanityFilter.Synchronous={};
D2L.Util.ProfanityFilter.Synchronous.IsValidTerm=function(b){b=D2L.Rpc.CreateSynchronous("IsValidTerm","/d2l/common/rpc/profanityFilter/profanityFilter.d2l").Call(b);return b.GetResponseType()==D2L.Rpc.ResponseType.Success?b.GetResult():false};D2L.Util.ProfanityFilter.Synchronous.FilterTerms=function(b){b=D2L.Rpc.CreateSynchronous("FilterTerms","/d2l/common/rpc/profanityFilter/profanityFilter.d2l").Call(b);return b.GetResponseType()==D2L.Rpc.ResponseType.Success?b.GetResult():false};
D2L.Util.SpellChecker={};D2L.Util.SpellChecker.OpenSpellChecker=function(b,c,e,f){var g=new D2L.Util.DelayedReturn,h=new D2L.Dialog.SpellChecker;h.SetText(b);h.SetIsTextHtml(c);if(e!==undefined&&f!==undefined){h.SetPreviewText(e);h.SetIsPreviewTextHtml(f)}h.SetCallback(function(k){k.GetType()==D2L.Dialog.ResponseType.Positive&&g.Trigger(k.GetData("text"));h.Close()});h.Open();return g};
if(String.prototype.trim===undefined)String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")};a=String.prototype;a.isString=true;a.ltrim=function(){return this.replace(/^\s+/,"")};a.rtrim=function(){return this.replace(/\s+$/,"")};a.stripHtml=function(){return this.replace("&nbsp;"," ").replace(/(<([^>]+)>)/ig,"")};
a.encodeHtml=function(){var b=this.toString();if(b.indexOf("&")!=-1)b=b.replace("&","&amp;");if(b.indexOf("<")!=-1)b=b.replace("<","&lt;");if(b.indexOf(">")!=-1)b=b.replace(">","&gt;");if(b.indexOf('"')!=-1)b=b.replace('"',"&quot;");return b};a.d_oldReplace=String.prototype.replace;a.replace=function(b,c){return b.isString?this.split(b).join(c):this.d_oldReplace(b,c)};a.format=function(){for(var b=this.toString(),c=0;c<arguments.length;c++)b=b.replace("{"+c+"}",arguments[c]);return b};
a.langReplace=function(){for(var b=this.toString(),c=0;c<arguments.length;c++)b=b.replace("["+c+"]",arguments[c]);return b};a.decodeHtml=function(){return this.replace(/\&[a-zA-Z0-9#]*;/g,DecodeHtmlEntity)};a.jsString=function(){return D2L.Util.Html.JsString(this.toString())};a.endsWith=function(b){var c=this.toString();return c.length>=b.length&&c.substr(c.length-b.length)==b};
function DecodeHtmlEntity(b){var c=b,e=window.getHtmlEntities();if(e[b])c="&#"+e[b]+";";if(c.match(/\&\#[0-9]+;/))return String.fromCharCode(c.substring(2,c.length-1));return b}
window.getHtmlEntities=function(){if(this.entities!==undefined)return this.entities;return this.entities={"&quot;":34,"&amp;":38,"&lt;":60,"&gt;":62,"&OElig;":338,"&oelig;":339,"&Scaron;":352,"&scaron;":353,"&Yuml;":376,"&circ;":710,"&tilde;":732,"&ensp;":8194,"&emsp;":8195,"&thinsp;":8201,"&zwnj;":8204,"&zwj;":8205,"&lrm;":8206,"&rlm;":8207,"&ndash;":8211,"&mdash;":8212,"&lsquo;":8216,"&rsquo;":8217,"&sbquo;":8218,"&ldquo;":8220,"&rdquo;":8221,"&bdquo;":8222,"&dagger;":8224,"&Dagger;":8225,"&permil;":8240,
"&lsaquo;":8249,"&rsaquo;":8250,"&euro;":8364,"&apos;":39,"&nbsp;":160,"&iexcl;":161,"&cent;":162,"&pound;":163,"&curren;":164,"&yen;":165,"&brvbar;":166,"&sect;":167,"&uml;":168,"&copy;":169,"&ordf;":170,"&laquo;":171,"&not;":172,"&shy;":173,"&reg;":174,"&macr;":175,"&deg;":176,"&plusmn;":177,"&sup2;":178,"&sup3;":179,"&acute;":180,"&micro;":181,"&para;":182,"&middot;":183,"&cedil;":184,"&sup1;":185,"&ordm;":186,"&raquo;":187,"&frac14;":188,"&frac12;":189,"&frac34;":190,"&iquest;":191,"&Agrave;":192,
"&Aacute;":193,"&Acirc;":194,"&Atilde;":195,"&Auml;":196,"&Aring;":197,"&AElig;":198,"&Ccedil;":199,"&Egrave;":200,"&Eacute;":201,"&Ecirc;":202,"&Euml;":203,"&Igrave;":204,"&Iacute;":205,"&Icirc;":206,"&Iuml;":207,"&ETH;":208,"&Ntilde;":209,"&Ograve;":210,"&Oacute;":211,"&Ocirc;":212,"&Otilde;":213,"&Ouml;":214,"&times;":215,"&Oslash;":216,"&Ugrave;":217,"&Uacute;":218,"&Ucirc;":219,"&Uml;":220,"&Yacute;":221,"&THORN;":222,"&szlig;":223,"&agrave;":224,"&aacute;":225,"&acirc;":226,"&atilde;":227,"&auml;":228,
"&aring;":229,"&aelig;":230,"&ccedil;":231,"&egrave;":232,"&eactute;":233,"&ecirc;":234,"&euml;":235,"&igrave;":236,"&iacute;":237,"&icirc;":238,"&iuml;":239,"&eth;":240,"&ntilde;":241,"&ograve;":242,"&oacute;":243,"&ocirc;":244,"&otilde;":245,"&ouml;":246,"&divide;":247,"&oslash;":248,"&ugrave;":249,"&uacute;":250,"&ucirc;":251,"&uuml;":252,"&yacute;":253,"&thorn;":254,"&yuml;":255}};
D2L.Util.StringBuilder=D2L.Class.extend({Construct:function(b){this.m_buffer=new Array("");b!==undefined&&this.Append(b)},Append:function(b){this.m_buffer.push(b)},ToString:function(){return this.m_buffer.join("")}});D2L.Util.Style={};D2L.Util.Style.ApplyFloat=function(b,c){var e="none";c=UI.GetCulture().GetFloat(c);if(c==D2L.Style.Float.Left)e="left";else if(c==D2L.Style.Float.Right)e="right";if(UI.GetBrowserInfo().Type==D2L.UI.BrowserType.IE)b.style.styleFloat=e;else b.style.cssFloat=e};
D2L.Util.Url={};D2L.Util.Url.Encode=function(b){b=encodeURIComponent(b);b=b.replace("'","%27");b=b.replace("%2F","/");return b=b.replace("%2C",",")};D2L.Util.Url.Decode=function(b){return decodeURIComponent(b)};D2L.Util.Url.IsExternal=function(b){b=b.trim();var c=/^[a-zA-Z]+:\/\//i.test(b);if(c)if(b.substr(0,b.indexOf(":")).toLowerCase()=="javascript")c=false;return c};
D2L.Util.GetViewFileUrl=function(b,c){if(c===undefined)c=false;var e=D2L.Util.Base64.Encode(b.FileId).replace("=","").replace("/","_"),f=D2L.Util.Url.Encode(b.FileName.replace(/[#?\/\\%&+]/g,"_")).replace(/\.\.+/g,".").replace("+","%20"),g="/d2l/common/viewFile.d2lfile/";g+=e.length>100?b.FileSystemType+"/"+(new Date).getTime()+"/"+f+"?ou="+Global.OrgUnitId+"&fid="+e:b.FileSystemType+"/"+e+"/"+f+"?ou="+Global.OrgUnitId;if(c)g+="&display=1";return g};
D2L.Util.GetViewImageFileUrl=function(b,c,e){if(c===undefined)c=0;if(e===undefined)e="#ffffff";e=D2L.Util.Url.Encode(e);var f=D2L.Util.Base64.Encode(b.FileId).replace("=","").replace("/","+"),g=D2L.Util.Url.Encode(b.FileName.replace(/[#?\/\\%&+]/g,"_")).replace(/\.\.+/g,".").replace("+","%20");return f.length>100?"/d2l/common/viewImage.d2lfile/"+b.FileSystemType+"/"+(new Date).getTime()+"/"+g+"?ou="+Global.OrgUnitId+"&fid="+f+"&s="+c+"&c="+e:"/d2l/common/viewImage.d2lfile/"+b.FileSystemType+"/"+f+
"/"+g+"?ou="+Global.OrgUnitId+"&s="+c+"&c="+e};D2L.Util.GetViewImageUrl=function(b){return"/d2l/common/language/viewImage.d2l?ou="+Global.OrgUnitId+"&isi="+Global.ImageSetId+"&iv="+Global.ImageVersion+"&t="+b};window.oldAlert=window.alert;window.alert=function(b){if(b&&b.isString){b=b.replace(/<br[\s]*[\/]?[\s]*>/gi,"\n");b=b.stripHtml();b=b.decodeHtml()}this.oldAlert(b)};window.oldConfirm=window.confirm;
window.confirm=function(b){if(b&&b.isString){b=b.replace(/<br[\s]*[\/]?[\s]*>/gi,"\n");b=b.stripHtml();b=b.decodeHtml()}return this.oldConfirm(b)};window.oldSetTimeout=window.setTimeout;window.setTimeout=function(b,c){if(c===undefined)c=0;return window.oldSetTimeout(b,c)};D2L.Validation={};D2L.Validation.NumberFailureType={None:0,NaN:1,NaNOutOfRange:2,GTE:3,GT:4,LTE:5,LT:6};
D2L.Validation.CreateErrorBalloon=function(b){var c=document.createElement("div");c.className="d_vb";var e=document.createElement("div");e.className="d_vb1";c.appendChild(e);var f=document.createElement("div");f.className="d_vb2";c.appendChild(f);b.GetHtml().Register(function(g){f.innerHTML=g});return c};
D2L.Validation.IValidator=D2L.Control.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_passed=true},CanValidateNoDelay:function(b){return b.GetValueNoDelay!==undefined},GetFailureText:function(){return new D2L.LP.Text.LangTerm("Framework.Validation.GenericInvalid")},Passed:function(){return this.m_passed},Validate:function(){return true},ValidateObject:function(){return new D2L.Util.DelayedReturn(this.Validate())},ValidateObjectNoDelay:function(){return this.Validate()}});
D2L.Validation.StringValidator=D2L.Validation.IValidator.extend({Construct:function(b){arguments.callee.$.Construct.call(this);this.m_value=b;this.m_maxCharacters=0;this.m_isRequired=false;this.m_regex=null;this.m_regexFailureText=new D2L.LP.Text.PlainText;this.m_failureText=new D2L.LP.Text.PlainText},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);if(b.HasMember()){this.m_maxCharacters=b.GetMember();this.m_isRequired=b.GetBoolean();if(b.HasMember()){var c=b.GetMember();
if(c.length>0){this.m_regex=new RegExp(c);this.m_regexFailureText=b.GetObject(D2L.LP.Text.IText)}}}},GetFailureText:function(){return this.m_failureText},GetRegexFailureText:function(){return this.m_regexFailureText},GetIsRequired:function(){return this.m_isRequired},GetMaxCharacters:function(){return this.m_maxCharacters},GetRegex:function(){return this.m_regex},GetValue:function(){return this.m_value},SetRegexFailureText:function(b){this.m_regexFailureText=b},SetIsRequired:function(b){this.m_isRequired=
b},SetMaxCharacters:function(b){this.m_maxCharacters=b},SetRegex:function(b){this.m_regex=b},SetValue:function(b){this.m_value=b},Validate:function(b){if(b===undefined)b=this.GetValue();if(this.GetIsRequired()){var c=new D2L.Validation.RequiredValidator(b);if(!c.Validate()){this.m_failureText=c.GetFailureText();return false}}else if(b.length===0)return true;if(this.GetMaxCharacters()>0&&b.length>this.GetMaxCharacters()){this.m_failureText=new D2L.LP.Text.LangTerm("Framework.Validation.StringMaxCharacters",
this.GetMaxCharacters());return false}if(this.GetRegex()!==null&&!this.GetRegex().test(b)){this.m_failureText=this.GetRegexFailureText();return false}return true},ValidateObject:function(b){var c=new D2L.Util.DelayedReturn,e=this;b.GetValue().Register(function(f){c.Trigger(e.Validate(f))});return c},ValidateObjectNoDelay:function(b){return this.Validate(b.GetValueNoDelay())}});D2L.Control.ValidatorString=D2L.Validation.StringValidator;
D2L.Validation.AndValidator=D2L.Validation.IValidator.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_children=[];this.m_failureText=new D2L.LP.Text.PlainText},CanValidateNoDelay:function(b){for(var c=true,e=0;e<this.m_children.length;e++){var f=UI.GetControl(this.m_children[e].ID(),this.m_children[e].SID());c=c&&f.CanValidateNoDelay(b)}return c},IntegrateControlMin:function(b){this.m_children=b.GetObjectArrayMin(D2L.Control.Id)},GetFailureText:function(){return this.m_failureText},
Validate:function(){for(var b=true,c=0;c<this.m_children.length;c++){var e=UI.GetControl(this.m_children[c].ID(),this.m_children[c].SID()),f=e.Validate();e.m_passed=f;if(!f)this.m_failureText=e.GetFailureText();b=b&&f}return f},ValidateObject:function(b){var c=new D2L.Util.DelayedReturn,e=this,f=true,g=function(k,j){k.m_passed=j;if(!j)e.m_failureText=k.GetFailureText();f=f&&j},h=function(k){if(k==e.m_children.length||!f)c.Trigger(f);else{var j=UI.GetControl(e.m_children[k].ID(),e.m_children[k].SID()),
l=j.ValidateObject(b);if(D2L.Util.IsDelayedReturn(l))l.Register(function(o){g(j,o);h(++k)});else{g(j,l);h(++k)}}};h(0);return c},ValidateObjectNoDelay:function(b){var c=this,e=function(f){if(f==c.m_children.length)return true;else{var g=UI.GetControl(c.m_children[f].ID(),c.m_children[f].SID()),h=g.ValidateObjectNoDelay(b);g.m_passed=h;if(!h)c.m_failureText=g.GetFailureText();return e(++f)&&h}};return e(0)}});D2L.Control.ValidatorAnd=D2L.Validation.AndValidator;
D2L.Validation.CustomValidator=D2L.Validation.IValidator.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_jsFunction=null;this.m_jsParams=[this];this.m_validationTarget=this.m_failureControlId=this.m_failureControl=this.m_failureText=null},CanValidateNoDelay:function(){return false},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_jsFunction=b.GetMember();this.m_jsParams=this.m_jsParams.concat(b.GetMember());var c=b.GetMember(),
e=b.GetMember();if(c.length>0)this.m_failureControlId=new D2L.Control.Id(c,e);c=b.GetMember().replace("{tempsubject}","{subject}");if(c.length>0)this.m_failureText=new D2L.LP.Text.SmlText(c)},Focus:function(){if(this.m_failureControlId!==null)this.m_failureControl=UI.GetControl(this.m_failureControlId.ID(),this.m_failureControlId.SID());if(this.m_failureControl!==null)if(this.m_failureControl.Focus!==undefined)this.m_failureControl.Focus();else if(this.m_failureControl.focus!==undefined)try{this.m_failureControl.focus()}catch(b){}},
GetDomNode:function(){if(this.m_failureControlId!==null)this.m_failureControl=UI.GetControl(this.m_failureControlId.ID(),this.m_failureControlId.SID());if(this.m_failureControl!==null)if(D2L.Util.IsD2LControl(this.m_failureControl)){if(this.m_failureControl.GetValidationDomNode!==undefined)return this.m_failureControl.GetValidationDomNode();return this.m_failureControl.GetDomNode()}else return this.m_failureControl;return null},GetFailureText:function(){return this.m_failureText},GetValidationTarget:function(){return this.m_validationTarget},
HasFocusControl:function(){var b=this.m_failureControl;if(this.m_failureControlId!==null)b=UI.GetControl(this.m_failureControlId.ID(),this.m_failureControlId.SID());if(b!==null)return b.Focus!==undefined||b.focus!==undefined;return false},SetFailureControl:function(b){this.m_failureControl=b;if(this.m_failureControl!==null){var c=b;if(D2L.Util.IsD2LControl(b))c=b.GetDomNode();var e=this;if(c!==null){this.AttachObject(c,"ID2LOnRemove",new D2L.EventHandler);c.ID2LOnRemove.RegisterMethod(function(){e.IsEnabled=
function(){return false}})}}},SetDomNode:function(b){this.SetFailureControl(b)},SetFailureText:function(b){this.m_failureText=D2L.LP.Text.IText.Normalize(b,"D2L.Validation.CustomValidator","SetFailureText","failureText")},ValidateObject:function(b){this.m_validationTarget=b;return new D2L.Util.DelayedReturn(this.Validate())},Validate:function(){var b=true;if(this.m_jsFunction!==undefined&&this.m_jsFunction!==null){b=this.m_jsFunction.apply(this.m_jsFunction,this.m_jsParams);if(b===undefined)b=true}return b}});
D2L.Control.Validator=D2L.Validation.CustomValidator;
D2L.Validation.DateRangeValidator=D2L.Validation.IValidator.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_endMinute=this.m_endHour=this.m_endDay=this.m_endMonth=this.m_endYear=this.m_startMinute=this.m_startHour=this.m_startDay=this.m_startMonth=this.m_startYear=null;this.m_hasEndDate=this.m_hasStartDate=true;this.m_failureText=null;this.m_validationFailureSource=0},GetFailureText:function(){return this.m_failureText},Validate:function(){if(this.m_hasStartDate){var b=
new D2L.Validation.DateTimeValidator(this.m_startYear,this.m_startMonth,this.m_startDay,this.m_startHour,this.m_startMinute,this.m_startSecond);if(!b.Validate()){this.m_validationFailureSource=1;this.m_failureText=new D2L.LP.Text.LangTerm("Framework.Validation.DateRangeStartInvalid");return false}}if(this.m_hasEndDate){b=new D2L.Validation.DateTimeValidator(this.m_endYear,this.m_endMonth,this.m_endDay,this.m_endHour,this.m_endMinute,this.m_endSecond);if(!b.Validate()){this.m_validationFailureSource=
2;this.m_failureText=new D2L.LP.Text.LangTerm("Framework.Validation.DateRangeEndInvalid");return false}}this.m_validationFailureSource=0;this.m_failureText=new D2L.LP.Text.LangTerm("Framework.Validation.DateRangeInvalid");if(this.m_hasStartDate&&this.m_hasEndDate){if(this.m_startYear<this.m_endYear)return true;else if(this.m_startYear>this.m_endYear)return false;if(this.m_startMonth<this.m_endMonth)return true;else if(this.m_startMonth>this.m_endMonth)return false;if(this.m_startDay<this.m_endDay)return true;
else if(this.m_startDay>this.m_endDay)return false;if(this.m_hasTime){if(this.m_startHour<this.m_endHour)return true;else if(this.m_startHour>this.m_endHour)return false;if(this.m_startMinute<this.m_endMinute)return true;else if(this.m_startMinute>this.m_endMinute)return false}}return true},ValidateObject:function(b){return new D2L.Util.DelayedReturn(this.ValidateObjectNoDelay(b))},ValidateObjectNoDelay:function(b){this.m_hasStartDate=b.HasStartDate();this.m_hasEndDate=b.HasEndDate();this.m_hasTime=
b.HasTime();if(this.m_hasStartDate){this.m_startYear=b.GetStartYear();this.m_startMonth=b.GetStartMonth();this.m_startDay=b.GetStartDay();if(this.m_hasTime){this.m_startHour=b.GetStartHour();this.m_startMinute=b.GetStartMinute()}}if(this.m_hasEndDate){this.m_endYear=b.GetEndYear();this.m_endMonth=b.GetEndMonth();this.m_endDay=b.GetEndDay();if(this.m_hasTime){this.m_endHour=b.GetEndHour();this.m_endMinute=b.GetEndMinute()}}var c=this.Validate();if(!c&&b.m_validationFailureSource!==undefined)b.m_validationFailureSource=
this.m_validationFailureSource;return c}});D2L.Control.ValidatorDateRange=D2L.Validation.DateRangeValidator;
D2L.Validation.DateTimeValidator=D2L.Validation.IValidator.extend({Construct:function(b,c,e,f,g){arguments.callee.$.Construct.call(this);var h=new D2L.Util.DateTime.Now;if(b===undefined)b=h.GetYear();if(c===undefined)c=h.GetMonth();if(e===undefined)e=h.GetDay();if(f===undefined)f=h.GetHour();if(g===undefined)g=h.GetMinute();this.m_year=b;this.m_month=c;this.m_day=e;this.m_hour=f;this.m_minute=g},GetFailureText:function(){return new D2L.LP.Text.LangTerm("Framework.Validation.DateInvalid")},GetDay:function(){return this.m_day},
GetMonth:function(){return this.m_month},GetHour:function(){return this.m_hour},GetMinute:function(){return this.m_minute},GetYear:function(){return this.m_year},SetDay:function(b){this.m_day=b},SetMonth:function(b){this.m_month=b},SetYear:function(b){this.m_year=b},SetHour:function(b){this.m_hour=b},SetMinute:function(b){this.m_minute=b},Validate:function(b,c,e,f,g){if(b===undefined||b===null)b=this.GetYear();if(c===undefined||c===null)c=this.GetMonth();if(e===undefined||e===null)e=this.GetDay();
if(f===undefined||f===null)f=this.GetHour();if(g===undefined||g===null)g=this.GetMinute();if(isNaN(b)||b<0)return false;if(isNaN(c)||c<1||c>12)return false;if(isNaN(e)||e<1||e>31)return false;if(isNaN(f)||f<0||f>23)return false;if(isNaN(g)||g<0||g>59)return false;f=31;if(c==2)f=b%4===0&&(b%100!==0||b%400===0)?29:28;else if(c==4||c==6||c==9||c==11)f=30;if(e>f)return false;return true},ValidateObject:function(b){return new D2L.Util.DelayedReturn(this.Validate(b.GetYear(),b.GetMonth(),b.GetDay(),b.GetHour(),
b.GetMinute()))},ValidateObjectNoDelay:function(b){return this.Validate(b.GetYear(),b.GetMonth(),b.GetDay(),b.GetHour(),b.GetMinute())}});D2L.Control.ValidatorDateTime=D2L.Validation.DateTimeValidator;
D2L.Validation.DecimalValidator=D2L.Validation.IValidator.extend({Construct:function(b){arguments.callee.$.Construct.call(this);if(b===undefined)b=0;this.m_value=b;this.m_max=this.m_min=null;this.m_maxIsInclusive=this.m_minIsInclusive=true;this.m_maxIsSet=this.m_minIsSet=false;this.m_lastFailureType=D2L.Validation.NumberFailureType.None},IntegrateControlMin:function(b){this.m_value=b.GetMember();this.m_min=b.GetMember();this.m_max=b.GetMember();this.m_minIsSet=b.GetBoolean();this.m_maxIsSet=b.GetBoolean();
this.m_minIsInclusive=b.GetBoolean();this.m_maxIsInclusive=b.GetBoolean()},GetFailureText:function(){if(this.m_lastFailureType==D2L.Validation.NumberFailureType.NaN)return new D2L.LP.Text.LangTerm("Framework.Validation.DecimalInvalid");else if(this.m_lastFailureType==D2L.Validation.NumberFailureType.NaNOutOfRange)return new D2L.LP.Text.LangTerm("Framework.Validation.DecimalInvalidRange",D2L.Util.Decimal.Format(D2L.Util.Decimal.MinValue),D2L.Util.Decimal.Format(D2L.Util.Decimal.MaxValue));var b=undefined,
c=undefined,e;if(this.m_minIsSet&&this.m_maxIsSet){b=this.m_min;if(b!=undefined)b=D2L.Util.Decimal.Format(b);c=this.m_max;if(c!=undefined)c=D2L.Util.Decimal.Format(c);e=this.m_minIsInclusive&&this.m_maxIsInclusive?new D2L.LP.Text.LangTerm("Framework.Validation.NumberBetweenBothInclusive",b,c):this.m_minIsInclusive?new D2L.LP.Text.LangTerm("Framework.Validation.NumberBetweenMinInclusive",b,c):this.m_maxIsInclusive?new D2L.LP.Text.LangTerm("Framework.Validation.NumberBetweenMaxInclusive",b,c):new D2L.LP.Text.LangTerm("Framework.Validation.NumberBetweenNoneInclusive",
b,c)}else if(this.m_minIsSet){b=this.m_min;if(b!=undefined)b=D2L.Util.Decimal.Format(b);e=this.m_minIsInclusive?new D2L.LP.Text.LangTerm("Framework.Validation.NumberHigherInclusive",b):new D2L.LP.Text.LangTerm("Framework.Validation.NumberHigher",b)}else if(this.m_maxIsSet){b=this.m_max;if(b!=undefined)b=D2L.Util.Decimal.Format(b);e=this.m_maxIsInclusive?new D2L.LP.Text.LangTerm("Framework.Validation.NumberLowerInclusive",b):new D2L.LP.Text.LangTerm("Framework.Validation.NumberLower",b)}return e},
GetMax:function(){return this.m_max},GetMin:function(){return this.m_min},GetMaxIsInclusive:function(){return this.m_maxIsInclusive},GetMinIsInclusive:function(){return this.m_minIsInclusive},GetValue:function(){return this.m_value},SetMax:function(b){this.m_max=b;this.m_maxIsSet=true},SetMin:function(b){this.m_min=b;this.m_minIsSet=true},SetMaxIsInclusive:function(b){this.m_maxIsInclusive=b},SetMinIsInclusive:function(b){this.m_minIsInclusive=b},SetValue:function(b){this.m_value=b},Validate:function(b){if(b===
undefined)b=this.m_value;this.m_lastFailureType=D2L.Validation.NumberFailureType.None;if(b.isString){if(b.length===0)return true;try{b=D2L.Util.Decimal.Parse(b)}catch(c){this.m_lastFailureType=D2L.Validation.NumberFailureType.NaN;return false}}if(isNaN(b)){this.m_lastFailureType=D2L.Validation.NumberFailureType.NaN;return false}if(this.m_minIsSet)if(this.GetMinIsInclusive()){if(b<this.GetMin()){this.m_lastFailureType=D2L.Validation.NumberFailureType.LTE;return false}}else if(b<=this.GetMin()){this.m_lastFailureType=
D2L.Validation.NumberFailureType.LT;return false}if(b<D2L.Util.Decimal.MinValue){this.m_lastFailureType=D2L.Validation.NumberFailureType.NaNOutOfRange;return false}if(this.m_maxIsSet)if(this.GetMaxIsInclusive()){if(b>this.GetMax()){this.m_lastFailureType=D2L.Validation.NumberFailureType.GTE;return false}}else if(b>=this.GetMax()){this.m_lastFailureType=D2L.Validation.NumberFailureType.GT;return false}if(b>D2L.Util.Decimal.MaxValue){this.m_lastFailureType=D2L.Validation.NumberFailureType.NaNOutOfRange;
return false}return true},ValidateObject:function(b){var c=new D2L.Util.DelayedReturn,e=this;b.GetValue().Register(function(f){c.Trigger(e.Validate(D2L.Util.Decimal.Parse(f)))});return c},ValidateObjectNoDelay:function(b){return this.Validate(b.GetValueNoDelay())}});D2L.Control.ValidatorDecimal=D2L.Validation.DecimalValidator;
D2L.Validation.EmailValidator=D2L.Validation.StringValidator.extend({Construct:function(b){arguments.callee.$.Construct.call(this,b);this.SetRegex(D2L.Util.Email.GetValidityRegex());this.SetRegexFailureText(new D2L.LP.Text.LangTerm("Framework.Validation.EmailInvalid"))}});D2L.Control.ValidatorEmail=D2L.Validation.EmailValidator;
D2L.Validation.FileNameValidator=D2L.Validation.StringValidator.extend({Construct:function(b){arguments.callee.$.Construct.call(this,b);this.SetRestrictLength(true);this.SetRegex(new RegExp(D2L.Files.ValidFileNameNoMaxCharactersRegex));this.SetRegexFailureText(new D2L.LP.Text.LangTerm("Framework.Validation.FileNameInvalid",D2L.Files.InvalidFileNameCharacters));this.m_validExtensions=null;this.m_reservedFilenames=["con","prn","aux","nul","com1","com2","com3","com4","com5","com6","com7","com8","com9",
"lpt1","lpt2","lpt3","lpt4","lpt5","lpt6","lpt7","lpt8","lpt9","clock$"]},SetValidExtensions:function(b){this.m_validExtensions=b},SetRestrictLength:function(b){b?this.SetMaxCharacters(D2L.Files.MaxFileNameCharacters):this.SetMaxCharacters(0)},Validate:function(b){b=b.trim();if(!arguments.callee.$.Validate.call(this,b))return false;var c=b.toLowerCase(),e=b.indexOf(".");if(e>0)c=b.substring(0,e).toLowerCase();for(e=0;e<this.m_reservedFilenames.length;e++)if(this.m_reservedFilenames[e]==c){this.m_failureText=
new D2L.LP.Text.LangTerm("Framework.Validation.FileNameReserved");return false}c="";e=b.lastIndexOf(".");if(e>-1&&e!=b.length-1)c=b.substr(e+1).toLowerCase();var f=D2L.Files.RestrictedExtensions;for(e=0;e<f.length;e++)if(c==f[e]){this.m_failureText=new D2L.LP.Text.LangTerm("Framework.Validation.FileSetRestrictedExtension");return false}if(this.m_validExtensions!==null&&this.m_validExtensions.length>0){f=false;for(e=0;e<this.m_validExtensions.length;e++)if(c==this.m_validExtensions[e]){f=true;break}if(!f){this.m_failureText=
new D2L.LP.Text.LangTerm("Framework.Validation.FileSetInvalidExtension",this.m_validExtensions.join(", "));return false}}return true}});D2L.Control.ValidatorFileName=D2L.Validation.FileNameValidator;
D2L.Validation.FileSetValidator=D2L.Validation.IValidator.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_totalFileSize=this.m_maxTotalFileSize=0;this.m_fileNames=[];this.m_failureText=null;this.m_truncateFileNames=false;this.m_filenameValidator=new D2L.Validation.FileNameValidator;this.m_filenameValidator.SetRestrictLength(false)},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);this.m_maxTotalFileSize=b.GetMember();b.HasMember()&&this.m_filenameValidator.SetValidExtensions(b.GetMember())},
GetFailureText:function(){return this.m_failureText},GetMaxTotalFileSize:function(){return this.m_maxTotalFileSize},GetTotalFileSize:function(){return this.m_totalFileSize},SetMaxTotalFileSize:function(b){this.m_maxTotalFileSize=b},SetTotalFileSize:function(b){this.m_totalFileSize=b},ValidateObject:function(b){b.SetValidationFailureIndex&&b.SetValidationFailureIndex(-1);b.GetMaxTotalFileSize&&this.SetMaxTotalFileSize(b.GetMaxTotalFileSize());b.GetTotalFileSize&&this.SetTotalFileSize(b.GetTotalFileSize());
if(b.GetFileNames)this.m_fileNames=b.GetFileNames();if(this.m_maxTotalFileSize>0&&this.m_totalFileSize>this.m_maxTotalFileSize){this.m_failureText=new D2L.LP.Text.LangTerm("Framework.Validation.FileSetMaxTotalFileSizeExceeded",Culture.FormatFileSize(this.m_maxTotalFileSize));return new D2L.Util.DelayedReturn(false)}var c=this,e=0,f=function(){if(c.m_fileNames.length===e)return new D2L.Util.DelayedReturn(true);var h=c.m_fileNames[e];if(h.length===0)return f(++e);if(!c.m_filenameValidator.Validate(h)){c.m_failureText=
c.m_filenameValidator.GetFailureText();return new D2L.Util.DelayedReturn(false)}if(h.length>D2L.Files.MaxFileNameCharacters&&!c.m_truncateFileNames){var k=new D2L.Util.DelayedReturn;UI.Confirm(function(j){if(j.GetType()==D2L.Dialog.ResponseType.Positive){c.m_truncateFileNames=true;k.Trigger(f(++e))}else{c.m_failureText=new D2L.LP.Text.LangTerm("Framework.Validation.FileSetFileNameTooLong",D2L.Files.MaxFileNameCharacters);k.Trigger(false)}},new D2L.LP.Text.LangTerm("Framework.Validation.FileSetFileNameTooLong1",
D2L.Files.MaxFileNameCharacters),new D2L.LP.Text.LangTerm("Framework.Validation.FileSetFileNameTooLong2"));return k}else return f(++e)},g=f(e);g.Register(function(h){h||b.SetValidationFailureIndex(e)});return g}});D2L.Control.ValidatorFileSet=D2L.Validation.FileSetValidator;
D2L.Validation.FolderNameValidator=D2L.Validation.StringValidator.extend({Construct:function(b){arguments.callee.$.Construct.call(this,b);this.SetMaxCharacters(D2L.Files.MaxDirectoryNameCharacters);this.SetRegex(new RegExp(D2L.Files.ValidDirectoryNameRegex));this.SetRegexFailureText(new D2L.LP.Text.LangTerm("Framework.Validation.FolderNameInvalid",D2L.Files.InvalidDirectoryNameCharacters));this.m_reservedFoldernames=["con","prn","aux","nul","com1","com2","com3","com4","com5","com6","com7","com8",
"com9","lpt1","lpt2","lpt3","lpt4","lpt5","lpt6","lpt7","lpt8","lpt9","clock$"]},Validate:function(b){b=b.trim();if(!arguments.callee.$.Validate.call(this,b))return false;for(var c=b.toLowerCase(),e=0;e<this.m_reservedFoldernames.length;e++)if(this.m_reservedFoldernames[e]==c){this.m_failureText=new D2L.LP.Text.LangTerm("Framework.Validation.FolderNameReserved");return false}return true}});D2L.Control.ValidatorFolderName=D2L.Validation.FolderNameValidator;
D2L.Validation.Group=D2L.Class.extend({Construct:function(b){if(b===undefined)b="";arguments.callee.$.Construct.call(this);this.m_controls=[];this.m_isEnabled=true;this.m_name=b},DeserializeMin:function(b){this.m_name=b.GetMember().toLowerCase();this.m_controls=b.GetObjectArrayMin(D2L.Validation.ValidationControlInfo)},GetName:function(){return this.m_name},IsEnabled:function(){return this.m_isEnabled},SetIsEnabled:function(b){this.m_isEnabled=b},Validate:function(b){return UI.GetValidationManager().Validate(this.GetName(),
b)}});
D2L.Validation.Int64Validator=D2L.Validation.IValidator.extend({Construct:function(b){arguments.callee.$.Construct.call(this);if(b===undefined)b=0;this.m_value=b;this.m_is64Bit=true;this.m_max=this.m_min=null;this.m_maxIsInclusive=this.m_minIsInclusive=true;this.m_maxIsSet=this.m_minIsSet=false;this.m_lastFailureType=D2L.Validation.NumberFailureType.None},IntegrateControlMin:function(b){this.m_min=b.GetMember();this.m_max=b.GetMember();this.m_minIsSet=b.GetBoolean();this.m_maxIsSet=b.GetBoolean();this.m_minIsInclusive=
b.GetBoolean();this.m_maxIsInclusive=b.GetBoolean()},GetFailureText:function(){if(this.m_lastFailureType==D2L.Validation.NumberFailureType.NaN)return new D2L.LP.Text.LangTerm("Framework.Validation.IntegerInvalid");else if(this.m_lastFailureType==D2L.Validation.NumberFailureType.NaNOutOfRange)return this.m_is64Bit?new D2L.LP.Text.LangTerm("Framework.Validation.IntegerInvalid64",D2L.Util.Integer.Format(D2L.Util.Integer.MinValue64),D2L.Util.Integer.Format(D2L.Util.Integer.MaxValue64)):new D2L.LP.Text.LangTerm("Framework.Validation.IntegerInvalid32",
D2L.Util.Integer.Format(D2L.Util.Integer.MinValue32),D2L.Util.Integer.Format(D2L.Util.Integer.MaxValue32));var b=undefined,c=undefined,e;if(this.m_minIsSet&&this.m_maxIsSet){b=this.m_min;if(b!=undefined)b=D2L.Util.Integer.Format(b);c=this.m_max;if(c!=undefined)c=D2L.Util.Integer.Format(c);e=this.m_minIsInclusive&&this.m_maxIsInclusive?new D2L.LP.Text.LangTerm("Framework.Validation.NumberBetweenBothInclusive",b,c):this.m_minIsInclusive?new D2L.LP.Text.LangTerm("Framework.Validation.NumberBetweenMinInclusive",
b,c):this.m_maxIsInclusive?new D2L.LP.Text.LangTerm("Framework.Validation.NumberBetweenMaxInclusive",b,c):new D2L.LP.Text.LangTerm("Framework.Validation.NumberBetweenNoneInclusive",b,c)}else if(this.m_minIsSet){b=this.m_min;if(b!=undefined)b=D2L.Util.Integer.Format(b);e=this.m_minIsInclusive?new D2L.LP.Text.LangTerm("Framework.Validation.NumberHigherInclusive",b):new D2L.LP.Text.LangTerm("Framework.Validation.NumberHigher",b)}else if(this.m_maxIsSet){b=this.m_max;if(b!=undefined)b=D2L.Util.Integer.Format(b);
e=this.m_maxIsInclusive?new D2L.LP.Text.LangTerm("Framework.Validation.NumberLowerInclusive",b):new D2L.LP.Text.LangTerm("Framework.Validation.NumberLower",b)}return e},GetMax:function(){return this.m_max},GetMin:function(){return this.m_min},GetMaxIsInclusive:function(){return this.m_maxIsInclusive},GetMinIsInclusive:function(){return this.m_minIsInclusive},GetValue:function(){return this.m_value},SetMax:function(b){this.m_max=b;this.m_maxIsSet=true},SetMin:function(b){this.m_min=b;this.m_minIsSet=
true},SetMaxIsInclusive:function(b){this.m_maxIsInclusive=b},SetMinIsInclusive:function(b){this.m_minIsInclusive=b},SetValue:function(b){this.m_value=b},Validate:function(b){if(b===undefined)b=this.m_value;this.m_lastFailureType=D2L.Validation.NumberFailureType.None;if(b.isString){if(b.length===0)return true;try{b=D2L.Util.Integer.Parse(b)}catch(c){this.m_lastFailureType=D2L.Validation.NumberFailureType.NaN;return false}}if(isNaN(b)){this.m_lastFailureType=D2L.Validation.NumberFailureType.NaN;return false}if(this.m_minIsSet)if(this.GetMinIsInclusive()){if(b<
this.GetMin()){this.m_lastFailureType=D2L.Validation.NumberFailureType.LTE;return false}}else if(b<=this.GetMin()){this.m_lastFailureType=D2L.Validation.NumberFailureType.LT;return false}if(!this.m_is64Bit&&b<D2L.Util.Integer.MinValue32||this.m_is64Bit&&b<D2L.Util.Integer.MinValue64){this.m_lastFailureType=D2L.Validation.NumberFailureType.NaNOutOfRange;return false}if(this.m_maxIsSet)if(this.GetMaxIsInclusive()){if(b>this.GetMax()){this.m_lastFailureType=D2L.Validation.NumberFailureType.GTE;return false}}else if(b>=
this.GetMax()){this.m_lastFailureType=D2L.Validation.NumberFailureType.GT;return false}if(!this.m_is64Bit&&b>D2L.Util.Integer.MaxValue32||this.m_is64Bit&&b>D2L.Util.Integer.MaxValue64){this.m_lastFailureType=D2L.Validation.NumberFailureType.NaNOutOfRange;return false}return true},ValidateObject:function(b){var c=new D2L.Util.DelayedReturn,e=this;b.GetValue().Register(function(f){c.Trigger(e.Validate(D2L.Util.Integer.Parse(f)))});return c},ValidateObjectNoDelay:function(b){return this.Validate(b.GetValueNoDelay())}});
D2L.Control.ValidatorInt64=D2L.Validation.Int64Validator;D2L.Validation.Int32Validator=D2L.Validation.Int64Validator.extend({Construct:function(b){arguments.callee.$.Construct.call(this,b);this.m_is64Bit=false}});D2L.Control.ValidatorInt32=D2L.Validation.Int32Validator;
D2L.Validation.Manager=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.m_groups=[];this.m_groupLessControls=[];this.m_isValidating=false},DeserializeMin:function(b){this.m_groups=b.GetObjectArrayMin(D2L.Validation.Group)},GetControlInfo:function(b,c){for(var e=null,f=0;f<this.m_groups.length;f++)for(var g=0;g<this.m_groups[f].m_controls.length;g++)if(this.m_groups[f].m_controls[g].ControlId.ID()==b.ID()&&this.m_groups[f].m_controls[g].ControlId.SID()==b.SID()){e=
this.m_groups[f].m_controls[g];break}if(e===null){e=new D2L.Validation.ValidationControlInfo;e.ControlId=b;this.m_groupLessControls.push(e);c&&this.SetControlValidationGroup(b,"action")}return e},SetControlValidator:function(b,c){this.GetControlInfo(b,true).ValidatorControlId=c},SetControlSubject:function(b,c){if(c===undefined||c===null)c="";this.GetControlInfo(b).Subject=c},SetControlValidationGroup:function(b,c){c=c.toLowerCase();for(var e=null,f=0;f<this.m_groups.length;f++)for(var g=0;g<this.m_groups[f].m_controls.length;g++)if(this.m_groups[f].m_controls[g].ControlId.ID()==
b.ID()&&this.m_groups[f].m_controls[g].ControlId.SID()==b.SID()){e=this.m_groups[f].m_controls[g];this.m_groups[f].m_controls.splice(g,1);break}for(f=0;f<this.m_groupLessControls.length;f++)if(this.m_groupLessControls[f].ControlId.ID()==b.ID()&&this.m_groupLessControls[f].ControlId.SID()==b.SID()){e=this.m_groupLessControls[f];this.m_groupLessControls.splice(f,1);break}if(e===null){e=new D2L.Validation.ValidationControlInfo;e.ControlId=b}this.GetGroup(c,true).m_controls.push(e)},GetGroup:function(b,
c){if(c===undefined)c=false;b=b.toLowerCase();for(var e=0;e<this.m_groups.length;e++)if(this.m_groups[e].GetName()==b)return this.m_groups[e];if(c){b=new D2L.Validation.Group(b);this.m_groups.push(b);return b}return null},Validate:function(b,c){D2L.Util.JavaScript.IsArray(b)||(b=[b]);for(var e={},f=[],g=0;g<b.length;g++){var h=this.GetGroup(b[g]);if(h!==null&&h.IsEnabled())for(var k=0;k<h.m_controls.length;k++){var j=h.m_controls[k].ControlId.ID()+"_"+h.m_controls[k].ControlId.SID();if(e[j]===undefined){e[j]=
true;f.push(h.m_controls[k])}}}return this.ValidateControls(f,c)},ValidateControls:function(b,c){if(b.length===0)return new D2L.Util.DelayedReturn(true);if(this.m_isValidating)return new D2L.Util.DelayedReturn(false);this.m_isValidating=true;if(c===undefined)c=false;var e=new D2L.Util.DelayedReturn,f=true,g=this,h=function(l){g.m_isValidating=false;e.Trigger(l)},k=function(l,o,p,r){o.m_passed=r;if(!r){f=false;if(!c){WindowEventManager.BubbleExpandEvent(p.GetDomNode(),null);o=o.GetFailureText();if(o!==
null){o.SetSubject(l.Subject);UI.GetMessageArea().AddError(o,p)}}}},j=function(l){if(l==b.length)!f&&!c?setTimeout(function(){UI.GetMessageArea().ShowErrors(true).Register(function(){h(false)})}):h(f);else{var o=b[l],p=UI.GetControl(o.ValidatorControlId.ID(),o.ValidatorControlId.SID()),r=UI.GetControl(o.ControlId.ID(),o.ControlId.SID());if((r.Validate!==undefined||r.IsInDom())&&(r.IsEnabled===undefined||r.IsEnabled())){var s=null;s=p.CanValidateNoDelay(r)?p.ValidateObjectNoDelay(r):p.ValidateObject(r);
if(D2L.Util.IsDelayedReturn(s))s.Register(function(v){k(o,p,r,v);j(++l)});else{k(o,p,r,s);j(++l)}}else j(++l)}};UI.GetMessageArea().Reset().Register(function(){j(0)});return e},ValidateGroup:function(b,c){UI.GetMessageArea().AddWarningMessage(new D2L.LP.Text.SmlText("ValidationManager.ValidateGroup('[0]') is deprecated, use Validate() instead.",b),false);if(c===undefined)c=false;var e=[];b=this.GetGroup(b);if(b===null||!b.IsEnabled())return true;e=b.m_controls;var f=true;if(e.length===0)return true;
if(this.m_isValidating)return false;this.m_isValidating=true;var g=UI.GetMessageArea().Reset(),h=this,k=function(l,o,p,r){o.m_passed=r;if(!r){f=false;if(!c){WindowEventManager.BubbleExpandEvent(p.GetDomNode(),null);var s=o.GetFailureText();s!==null&&s.SetSubject(l.Subject);g.Register(function(){UI.GetMessageArea().AddError(s,p)})}}},j=function(l){if(l==e.length)if(f){h.m_isValidating=false;return true}else{c||g.Register(function(){UI.GetMessageArea().ShowErrors(true).Register(function(){h.m_isValidating=
false})});return false}else{var o=e[l],p=UI.GetControl(o.ValidatorControlId.ID(),o.ValidatorControlId.SID()),r=UI.GetControl(o.ControlId.ID(),o.ControlId.SID());if(r.IsEnabled===undefined||r.IsEnabled()){var s=p.ValidateObjectNoDelay(r);k(o,p,r,s);return j(++l)&&s}else return j(++l)}};return j(0)}});
D2L.Validation.RegexValidator=D2L.Validation.StringValidator.extend({Construct:function(b){arguments.callee.$.Construct.call(this,b)},IntegrateControlMin:function(b){if(b.HasMember()){this.SetRegex(new RegExp(b.GetMember()));this.SetRegexFailureText(b.GetObject(D2L.LP.Text.IText))}arguments.callee.$.IntegrateControlMin.call(this,b)}});D2L.Control.ValidatorRegex=D2L.Validation.RegexValidator;
D2L.Validation.RequiredValidator=D2L.Validation.IValidator.extend({Construct:function(b){arguments.callee.$.Construct.call(this);this.m_value=b;this.m_failureTerm=null},IntegrateControlMin:function(b){arguments.callee.$.IntegrateControlMin.call(this,b);if(b.HasMember())this.m_failureTerm=new D2L.LP.Text.LangTerm(b.GetMember())},GetFailureText:function(){return this.m_failureTerm===null?new D2L.LP.Text.LangTerm("Framework.Validation.Required"):this.m_failureTerm},GetValue:function(){return this.m_value},
SetValue:function(b){this.m_value=b},Validate:function(b){if(b===undefined)b=this.GetValue();if(b===undefined||b===null)return false;if(b.isString)return b.trim().length>0;return true},ValidateObject:function(b){var c=new D2L.Util.DelayedReturn;b.HasValue().Register(function(e){c.Trigger(e)});return c},ValidateObjectNoDelay:function(b){return b.HasValueNoDelay()}});D2L.Control.ValidatorRequired=D2L.Validation.RequiredValidator;
D2L.Validation.ValidationControlInfo=D2L.Class.extend({Construct:function(){arguments.callee.$.Construct.call(this);this.ValidatorControlId=this.ControlId=null;this.Subject="";this.IsEnablerTargetItem=false},DeserializeMin:function(b){this.ControlId=b.GetObjectMin(D2L.Control.Id);this.ValidatorControlId=b.GetObjectMin(D2L.Control.Id);this.Subject=b.GetMember();this.IsEnablerTargetItem=b.GetBoolean()}});/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
if(typeof YAHOO=="undefined"||!YAHOO){var YAHOO={};}YAHOO.namespace=function(){var A=arguments,E=null,C,B,D;for(C=0;C<A.length;C=C+1){D=(""+A[C]).split(".");E=YAHOO;for(B=(D[0]=="YAHOO")?1:0;B<D.length;B=B+1){E[D[B]]=E[D[B]]||{};E=E[D[B]];}}return E;};YAHOO.log=function(D,A,C){var B=YAHOO.widget.Logger;if(B&&B.log){return B.log(D,A,C);}else{return false;}};YAHOO.register=function(A,E,D){var I=YAHOO.env.modules,B,H,G,F,C;if(!I[A]){I[A]={versions:[],builds:[]};}B=I[A];H=D.version;G=D.build;F=YAHOO.env.listeners;B.name=A;B.version=H;B.build=G;B.versions.push(H);B.builds.push(G);B.mainClass=E;for(C=0;C<F.length;C=C+1){F[C](B);}if(E){E.VERSION=H;E.BUILD=G;}else{YAHOO.log("mainClass is undefined for module "+A,"warn");}};YAHOO.env=YAHOO.env||{modules:[],listeners:[]};YAHOO.env.getVersion=function(A){return YAHOO.env.modules[A]||null;};YAHOO.env.ua=function(){var C={ie:0,opera:0,gecko:0,webkit:0,mobile:null,air:0,caja:0},B=navigator.userAgent,A;if((/KHTML/).test(B)){C.webkit=1;}A=B.match(/AppleWebKit\/([^\s]*)/);if(A&&A[1]){C.webkit=parseFloat(A[1]);if(/ Mobile\//.test(B)){C.mobile="Apple";}else{A=B.match(/NokiaN[^\/]*/);if(A){C.mobile=A[0];}}A=B.match(/AdobeAIR\/([^\s]*)/);if(A){C.air=A[0];}}if(!C.webkit){A=B.match(/Opera[\s\/]([^\s]*)/);if(A&&A[1]){C.opera=parseFloat(A[1]);A=B.match(/Opera Mini[^;]*/);if(A){C.mobile=A[0];}}else{A=B.match(/MSIE\s([^;]*)/);if(A&&A[1]){C.ie=parseFloat(A[1]);}else{A=B.match(/Gecko\/([^\s]*)/);if(A){C.gecko=1;A=B.match(/rv:([^\s\)]*)/);if(A&&A[1]){C.gecko=parseFloat(A[1]);}}}}}A=B.match(/Caja\/([^\s]*)/);if(A&&A[1]){C.caja=parseFloat(A[1]);}return C;}();(function(){YAHOO.namespace("util","widget","example");if("undefined"!==typeof YAHOO_config){var B=YAHOO_config.listener,A=YAHOO.env.listeners,D=true,C;if(B){for(C=0;C<A.length;C=C+1){if(A[C]==B){D=false;break;}}if(D){A.push(B);}}}})();YAHOO.lang=YAHOO.lang||{};(function(){var B=YAHOO.lang,F="[object Array]",C="[object Function]",A=Object.prototype,E=["toString","valueOf"],D={isArray:function(G){return A.toString.apply(G)===F;},isBoolean:function(G){return typeof G==="boolean";},isFunction:function(G){return A.toString.apply(G)===C;},isNull:function(G){return G===null;},isNumber:function(G){return typeof G==="number"&&isFinite(G);},isObject:function(G){return(G&&(typeof G==="object"||B.isFunction(G)))||false;},isString:function(G){return typeof G==="string";},isUndefined:function(G){return typeof G==="undefined";},_IEEnumFix:(YAHOO.env.ua.ie)?function(I,H){var G,K,J;for(G=0;G<E.length;G=G+1){K=E[G];J=H[K];if(B.isFunction(J)&&J!=A[K]){I[K]=J;}}}:function(){},extend:function(J,K,I){if(!K||!J){throw new Error("extend failed, please check that "+"all dependencies are included.");}var H=function(){},G;H.prototype=K.prototype;J.prototype=new H();J.prototype.constructor=J;J.superclass=K.prototype;if(K.prototype.constructor==A.constructor){K.prototype.constructor=K;}if(I){for(G in I){if(B.hasOwnProperty(I,G)){J.prototype[G]=I[G];}}B._IEEnumFix(J.prototype,I);}},augmentObject:function(K,J){if(!J||!K){throw new Error("Absorb failed, verify dependencies.");}var G=arguments,I,L,H=G[2];if(H&&H!==true){for(I=2;I<G.length;I=I+1){K[G[I]]=J[G[I]];}}else{for(L in J){if(H||!(L in K)){K[L]=J[L];}}B._IEEnumFix(K,J);}},augmentProto:function(J,I){if(!I||!J){throw new Error("Augment failed, verify dependencies.");}var G=[J.prototype,I.prototype],H;for(H=2;H<arguments.length;H=H+1){G.push(arguments[H]);}B.augmentObject.apply(this,G);},dump:function(G,L){var I,K,N=[],O="{...}",H="f(){...}",M=", ",J=" => ";if(!B.isObject(G)){return G+"";}else{if(G instanceof Date||("nodeType" in G&&"tagName" in G)){return G;}else{if(B.isFunction(G)){return H;}}}L=(B.isNumber(L))?L:3;if(B.isArray(G)){N.push("[");for(I=0,K=G.length;I<K;I=I+1){if(B.isObject(G[I])){N.push((L>0)?B.dump(G[I],L-1):O);}else{N.push(G[I]);}N.push(M);}if(N.length>1){N.pop();}N.push("]");}else{N.push("{");for(I in G){if(B.hasOwnProperty(G,I)){N.push(I+J);if(B.isObject(G[I])){N.push((L>0)?B.dump(G[I],L-1):O);}else{N.push(G[I]);}N.push(M);}}if(N.length>1){N.pop();}N.push("}");}return N.join("");},substitute:function(V,H,O){var L,K,J,R,S,U,Q=[],I,M="dump",P=" ",G="{",T="}",N;for(;;){L=V.lastIndexOf(G);if(L<0){break;}K=V.indexOf(T,L);if(L+1>=K){break;}I=V.substring(L+1,K);R=I;U=null;J=R.indexOf(P);if(J>-1){U=R.substring(J+1);R=R.substring(0,J);}S=H[R];if(O){S=O(R,S,U);}if(B.isObject(S)){if(B.isArray(S)){S=B.dump(S,parseInt(U,10));}else{U=U||"";N=U.indexOf(M);if(N>-1){U=U.substring(4);}if(S.toString===A.toString||N>-1){S=B.dump(S,parseInt(U,10));}else{S=S.toString();}}}else{if(!B.isString(S)&&!B.isNumber(S)){S="~-"+Q.length+"-~";Q[Q.length]=I;}}V=V.substring(0,L)+S+V.substring(K+1);}for(L=Q.length-1;L>=0;L=L-1){V=V.replace(new RegExp("~-"+L+"-~"),"{"+Q[L]+"}","g");}return V;},trim:function(G){try{return G.replace(/^\s+|\s+$/g,"");}catch(H){return G;}},merge:function(){var J={},H=arguments,G=H.length,I;for(I=0;I<G;I=I+1){B.augmentObject(J,H[I],true);}return J;},later:function(N,H,O,J,K){N=N||0;H=H||{};var I=O,M=J,L,G;if(B.isString(O)){I=H[O];}if(!I){throw new TypeError("method undefined");}if(!B.isArray(M)){M=[J];}L=function(){I.apply(H,M);};G=(K)?setInterval(L,N):setTimeout(L,N);return{interval:K,cancel:function(){if(this.interval){clearInterval(G);}else{clearTimeout(G);}}};},isValue:function(G){return(B.isObject(G)||B.isString(G)||B.isNumber(G)||B.isBoolean(G));}};B.hasOwnProperty=(A.hasOwnProperty)?function(G,H){return G&&G.hasOwnProperty(H);}:function(G,H){return !B.isUndefined(G[H])&&G.constructor.prototype[H]!==G[H];};D.augmentObject(B,D,true);YAHOO.util.Lang=B;B.augment=B.augmentProto;YAHOO.augment=B.augmentProto;YAHOO.extend=B.extend;})();YAHOO.register("yahoo",YAHOO,{version:"2.7.0",build:"1799"});/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
(function(){YAHOO.env._id_counter=YAHOO.env._id_counter||0;var E=YAHOO.util,L=YAHOO.lang,m=YAHOO.env.ua,A=YAHOO.lang.trim,d={},h={},N=/^t(?:able|d|h)$/i,X=/color$/i,K=window.document,W=K.documentElement,e="ownerDocument",n="defaultView",v="documentElement",t="compatMode",b="offsetLeft",P="offsetTop",u="offsetParent",Z="parentNode",l="nodeType",C="tagName",O="scrollLeft",i="scrollTop",Q="getBoundingClientRect",w="getComputedStyle",a="currentStyle",M="CSS1Compat",c="BackCompat",g="class",F="className",J="",B=" ",s="(?:^|\\s)",k="(?= |$)",U="g",p="position",f="fixed",V="relative",j="left",o="top",r="medium",q="borderLeftWidth",R="borderTopWidth",D=m.opera,I=m.webkit,H=m.gecko,T=m.ie;E.Dom={CUSTOM_ATTRIBUTES:(!W.hasAttribute)?{"for":"htmlFor","class":F}:{"htmlFor":"for","className":g},get:function(y){var AA,Y,z,x,G;if(y){if(y[l]||y.item){return y;}if(typeof y==="string"){AA=y;y=K.getElementById(y);if(y&&y.id===AA){return y;}else{if(y&&K.all){y=null;Y=K.all[AA];for(x=0,G=Y.length;x<G;++x){if(Y[x].id===AA){return Y[x];}}}}return y;}if(y.DOM_EVENTS){y=y.get("element");}if("length" in y){z=[];for(x=0,G=y.length;x<G;++x){z[z.length]=E.Dom.get(y[x]);}return z;}return y;}return null;},getComputedStyle:function(G,Y){if(window[w]){return G[e][n][w](G,null)[Y];}else{if(G[a]){return E.Dom.IE_ComputedStyle.get(G,Y);}}},getStyle:function(G,Y){return E.Dom.batch(G,E.Dom._getStyle,Y);},_getStyle:function(){if(window[w]){return function(G,y){y=(y==="float")?y="cssFloat":E.Dom._toCamel(y);var x=G.style[y],Y;if(!x){Y=G[e][n][w](G,null);if(Y){x=Y[y];}}return x;};}else{if(W[a]){return function(G,y){var x;switch(y){case"opacity":x=100;try{x=G.filters["DXImageTransform.Microsoft.Alpha"].opacity;}catch(z){try{x=G.filters("alpha").opacity;}catch(Y){}}return x/100;case"float":y="styleFloat";default:y=E.Dom._toCamel(y);x=G[a]?G[a][y]:null;return(G.style[y]||x);}};}}}(),setStyle:function(G,Y,x){E.Dom.batch(G,E.Dom._setStyle,{prop:Y,val:x});},_setStyle:function(){if(T){return function(Y,G){var x=E.Dom._toCamel(G.prop),y=G.val;if(Y){switch(x){case"opacity":if(L.isString(Y.style.filter)){Y.style.filter="alpha(opacity="+y*100+")";if(!Y[a]||!Y[a].hasLayout){Y.style.zoom=1;}}break;case"float":x="styleFloat";default:Y.style[x]=y;}}else{}};}else{return function(Y,G){var x=E.Dom._toCamel(G.prop),y=G.val;if(Y){if(x=="float"){x="cssFloat";}Y.style[x]=y;}else{}};}}(),getXY:function(G){return E.Dom.batch(G,E.Dom._getXY);},_canPosition:function(G){return(E.Dom._getStyle(G,"display")!=="none"&&E.Dom._inDoc(G));},_getXY:function(){if(K[v][Q]){return function(y){var z,Y,AA,AF,AE,AD,AC,G,x,AB=Math.floor,AG=false;if(E.Dom._canPosition(y)){AA=y[Q]();AF=y[e];z=E.Dom.getDocumentScrollLeft(AF);Y=E.Dom.getDocumentScrollTop(AF);AG=[AB(AA[j]),AB(AA[o])];if(T&&m.ie<8){AE=2;AD=2;AC=AF[t];G=S(AF[v],q);x=S(AF[v],R);if(m.ie===6){if(AC!==c){AE=0;AD=0;}}if((AC==c)){if(G!==r){AE=parseInt(G,10);}if(x!==r){AD=parseInt(x,10);}}AG[0]-=AE;AG[1]-=AD;}if((Y||z)){AG[0]+=z;AG[1]+=Y;}AG[0]=AB(AG[0]);AG[1]=AB(AG[1]);}else{}return AG;};}else{return function(y){var x,Y,AA,AB,AC,z=false,G=y;if(E.Dom._canPosition(y)){z=[y[b],y[P]];x=E.Dom.getDocumentScrollLeft(y[e]);Y=E.Dom.getDocumentScrollTop(y[e]);AC=((H||m.webkit>519)?true:false);while((G=G[u])){z[0]+=G[b];z[1]+=G[P];if(AC){z=E.Dom._calcBorders(G,z);}}if(E.Dom._getStyle(y,p)!==f){G=y;while((G=G[Z])&&G[C]){AA=G[i];AB=G[O];if(H&&(E.Dom._getStyle(G,"overflow")!=="visible")){z=E.Dom._calcBorders(G,z);}if(AA||AB){z[0]-=AB;z[1]-=AA;}}z[0]+=x;z[1]+=Y;}else{if(D){z[0]-=x;z[1]-=Y;}else{if(I||H){z[0]+=x;z[1]+=Y;}}}z[0]=Math.floor(z[0]);z[1]=Math.floor(z[1]);}else{}return z;};}}(),getX:function(G){var Y=function(x){return E.Dom.getXY(x)[0];};return E.Dom.batch(G,Y,E.Dom,true);},getY:function(G){var Y=function(x){return E.Dom.getXY(x)[1];};return E.Dom.batch(G,Y,E.Dom,true);},setXY:function(G,x,Y){E.Dom.batch(G,E.Dom._setXY,{pos:x,noRetry:Y});},_setXY:function(G,z){var AA=E.Dom._getStyle(G,p),y=E.Dom.setStyle,AD=z.pos,Y=z.noRetry,AB=[parseInt(E.Dom.getComputedStyle(G,j),10),parseInt(E.Dom.getComputedStyle(G,o),10)],AC,x;if(AA=="static"){AA=V;y(G,p,AA);}AC=E.Dom._getXY(G);if(!AD||AC===false){return false;}if(isNaN(AB[0])){AB[0]=(AA==V)?0:G[b];}if(isNaN(AB[1])){AB[1]=(AA==V)?0:G[P];}if(AD[0]!==null){y(G,j,AD[0]-AC[0]+AB[0]+"px");}if(AD[1]!==null){y(G,o,AD[1]-AC[1]+AB[1]+"px");}if(!Y){x=E.Dom._getXY(G);if((AD[0]!==null&&x[0]!=AD[0])||(AD[1]!==null&&x[1]!=AD[1])){E.Dom._setXY(G,{pos:AD,noRetry:true});}}},setX:function(Y,G){E.Dom.setXY(Y,[G,null]);},setY:function(G,Y){E.Dom.setXY(G,[null,Y]);},getRegion:function(G){var Y=function(x){var y=false;if(E.Dom._canPosition(x)){y=E.Region.getRegion(x);}else{}return y;};return E.Dom.batch(G,Y,E.Dom,true);},getClientWidth:function(){return E.Dom.getViewportWidth();},getClientHeight:function(){return E.Dom.getViewportHeight();},getElementsByClassName:function(AB,AF,AC,AE,x,AD){AB=L.trim(AB);AF=AF||"*";AC=(AC)?E.Dom.get(AC):null||K;if(!AC){return[];}var Y=[],G=AC.getElementsByTagName(AF),z=E.Dom.hasClass;for(var y=0,AA=G.length;y<AA;++y){if(z(G[y],AB)){Y[Y.length]=G[y];}}if(AE){E.Dom.batch(Y,AE,x,AD);}return Y;},hasClass:function(Y,G){return E.Dom.batch(Y,E.Dom._hasClass,G);},_hasClass:function(x,Y){var G=false,y;if(x&&Y){y=E.Dom.getAttribute(x,F)||J;if(Y.exec){G=Y.test(y);}else{G=Y&&(B+y+B).indexOf(B+Y+B)>-1;}}else{}return G;},addClass:function(Y,G){return E.Dom.batch(Y,E.Dom._addClass,G);},_addClass:function(x,Y){var G=false,y;if(x&&Y){y=E.Dom.getAttribute(x,F)||J;if(!E.Dom._hasClass(x,Y)){E.Dom.setAttribute(x,F,A(y+B+Y));G=true;}}else{}return G;},removeClass:function(Y,G){return E.Dom.batch(Y,E.Dom._removeClass,G);},_removeClass:function(y,x){var Y=false,AA,z,G;if(y&&x){AA=E.Dom.getAttribute(y,F)||J;E.Dom.setAttribute(y,F,AA.replace(E.Dom._getClassRegex(x),J));z=E.Dom.getAttribute(y,F);if(AA!==z){E.Dom.setAttribute(y,F,A(z));Y=true;if(E.Dom.getAttribute(y,F)===""){G=(y.hasAttribute&&y.hasAttribute(g))?g:F;y.removeAttribute(G);}}}else{}return Y;},replaceClass:function(x,Y,G){return E.Dom.batch(x,E.Dom._replaceClass,{from:Y,to:G});
},_replaceClass:function(y,x){var Y,AB,AA,G=false,z;if(y&&x){AB=x.from;AA=x.to;if(!AA){G=false;}else{if(!AB){G=E.Dom._addClass(y,x.to);}else{if(AB!==AA){z=E.Dom.getAttribute(y,F)||J;Y=(B+z.replace(E.Dom._getClassRegex(AB),B+AA)).split(E.Dom._getClassRegex(AA));Y.splice(1,0,B+AA);E.Dom.setAttribute(y,F,A(Y.join(J)));G=true;}}}}else{}return G;},generateId:function(G,x){x=x||"yui-gen";var Y=function(y){if(y&&y.id){return y.id;}var z=x+YAHOO.env._id_counter++;if(y){if(y[e].getElementById(z)){return E.Dom.generateId(y,z+x);}y.id=z;}return z;};return E.Dom.batch(G,Y,E.Dom,true)||Y.apply(E.Dom,arguments);},isAncestor:function(Y,x){Y=E.Dom.get(Y);x=E.Dom.get(x);var G=false;if((Y&&x)&&(Y[l]&&x[l])){if(Y.contains&&Y!==x){G=Y.contains(x);}else{if(Y.compareDocumentPosition){G=!!(Y.compareDocumentPosition(x)&16);}}}else{}return G;},inDocument:function(G,Y){return E.Dom._inDoc(E.Dom.get(G),Y);},_inDoc:function(Y,x){var G=false;if(Y&&Y[C]){x=x||Y[e];G=E.Dom.isAncestor(x[v],Y);}else{}return G;},getElementsBy:function(Y,AF,AB,AD,y,AC,AE){AF=AF||"*";AB=(AB)?E.Dom.get(AB):null||K;if(!AB){return[];}var x=[],G=AB.getElementsByTagName(AF);for(var z=0,AA=G.length;z<AA;++z){if(Y(G[z])){if(AE){x=G[z];break;}else{x[x.length]=G[z];}}}if(AD){E.Dom.batch(x,AD,y,AC);}return x;},getElementBy:function(x,G,Y){return E.Dom.getElementsBy(x,G,Y,null,null,null,true);},batch:function(x,AB,AA,z){var y=[],Y=(z)?AA:window;x=(x&&(x[C]||x.item))?x:E.Dom.get(x);if(x&&AB){if(x[C]||x.length===undefined){return AB.call(Y,x,AA);}for(var G=0;G<x.length;++G){y[y.length]=AB.call(Y,x[G],AA);}}else{return false;}return y;},getDocumentHeight:function(){var Y=(K[t]!=M||I)?K.body.scrollHeight:W.scrollHeight,G=Math.max(Y,E.Dom.getViewportHeight());return G;},getDocumentWidth:function(){var Y=(K[t]!=M||I)?K.body.scrollWidth:W.scrollWidth,G=Math.max(Y,E.Dom.getViewportWidth());return G;},getViewportHeight:function(){var G=self.innerHeight,Y=K[t];if((Y||T)&&!D){G=(Y==M)?W.clientHeight:K.body.clientHeight;}return G;},getViewportWidth:function(){var G=self.innerWidth,Y=K[t];if(Y||T){G=(Y==M)?W.clientWidth:K.body.clientWidth;}return G;},getAncestorBy:function(G,Y){while((G=G[Z])){if(E.Dom._testElement(G,Y)){return G;}}return null;},getAncestorByClassName:function(Y,G){Y=E.Dom.get(Y);if(!Y){return null;}var x=function(y){return E.Dom.hasClass(y,G);};return E.Dom.getAncestorBy(Y,x);},getAncestorByTagName:function(Y,G){Y=E.Dom.get(Y);if(!Y){return null;}var x=function(y){return y[C]&&y[C].toUpperCase()==G.toUpperCase();};return E.Dom.getAncestorBy(Y,x);},getPreviousSiblingBy:function(G,Y){while(G){G=G.previousSibling;if(E.Dom._testElement(G,Y)){return G;}}return null;},getPreviousSibling:function(G){G=E.Dom.get(G);if(!G){return null;}return E.Dom.getPreviousSiblingBy(G);},getNextSiblingBy:function(G,Y){while(G){G=G.nextSibling;if(E.Dom._testElement(G,Y)){return G;}}return null;},getNextSibling:function(G){G=E.Dom.get(G);if(!G){return null;}return E.Dom.getNextSiblingBy(G);},getFirstChildBy:function(G,x){var Y=(E.Dom._testElement(G.firstChild,x))?G.firstChild:null;return Y||E.Dom.getNextSiblingBy(G.firstChild,x);},getFirstChild:function(G,Y){G=E.Dom.get(G);if(!G){return null;}return E.Dom.getFirstChildBy(G);},getLastChildBy:function(G,x){if(!G){return null;}var Y=(E.Dom._testElement(G.lastChild,x))?G.lastChild:null;return Y||E.Dom.getPreviousSiblingBy(G.lastChild,x);},getLastChild:function(G){G=E.Dom.get(G);return E.Dom.getLastChildBy(G);},getChildrenBy:function(Y,y){var x=E.Dom.getFirstChildBy(Y,y),G=x?[x]:[];E.Dom.getNextSiblingBy(x,function(z){if(!y||y(z)){G[G.length]=z;}return false;});return G;},getChildren:function(G){G=E.Dom.get(G);if(!G){}return E.Dom.getChildrenBy(G);},getDocumentScrollLeft:function(G){G=G||K;return Math.max(G[v].scrollLeft,G.body.scrollLeft);},getDocumentScrollTop:function(G){G=G||K;return Math.max(G[v].scrollTop,G.body.scrollTop);},insertBefore:function(Y,G){Y=E.Dom.get(Y);G=E.Dom.get(G);if(!Y||!G||!G[Z]){return null;}return G[Z].insertBefore(Y,G);},insertAfter:function(Y,G){Y=E.Dom.get(Y);G=E.Dom.get(G);if(!Y||!G||!G[Z]){return null;}if(G.nextSibling){return G[Z].insertBefore(Y,G.nextSibling);}else{return G[Z].appendChild(Y);}},getClientRegion:function(){var x=E.Dom.getDocumentScrollTop(),Y=E.Dom.getDocumentScrollLeft(),y=E.Dom.getViewportWidth()+Y,G=E.Dom.getViewportHeight()+x;return new E.Region(x,y,G,Y);},setAttribute:function(Y,G,x){G=E.Dom.CUSTOM_ATTRIBUTES[G]||G;Y.setAttribute(G,x);},getAttribute:function(Y,G){G=E.Dom.CUSTOM_ATTRIBUTES[G]||G;return Y.getAttribute(G);},_toCamel:function(Y){var x=d;function G(y,z){return z.toUpperCase();}return x[Y]||(x[Y]=Y.indexOf("-")===-1?Y:Y.replace(/-([a-z])/gi,G));},_getClassRegex:function(Y){var G;if(Y!==undefined){if(Y.exec){G=Y;}else{G=h[Y];if(!G){Y=Y.replace(E.Dom._patterns.CLASS_RE_TOKENS,"\\$1");G=h[Y]=new RegExp(s+Y+k,U);}}}return G;},_patterns:{ROOT_TAG:/^body|html$/i,CLASS_RE_TOKENS:/([\.\(\)\^\$\*\+\?\|\[\]\{\}])/g},_testElement:function(G,Y){return G&&G[l]==1&&(!Y||Y(G));},_calcBorders:function(x,y){var Y=parseInt(E.Dom[w](x,R),10)||0,G=parseInt(E.Dom[w](x,q),10)||0;if(H){if(N.test(x[C])){Y=0;G=0;}}y[0]+=G;y[1]+=Y;return y;}};var S=E.Dom[w];if(m.opera){E.Dom[w]=function(Y,G){var x=S(Y,G);if(X.test(G)){x=E.Dom.Color.toRGB(x);}return x;};}if(m.webkit){E.Dom[w]=function(Y,G){var x=S(Y,G);if(x==="rgba(0, 0, 0, 0)"){x="transparent";}return x;};}})();YAHOO.util.Region=function(C,D,A,B){this.top=C;this.y=C;this[1]=C;this.right=D;this.bottom=A;this.left=B;this.x=B;this[0]=B;this.width=this.right-this.left;this.height=this.bottom-this.top;};YAHOO.util.Region.prototype.contains=function(A){return(A.left>=this.left&&A.right<=this.right&&A.top>=this.top&&A.bottom<=this.bottom);};YAHOO.util.Region.prototype.getArea=function(){return((this.bottom-this.top)*(this.right-this.left));};YAHOO.util.Region.prototype.intersect=function(E){var C=Math.max(this.top,E.top),D=Math.min(this.right,E.right),A=Math.min(this.bottom,E.bottom),B=Math.max(this.left,E.left);if(A>=C&&D>=B){return new YAHOO.util.Region(C,D,A,B);
}else{return null;}};YAHOO.util.Region.prototype.union=function(E){var C=Math.min(this.top,E.top),D=Math.max(this.right,E.right),A=Math.max(this.bottom,E.bottom),B=Math.min(this.left,E.left);return new YAHOO.util.Region(C,D,A,B);};YAHOO.util.Region.prototype.toString=function(){return("Region {"+"top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+", height: "+this.height+", width: "+this.width+"}");};YAHOO.util.Region.getRegion=function(D){var F=YAHOO.util.Dom.getXY(D),C=F[1],E=F[0]+D.offsetWidth,A=F[1]+D.offsetHeight,B=F[0];return new YAHOO.util.Region(C,E,A,B);};YAHOO.util.Point=function(A,B){if(YAHOO.lang.isArray(A)){B=A[1];A=A[0];}YAHOO.util.Point.superclass.constructor.call(this,B,A,B,A);};YAHOO.extend(YAHOO.util.Point,YAHOO.util.Region);(function(){var B=YAHOO.util,A="clientTop",F="clientLeft",J="parentNode",K="right",W="hasLayout",I="px",U="opacity",L="auto",D="borderLeftWidth",G="borderTopWidth",P="borderRightWidth",V="borderBottomWidth",S="visible",Q="transparent",N="height",E="width",H="style",T="currentStyle",R=/^width|height$/,O=/^(\d[.\d]*)+(em|ex|px|gd|rem|vw|vh|vm|ch|mm|cm|in|pt|pc|deg|rad|ms|s|hz|khz|%){1}?/i,M={get:function(X,Z){var Y="",a=X[T][Z];if(Z===U){Y=B.Dom.getStyle(X,U);}else{if(!a||(a.indexOf&&a.indexOf(I)>-1)){Y=a;}else{if(B.Dom.IE_COMPUTED[Z]){Y=B.Dom.IE_COMPUTED[Z](X,Z);}else{if(O.test(a)){Y=B.Dom.IE.ComputedStyle.getPixel(X,Z);}else{Y=a;}}}}return Y;},getOffset:function(Z,e){var b=Z[T][e],X=e.charAt(0).toUpperCase()+e.substr(1),c="offset"+X,Y="pixel"+X,a="",d;if(b==L){d=Z[c];if(d===undefined){a=0;}a=d;if(R.test(e)){Z[H][e]=d;if(Z[c]>d){a=d-(Z[c]-d);}Z[H][e]=L;}}else{if(!Z[H][Y]&&!Z[H][e]){Z[H][e]=b;}a=Z[H][Y];}return a+I;},getBorderWidth:function(X,Z){var Y=null;if(!X[T][W]){X[H].zoom=1;}switch(Z){case G:Y=X[A];break;case V:Y=X.offsetHeight-X.clientHeight-X[A];break;case D:Y=X[F];break;case P:Y=X.offsetWidth-X.clientWidth-X[F];break;}return Y+I;},getPixel:function(Y,X){var a=null,b=Y[T][K],Z=Y[T][X];Y[H][K]=Z;a=Y[H].pixelRight;Y[H][K]=b;return a+I;},getMargin:function(Y,X){var Z;if(Y[T][X]==L){Z=0+I;}else{Z=B.Dom.IE.ComputedStyle.getPixel(Y,X);}return Z;},getVisibility:function(Y,X){var Z;while((Z=Y[T])&&Z[X]=="inherit"){Y=Y[J];}return(Z)?Z[X]:S;},getColor:function(Y,X){return B.Dom.Color.toRGB(Y[T][X])||Q;},getBorderColor:function(Y,X){var Z=Y[T],a=Z[X]||Z.color;return B.Dom.Color.toRGB(B.Dom.Color.toHex(a));}},C={};C.top=C.right=C.bottom=C.left=C[E]=C[N]=M.getOffset;C.color=M.getColor;C[G]=C[P]=C[V]=C[D]=M.getBorderWidth;C.marginTop=C.marginRight=C.marginBottom=C.marginLeft=M.getMargin;C.visibility=M.getVisibility;C.borderColor=C.borderTopColor=C.borderRightColor=C.borderBottomColor=C.borderLeftColor=M.getBorderColor;B.Dom.IE_COMPUTED=C;B.Dom.IE_ComputedStyle=M;})();(function(){var C="toString",A=parseInt,B=RegExp,D=YAHOO.util;D.Dom.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},re_RGB:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,re_hex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,re_hex3:/([0-9A-F])/gi,toRGB:function(E){if(!D.Dom.Color.re_RGB.test(E)){E=D.Dom.Color.toHex(E);}if(D.Dom.Color.re_hex.exec(E)){E="rgb("+[A(B.$1,16),A(B.$2,16),A(B.$3,16)].join(", ")+")";}return E;},toHex:function(H){H=D.Dom.Color.KEYWORDS[H]||H;if(D.Dom.Color.re_RGB.exec(H)){var G=(B.$1.length===1)?"0"+B.$1:Number(B.$1),F=(B.$2.length===1)?"0"+B.$2:Number(B.$2),E=(B.$3.length===1)?"0"+B.$3:Number(B.$3);H=[G[C](16),F[C](16),E[C](16)].join("");}if(H.length<6){H=H.replace(D.Dom.Color.re_hex3,"$1$1");}if(H!=="transparent"&&H.indexOf("#")<0){H="#"+H;}return H.toLowerCase();}};}());YAHOO.register("dom",YAHOO.util.Dom,{version:"2.7.0",build:"1796"});
/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
if(typeof YAHOO=="undefined"||!YAHOO){var YAHOO={};}YAHOO.namespace=function(){var A=arguments,E=null,C,B,D;for(C=0;C<A.length;C=C+1){D=(""+A[C]).split(".");E=YAHOO;for(B=(D[0]=="YAHOO")?1:0;B<D.length;B=B+1){E[D[B]]=E[D[B]]||{};E=E[D[B]];}}return E;};YAHOO.log=function(D,A,C){var B=YAHOO.widget.Logger;if(B&&B.log){return B.log(D,A,C);}else{return false;}};YAHOO.register=function(A,E,D){var I=YAHOO.env.modules,B,H,G,F,C;if(!I[A]){I[A]={versions:[],builds:[]};}B=I[A];H=D.version;G=D.build;F=YAHOO.env.listeners;B.name=A;B.version=H;B.build=G;B.versions.push(H);B.builds.push(G);B.mainClass=E;for(C=0;C<F.length;C=C+1){F[C](B);}if(E){E.VERSION=H;E.BUILD=G;}else{YAHOO.log("mainClass is undefined for module "+A,"warn");}};YAHOO.env=YAHOO.env||{modules:[],listeners:[]};YAHOO.env.getVersion=function(A){return YAHOO.env.modules[A]||null;};YAHOO.env.ua=function(){var C={ie:0,opera:0,gecko:0,webkit:0,mobile:null,air:0,caja:0},B=navigator.userAgent,A;if((/KHTML/).test(B)){C.webkit=1;}A=B.match(/AppleWebKit\/([^\s]*)/);if(A&&A[1]){C.webkit=parseFloat(A[1]);if(/ Mobile\//.test(B)){C.mobile="Apple";}else{A=B.match(/NokiaN[^\/]*/);if(A){C.mobile=A[0];}}A=B.match(/AdobeAIR\/([^\s]*)/);if(A){C.air=A[0];}}if(!C.webkit){A=B.match(/Opera[\s\/]([^\s]*)/);if(A&&A[1]){C.opera=parseFloat(A[1]);A=B.match(/Opera Mini[^;]*/);if(A){C.mobile=A[0];}}else{A=B.match(/MSIE\s([^;]*)/);if(A&&A[1]){C.ie=parseFloat(A[1]);}else{A=B.match(/Gecko\/([^\s]*)/);if(A){C.gecko=1;A=B.match(/rv:([^\s\)]*)/);if(A&&A[1]){C.gecko=parseFloat(A[1]);}}}}}A=B.match(/Caja\/([^\s]*)/);if(A&&A[1]){C.caja=parseFloat(A[1]);}return C;}();(function(){YAHOO.namespace("util","widget","example");if("undefined"!==typeof YAHOO_config){var B=YAHOO_config.listener,A=YAHOO.env.listeners,D=true,C;if(B){for(C=0;C<A.length;C=C+1){if(A[C]==B){D=false;break;}}if(D){A.push(B);}}}})();YAHOO.lang=YAHOO.lang||{};(function(){var B=YAHOO.lang,F="[object Array]",C="[object Function]",A=Object.prototype,E=["toString","valueOf"],D={isArray:function(G){return A.toString.apply(G)===F;},isBoolean:function(G){return typeof G==="boolean";},isFunction:function(G){return A.toString.apply(G)===C;},isNull:function(G){return G===null;},isNumber:function(G){return typeof G==="number"&&isFinite(G);},isObject:function(G){return(G&&(typeof G==="object"||B.isFunction(G)))||false;},isString:function(G){return typeof G==="string";},isUndefined:function(G){return typeof G==="undefined";},_IEEnumFix:(YAHOO.env.ua.ie)?function(I,H){var G,K,J;for(G=0;G<E.length;G=G+1){K=E[G];J=H[K];if(B.isFunction(J)&&J!=A[K]){I[K]=J;}}}:function(){},extend:function(J,K,I){if(!K||!J){throw new Error("extend failed, please check that "+"all dependencies are included.");}var H=function(){},G;H.prototype=K.prototype;J.prototype=new H();J.prototype.constructor=J;J.superclass=K.prototype;if(K.prototype.constructor==A.constructor){K.prototype.constructor=K;}if(I){for(G in I){if(B.hasOwnProperty(I,G)){J.prototype[G]=I[G];}}B._IEEnumFix(J.prototype,I);}},augmentObject:function(K,J){if(!J||!K){throw new Error("Absorb failed, verify dependencies.");}var G=arguments,I,L,H=G[2];if(H&&H!==true){for(I=2;I<G.length;I=I+1){K[G[I]]=J[G[I]];}}else{for(L in J){if(H||!(L in K)){K[L]=J[L];}}B._IEEnumFix(K,J);}},augmentProto:function(J,I){if(!I||!J){throw new Error("Augment failed, verify dependencies.");}var G=[J.prototype,I.prototype],H;for(H=2;H<arguments.length;H=H+1){G.push(arguments[H]);}B.augmentObject.apply(this,G);},dump:function(G,L){var I,K,N=[],O="{...}",H="f(){...}",M=", ",J=" => ";if(!B.isObject(G)){return G+"";}else{if(G instanceof Date||("nodeType" in G&&"tagName" in G)){return G;}else{if(B.isFunction(G)){return H;}}}L=(B.isNumber(L))?L:3;if(B.isArray(G)){N.push("[");for(I=0,K=G.length;I<K;I=I+1){if(B.isObject(G[I])){N.push((L>0)?B.dump(G[I],L-1):O);}else{N.push(G[I]);}N.push(M);}if(N.length>1){N.pop();}N.push("]");}else{N.push("{");for(I in G){if(B.hasOwnProperty(G,I)){N.push(I+J);if(B.isObject(G[I])){N.push((L>0)?B.dump(G[I],L-1):O);}else{N.push(G[I]);}N.push(M);}}if(N.length>1){N.pop();}N.push("}");}return N.join("");},substitute:function(V,H,O){var L,K,J,R,S,U,Q=[],I,M="dump",P=" ",G="{",T="}",N;for(;;){L=V.lastIndexOf(G);if(L<0){break;}K=V.indexOf(T,L);if(L+1>=K){break;}I=V.substring(L+1,K);R=I;U=null;J=R.indexOf(P);if(J>-1){U=R.substring(J+1);R=R.substring(0,J);}S=H[R];if(O){S=O(R,S,U);}if(B.isObject(S)){if(B.isArray(S)){S=B.dump(S,parseInt(U,10));}else{U=U||"";N=U.indexOf(M);if(N>-1){U=U.substring(4);}if(S.toString===A.toString||N>-1){S=B.dump(S,parseInt(U,10));}else{S=S.toString();}}}else{if(!B.isString(S)&&!B.isNumber(S)){S="~-"+Q.length+"-~";Q[Q.length]=I;}}V=V.substring(0,L)+S+V.substring(K+1);}for(L=Q.length-1;L>=0;L=L-1){V=V.replace(new RegExp("~-"+L+"-~"),"{"+Q[L]+"}","g");}return V;},trim:function(G){try{return G.replace(/^\s+|\s+$/g,"");}catch(H){return G;}},merge:function(){var J={},H=arguments,G=H.length,I;for(I=0;I<G;I=I+1){B.augmentObject(J,H[I],true);}return J;},later:function(N,H,O,J,K){N=N||0;H=H||{};var I=O,M=J,L,G;if(B.isString(O)){I=H[O];}if(!I){throw new TypeError("method undefined");}if(!B.isArray(M)){M=[J];}L=function(){I.apply(H,M);};G=(K)?setInterval(L,N):setTimeout(L,N);return{interval:K,cancel:function(){if(this.interval){clearInterval(G);}else{clearTimeout(G);}}};},isValue:function(G){return(B.isObject(G)||B.isString(G)||B.isNumber(G)||B.isBoolean(G));}};B.hasOwnProperty=(A.hasOwnProperty)?function(G,H){return G&&G.hasOwnProperty(H);}:function(G,H){return !B.isUndefined(G[H])&&G.constructor.prototype[H]!==G[H];};D.augmentObject(B,D,true);YAHOO.util.Lang=B;B.augment=B.augmentProto;YAHOO.augment=B.augmentProto;YAHOO.extend=B.extend;})();YAHOO.register("yahoo",YAHOO,{version:"2.7.0",build:"1799"});(function(){YAHOO.env._id_counter=YAHOO.env._id_counter||0;var E=YAHOO.util,L=YAHOO.lang,m=YAHOO.env.ua,A=YAHOO.lang.trim,d={},h={},N=/^t(?:able|d|h)$/i,X=/color$/i,K=window.document,W=K.documentElement,e="ownerDocument",n="defaultView",v="documentElement",t="compatMode",b="offsetLeft",P="offsetTop",u="offsetParent",Z="parentNode",l="nodeType",C="tagName",O="scrollLeft",i="scrollTop",Q="getBoundingClientRect",w="getComputedStyle",a="currentStyle",M="CSS1Compat",c="BackCompat",g="class",F="className",J="",B=" ",s="(?:^|\\s)",k="(?= |$)",U="g",p="position",f="fixed",V="relative",j="left",o="top",r="medium",q="borderLeftWidth",R="borderTopWidth",D=m.opera,I=m.webkit,H=m.gecko,T=m.ie;E.Dom={CUSTOM_ATTRIBUTES:(!W.hasAttribute)?{"for":"htmlFor","class":F}:{"htmlFor":"for","className":g},get:function(y){var AA,Y,z,x,G;if(y){if(y[l]||y.item){return y;}if(typeof y==="string"){AA=y;y=K.getElementById(y);if(y&&y.id===AA){return y;}else{if(y&&K.all){y=null;Y=K.all[AA];for(x=0,G=Y.length;x<G;++x){if(Y[x].id===AA){return Y[x];}}}}return y;}if(y.DOM_EVENTS){y=y.get("element");}if("length" in y){z=[];for(x=0,G=y.length;x<G;++x){z[z.length]=E.Dom.get(y[x]);}return z;}return y;}return null;},getComputedStyle:function(G,Y){if(window[w]){return G[e][n][w](G,null)[Y];}else{if(G[a]){return E.Dom.IE_ComputedStyle.get(G,Y);}}},getStyle:function(G,Y){return E.Dom.batch(G,E.Dom._getStyle,Y);},_getStyle:function(){if(window[w]){return function(G,y){y=(y==="float")?y="cssFloat":E.Dom._toCamel(y);var x=G.style[y],Y;if(!x){Y=G[e][n][w](G,null);if(Y){x=Y[y];}}return x;};}else{if(W[a]){return function(G,y){var x;switch(y){case"opacity":x=100;try{x=G.filters["DXImageTransform.Microsoft.Alpha"].opacity;}catch(z){try{x=G.filters("alpha").opacity;}catch(Y){}}return x/100;case"float":y="styleFloat";default:y=E.Dom._toCamel(y);x=G[a]?G[a][y]:null;return(G.style[y]||x);}};}}}(),setStyle:function(G,Y,x){E.Dom.batch(G,E.Dom._setStyle,{prop:Y,val:x});},_setStyle:function(){if(T){return function(Y,G){var x=E.Dom._toCamel(G.prop),y=G.val;if(Y){switch(x){case"opacity":if(L.isString(Y.style.filter)){Y.style.filter="alpha(opacity="+y*100+")";if(!Y[a]||!Y[a].hasLayout){Y.style.zoom=1;}}break;case"float":x="styleFloat";default:Y.style[x]=y;}}else{}};}else{return function(Y,G){var x=E.Dom._toCamel(G.prop),y=G.val;if(Y){if(x=="float"){x="cssFloat";}Y.style[x]=y;}else{}};}}(),getXY:function(G){return E.Dom.batch(G,E.Dom._getXY);},_canPosition:function(G){return(E.Dom._getStyle(G,"display")!=="none"&&E.Dom._inDoc(G));},_getXY:function(){if(K[v][Q]){return function(y){var z,Y,AA,AF,AE,AD,AC,G,x,AB=Math.floor,AG=false;if(E.Dom._canPosition(y)){AA=y[Q]();AF=y[e];z=E.Dom.getDocumentScrollLeft(AF);Y=E.Dom.getDocumentScrollTop(AF);AG=[AB(AA[j]),AB(AA[o])];if(T&&m.ie<8){AE=2;AD=2;AC=AF[t];G=S(AF[v],q);x=S(AF[v],R);if(m.ie===6){if(AC!==c){AE=0;AD=0;}}if((AC==c)){if(G!==r){AE=parseInt(G,10);}if(x!==r){AD=parseInt(x,10);}}AG[0]-=AE;AG[1]-=AD;}if((Y||z)){AG[0]+=z;AG[1]+=Y;}AG[0]=AB(AG[0]);AG[1]=AB(AG[1]);}else{}return AG;};}else{return function(y){var x,Y,AA,AB,AC,z=false,G=y;if(E.Dom._canPosition(y)){z=[y[b],y[P]];x=E.Dom.getDocumentScrollLeft(y[e]);Y=E.Dom.getDocumentScrollTop(y[e]);AC=((H||m.webkit>519)?true:false);while((G=G[u])){z[0]+=G[b];z[1]+=G[P];if(AC){z=E.Dom._calcBorders(G,z);}}if(E.Dom._getStyle(y,p)!==f){G=y;while((G=G[Z])&&G[C]){AA=G[i];AB=G[O];if(H&&(E.Dom._getStyle(G,"overflow")!=="visible")){z=E.Dom._calcBorders(G,z);}if(AA||AB){z[0]-=AB;z[1]-=AA;}}z[0]+=x;z[1]+=Y;}else{if(D){z[0]-=x;z[1]-=Y;}else{if(I||H){z[0]+=x;z[1]+=Y;}}}z[0]=Math.floor(z[0]);z[1]=Math.floor(z[1]);}else{}return z;};}}(),getX:function(G){var Y=function(x){return E.Dom.getXY(x)[0];};return E.Dom.batch(G,Y,E.Dom,true);},getY:function(G){var Y=function(x){return E.Dom.getXY(x)[1];};return E.Dom.batch(G,Y,E.Dom,true);},setXY:function(G,x,Y){E.Dom.batch(G,E.Dom._setXY,{pos:x,noRetry:Y});},_setXY:function(G,z){var AA=E.Dom._getStyle(G,p),y=E.Dom.setStyle,AD=z.pos,Y=z.noRetry,AB=[parseInt(E.Dom.getComputedStyle(G,j),10),parseInt(E.Dom.getComputedStyle(G,o),10)],AC,x;if(AA=="static"){AA=V;y(G,p,AA);}AC=E.Dom._getXY(G);if(!AD||AC===false){return false;}if(isNaN(AB[0])){AB[0]=(AA==V)?0:G[b];}if(isNaN(AB[1])){AB[1]=(AA==V)?0:G[P];}if(AD[0]!==null){y(G,j,AD[0]-AC[0]+AB[0]+"px");}if(AD[1]!==null){y(G,o,AD[1]-AC[1]+AB[1]+"px");}if(!Y){x=E.Dom._getXY(G);if((AD[0]!==null&&x[0]!=AD[0])||(AD[1]!==null&&x[1]!=AD[1])){E.Dom._setXY(G,{pos:AD,noRetry:true});}}},setX:function(Y,G){E.Dom.setXY(Y,[G,null]);},setY:function(G,Y){E.Dom.setXY(G,[null,Y]);},getRegion:function(G){var Y=function(x){var y=false;if(E.Dom._canPosition(x)){y=E.Region.getRegion(x);}else{}return y;};return E.Dom.batch(G,Y,E.Dom,true);},getClientWidth:function(){return E.Dom.getViewportWidth();},getClientHeight:function(){return E.Dom.getViewportHeight();},getElementsByClassName:function(AB,AF,AC,AE,x,AD){AB=L.trim(AB);AF=AF||"*";AC=(AC)?E.Dom.get(AC):null||K;if(!AC){return[];}var Y=[],G=AC.getElementsByTagName(AF),z=E.Dom.hasClass;for(var y=0,AA=G.length;y<AA;++y){if(z(G[y],AB)){Y[Y.length]=G[y];}}if(AE){E.Dom.batch(Y,AE,x,AD);}return Y;},hasClass:function(Y,G){return E.Dom.batch(Y,E.Dom._hasClass,G);},_hasClass:function(x,Y){var G=false,y;if(x&&Y){y=E.Dom.getAttribute(x,F)||J;if(Y.exec){G=Y.test(y);}else{G=Y&&(B+y+B).indexOf(B+Y+B)>-1;}}else{}return G;},addClass:function(Y,G){return E.Dom.batch(Y,E.Dom._addClass,G);},_addClass:function(x,Y){var G=false,y;if(x&&Y){y=E.Dom.getAttribute(x,F)||J;if(!E.Dom._hasClass(x,Y)){E.Dom.setAttribute(x,F,A(y+B+Y));G=true;}}else{}return G;},removeClass:function(Y,G){return E.Dom.batch(Y,E.Dom._removeClass,G);},_removeClass:function(y,x){var Y=false,AA,z,G;if(y&&x){AA=E.Dom.getAttribute(y,F)||J;E.Dom.setAttribute(y,F,AA.replace(E.Dom._getClassRegex(x),J));z=E.Dom.getAttribute(y,F);if(AA!==z){E.Dom.setAttribute(y,F,A(z));Y=true;if(E.Dom.getAttribute(y,F)===""){G=(y.hasAttribute&&y.hasAttribute(g))?g:F;y.removeAttribute(G);}}}else{}return Y;},replaceClass:function(x,Y,G){return E.Dom.batch(x,E.Dom._replaceClass,{from:Y,to:G});
},_replaceClass:function(y,x){var Y,AB,AA,G=false,z;if(y&&x){AB=x.from;AA=x.to;if(!AA){G=false;}else{if(!AB){G=E.Dom._addClass(y,x.to);}else{if(AB!==AA){z=E.Dom.getAttribute(y,F)||J;Y=(B+z.replace(E.Dom._getClassRegex(AB),B+AA)).split(E.Dom._getClassRegex(AA));Y.splice(1,0,B+AA);E.Dom.setAttribute(y,F,A(Y.join(J)));G=true;}}}}else{}return G;},generateId:function(G,x){x=x||"yui-gen";var Y=function(y){if(y&&y.id){return y.id;}var z=x+YAHOO.env._id_counter++;if(y){if(y[e].getElementById(z)){return E.Dom.generateId(y,z+x);}y.id=z;}return z;};return E.Dom.batch(G,Y,E.Dom,true)||Y.apply(E.Dom,arguments);},isAncestor:function(Y,x){Y=E.Dom.get(Y);x=E.Dom.get(x);var G=false;if((Y&&x)&&(Y[l]&&x[l])){if(Y.contains&&Y!==x){G=Y.contains(x);}else{if(Y.compareDocumentPosition){G=!!(Y.compareDocumentPosition(x)&16);}}}else{}return G;},inDocument:function(G,Y){return E.Dom._inDoc(E.Dom.get(G),Y);},_inDoc:function(Y,x){var G=false;if(Y&&Y[C]){x=x||Y[e];G=E.Dom.isAncestor(x[v],Y);}else{}return G;},getElementsBy:function(Y,AF,AB,AD,y,AC,AE){AF=AF||"*";AB=(AB)?E.Dom.get(AB):null||K;if(!AB){return[];}var x=[],G=AB.getElementsByTagName(AF);for(var z=0,AA=G.length;z<AA;++z){if(Y(G[z])){if(AE){x=G[z];break;}else{x[x.length]=G[z];}}}if(AD){E.Dom.batch(x,AD,y,AC);}return x;},getElementBy:function(x,G,Y){return E.Dom.getElementsBy(x,G,Y,null,null,null,true);},batch:function(x,AB,AA,z){var y=[],Y=(z)?AA:window;x=(x&&(x[C]||x.item))?x:E.Dom.get(x);if(x&&AB){if(x[C]||x.length===undefined){return AB.call(Y,x,AA);}for(var G=0;G<x.length;++G){y[y.length]=AB.call(Y,x[G],AA);}}else{return false;}return y;},getDocumentHeight:function(){var Y=(K[t]!=M||I)?K.body.scrollHeight:W.scrollHeight,G=Math.max(Y,E.Dom.getViewportHeight());return G;},getDocumentWidth:function(){var Y=(K[t]!=M||I)?K.body.scrollWidth:W.scrollWidth,G=Math.max(Y,E.Dom.getViewportWidth());return G;},getViewportHeight:function(){var G=self.innerHeight,Y=K[t];if((Y||T)&&!D){G=(Y==M)?W.clientHeight:K.body.clientHeight;}return G;},getViewportWidth:function(){var G=self.innerWidth,Y=K[t];if(Y||T){G=(Y==M)?W.clientWidth:K.body.clientWidth;}return G;},getAncestorBy:function(G,Y){while((G=G[Z])){if(E.Dom._testElement(G,Y)){return G;}}return null;},getAncestorByClassName:function(Y,G){Y=E.Dom.get(Y);if(!Y){return null;}var x=function(y){return E.Dom.hasClass(y,G);};return E.Dom.getAncestorBy(Y,x);},getAncestorByTagName:function(Y,G){Y=E.Dom.get(Y);if(!Y){return null;}var x=function(y){return y[C]&&y[C].toUpperCase()==G.toUpperCase();};return E.Dom.getAncestorBy(Y,x);},getPreviousSiblingBy:function(G,Y){while(G){G=G.previousSibling;if(E.Dom._testElement(G,Y)){return G;}}return null;},getPreviousSibling:function(G){G=E.Dom.get(G);if(!G){return null;}return E.Dom.getPreviousSiblingBy(G);},getNextSiblingBy:function(G,Y){while(G){G=G.nextSibling;if(E.Dom._testElement(G,Y)){return G;}}return null;},getNextSibling:function(G){G=E.Dom.get(G);if(!G){return null;}return E.Dom.getNextSiblingBy(G);},getFirstChildBy:function(G,x){var Y=(E.Dom._testElement(G.firstChild,x))?G.firstChild:null;return Y||E.Dom.getNextSiblingBy(G.firstChild,x);},getFirstChild:function(G,Y){G=E.Dom.get(G);if(!G){return null;}return E.Dom.getFirstChildBy(G);},getLastChildBy:function(G,x){if(!G){return null;}var Y=(E.Dom._testElement(G.lastChild,x))?G.lastChild:null;return Y||E.Dom.getPreviousSiblingBy(G.lastChild,x);},getLastChild:function(G){G=E.Dom.get(G);return E.Dom.getLastChildBy(G);},getChildrenBy:function(Y,y){var x=E.Dom.getFirstChildBy(Y,y),G=x?[x]:[];E.Dom.getNextSiblingBy(x,function(z){if(!y||y(z)){G[G.length]=z;}return false;});return G;},getChildren:function(G){G=E.Dom.get(G);if(!G){}return E.Dom.getChildrenBy(G);},getDocumentScrollLeft:function(G){G=G||K;return Math.max(G[v].scrollLeft,G.body.scrollLeft);},getDocumentScrollTop:function(G){G=G||K;return Math.max(G[v].scrollTop,G.body.scrollTop);},insertBefore:function(Y,G){Y=E.Dom.get(Y);G=E.Dom.get(G);if(!Y||!G||!G[Z]){return null;}return G[Z].insertBefore(Y,G);},insertAfter:function(Y,G){Y=E.Dom.get(Y);G=E.Dom.get(G);if(!Y||!G||!G[Z]){return null;}if(G.nextSibling){return G[Z].insertBefore(Y,G.nextSibling);}else{return G[Z].appendChild(Y);}},getClientRegion:function(){var x=E.Dom.getDocumentScrollTop(),Y=E.Dom.getDocumentScrollLeft(),y=E.Dom.getViewportWidth()+Y,G=E.Dom.getViewportHeight()+x;return new E.Region(x,y,G,Y);},setAttribute:function(Y,G,x){G=E.Dom.CUSTOM_ATTRIBUTES[G]||G;Y.setAttribute(G,x);},getAttribute:function(Y,G){G=E.Dom.CUSTOM_ATTRIBUTES[G]||G;return Y.getAttribute(G);},_toCamel:function(Y){var x=d;function G(y,z){return z.toUpperCase();}return x[Y]||(x[Y]=Y.indexOf("-")===-1?Y:Y.replace(/-([a-z])/gi,G));},_getClassRegex:function(Y){var G;if(Y!==undefined){if(Y.exec){G=Y;}else{G=h[Y];if(!G){Y=Y.replace(E.Dom._patterns.CLASS_RE_TOKENS,"\\$1");G=h[Y]=new RegExp(s+Y+k,U);}}}return G;},_patterns:{ROOT_TAG:/^body|html$/i,CLASS_RE_TOKENS:/([\.\(\)\^\$\*\+\?\|\[\]\{\}])/g},_testElement:function(G,Y){return G&&G[l]==1&&(!Y||Y(G));},_calcBorders:function(x,y){var Y=parseInt(E.Dom[w](x,R),10)||0,G=parseInt(E.Dom[w](x,q),10)||0;if(H){if(N.test(x[C])){Y=0;G=0;}}y[0]+=G;y[1]+=Y;return y;}};var S=E.Dom[w];if(m.opera){E.Dom[w]=function(Y,G){var x=S(Y,G);if(X.test(G)){x=E.Dom.Color.toRGB(x);}return x;};}if(m.webkit){E.Dom[w]=function(Y,G){var x=S(Y,G);if(x==="rgba(0, 0, 0, 0)"){x="transparent";}return x;};}})();YAHOO.util.Region=function(C,D,A,B){this.top=C;this.y=C;this[1]=C;this.right=D;this.bottom=A;this.left=B;this.x=B;this[0]=B;this.width=this.right-this.left;this.height=this.bottom-this.top;};YAHOO.util.Region.prototype.contains=function(A){return(A.left>=this.left&&A.right<=this.right&&A.top>=this.top&&A.bottom<=this.bottom);};YAHOO.util.Region.prototype.getArea=function(){return((this.bottom-this.top)*(this.right-this.left));};YAHOO.util.Region.prototype.intersect=function(E){var C=Math.max(this.top,E.top),D=Math.min(this.right,E.right),A=Math.min(this.bottom,E.bottom),B=Math.max(this.left,E.left);if(A>=C&&D>=B){return new YAHOO.util.Region(C,D,A,B);
}else{return null;}};YAHOO.util.Region.prototype.union=function(E){var C=Math.min(this.top,E.top),D=Math.max(this.right,E.right),A=Math.max(this.bottom,E.bottom),B=Math.min(this.left,E.left);return new YAHOO.util.Region(C,D,A,B);};YAHOO.util.Region.prototype.toString=function(){return("Region {"+"top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+", height: "+this.height+", width: "+this.width+"}");};YAHOO.util.Region.getRegion=function(D){var F=YAHOO.util.Dom.getXY(D),C=F[1],E=F[0]+D.offsetWidth,A=F[1]+D.offsetHeight,B=F[0];return new YAHOO.util.Region(C,E,A,B);};YAHOO.util.Point=function(A,B){if(YAHOO.lang.isArray(A)){B=A[1];A=A[0];}YAHOO.util.Point.superclass.constructor.call(this,B,A,B,A);};YAHOO.extend(YAHOO.util.Point,YAHOO.util.Region);(function(){var B=YAHOO.util,A="clientTop",F="clientLeft",J="parentNode",K="right",W="hasLayout",I="px",U="opacity",L="auto",D="borderLeftWidth",G="borderTopWidth",P="borderRightWidth",V="borderBottomWidth",S="visible",Q="transparent",N="height",E="width",H="style",T="currentStyle",R=/^width|height$/,O=/^(\d[.\d]*)+(em|ex|px|gd|rem|vw|vh|vm|ch|mm|cm|in|pt|pc|deg|rad|ms|s|hz|khz|%){1}?/i,M={get:function(X,Z){var Y="",a=X[T][Z];if(Z===U){Y=B.Dom.getStyle(X,U);}else{if(!a||(a.indexOf&&a.indexOf(I)>-1)){Y=a;}else{if(B.Dom.IE_COMPUTED[Z]){Y=B.Dom.IE_COMPUTED[Z](X,Z);}else{if(O.test(a)){Y=B.Dom.IE.ComputedStyle.getPixel(X,Z);}else{Y=a;}}}}return Y;},getOffset:function(Z,e){var b=Z[T][e],X=e.charAt(0).toUpperCase()+e.substr(1),c="offset"+X,Y="pixel"+X,a="",d;if(b==L){d=Z[c];if(d===undefined){a=0;}a=d;if(R.test(e)){Z[H][e]=d;if(Z[c]>d){a=d-(Z[c]-d);}Z[H][e]=L;}}else{if(!Z[H][Y]&&!Z[H][e]){Z[H][e]=b;}a=Z[H][Y];}return a+I;},getBorderWidth:function(X,Z){var Y=null;if(!X[T][W]){X[H].zoom=1;}switch(Z){case G:Y=X[A];break;case V:Y=X.offsetHeight-X.clientHeight-X[A];break;case D:Y=X[F];break;case P:Y=X.offsetWidth-X.clientWidth-X[F];break;}return Y+I;},getPixel:function(Y,X){var a=null,b=Y[T][K],Z=Y[T][X];Y[H][K]=Z;a=Y[H].pixelRight;Y[H][K]=b;return a+I;},getMargin:function(Y,X){var Z;if(Y[T][X]==L){Z=0+I;}else{Z=B.Dom.IE.ComputedStyle.getPixel(Y,X);}return Z;},getVisibility:function(Y,X){var Z;while((Z=Y[T])&&Z[X]=="inherit"){Y=Y[J];}return(Z)?Z[X]:S;},getColor:function(Y,X){return B.Dom.Color.toRGB(Y[T][X])||Q;},getBorderColor:function(Y,X){var Z=Y[T],a=Z[X]||Z.color;return B.Dom.Color.toRGB(B.Dom.Color.toHex(a));}},C={};C.top=C.right=C.bottom=C.left=C[E]=C[N]=M.getOffset;C.color=M.getColor;C[G]=C[P]=C[V]=C[D]=M.getBorderWidth;C.marginTop=C.marginRight=C.marginBottom=C.marginLeft=M.getMargin;C.visibility=M.getVisibility;C.borderColor=C.borderTopColor=C.borderRightColor=C.borderBottomColor=C.borderLeftColor=M.getBorderColor;B.Dom.IE_COMPUTED=C;B.Dom.IE_ComputedStyle=M;})();(function(){var C="toString",A=parseInt,B=RegExp,D=YAHOO.util;D.Dom.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},re_RGB:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,re_hex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,re_hex3:/([0-9A-F])/gi,toRGB:function(E){if(!D.Dom.Color.re_RGB.test(E)){E=D.Dom.Color.toHex(E);}if(D.Dom.Color.re_hex.exec(E)){E="rgb("+[A(B.$1,16),A(B.$2,16),A(B.$3,16)].join(", ")+")";}return E;},toHex:function(H){H=D.Dom.Color.KEYWORDS[H]||H;if(D.Dom.Color.re_RGB.exec(H)){var G=(B.$1.length===1)?"0"+B.$1:Number(B.$1),F=(B.$2.length===1)?"0"+B.$2:Number(B.$2),E=(B.$3.length===1)?"0"+B.$3:Number(B.$3);H=[G[C](16),F[C](16),E[C](16)].join("");}if(H.length<6){H=H.replace(D.Dom.Color.re_hex3,"$1$1");}if(H!=="transparent"&&H.indexOf("#")<0){H="#"+H;}return H.toLowerCase();}};}());YAHOO.register("dom",YAHOO.util.Dom,{version:"2.7.0",build:"1799"});YAHOO.util.CustomEvent=function(D,C,B,A){this.type=D;this.scope=C||window;this.silent=B;this.signature=A||YAHOO.util.CustomEvent.LIST;this.subscribers=[];if(!this.silent){}var E="_YUICEOnSubscribe";if(D!==E){this.subscribeEvent=new YAHOO.util.CustomEvent(E,this,true);}this.lastError=null;};YAHOO.util.CustomEvent.LIST=0;YAHOO.util.CustomEvent.FLAT=1;YAHOO.util.CustomEvent.prototype={subscribe:function(A,B,C){if(!A){throw new Error("Invalid callback for subscriber to '"+this.type+"'");}if(this.subscribeEvent){this.subscribeEvent.fire(A,B,C);}this.subscribers.push(new YAHOO.util.Subscriber(A,B,C));},unsubscribe:function(D,F){if(!D){return this.unsubscribeAll();}var E=false;for(var B=0,A=this.subscribers.length;B<A;++B){var C=this.subscribers[B];if(C&&C.contains(D,F)){this._delete(B);E=true;}}return E;},fire:function(){this.lastError=null;var K=[],E=this.subscribers.length;if(!E&&this.silent){return true;}var I=[].slice.call(arguments,0),G=true,D,J=false;if(!this.silent){}var C=this.subscribers.slice(),A=YAHOO.util.Event.throwErrors;for(D=0;D<E;++D){var M=C[D];if(!M){J=true;}else{if(!this.silent){}var L=M.getScope(this.scope);if(this.signature==YAHOO.util.CustomEvent.FLAT){var B=null;if(I.length>0){B=I[0];}try{G=M.fn.call(L,B,M.obj);}catch(F){this.lastError=F;if(A){throw F;}}}else{try{G=M.fn.call(L,this.type,I,M.obj);}catch(H){this.lastError=H;if(A){throw H;}}}if(false===G){if(!this.silent){}break;}}}return(G!==false);},unsubscribeAll:function(){var A=this.subscribers.length,B;for(B=A-1;B>-1;B--){this._delete(B);}this.subscribers=[];return A;},_delete:function(A){var B=this.subscribers[A];if(B){delete B.fn;delete B.obj;}this.subscribers.splice(A,1);},toString:function(){return"CustomEvent: "+"'"+this.type+"', "+"context: "+this.scope;}};YAHOO.util.Subscriber=function(A,B,C){this.fn=A;this.obj=YAHOO.lang.isUndefined(B)?null:B;this.overrideContext=C;};YAHOO.util.Subscriber.prototype.getScope=function(A){if(this.overrideContext){if(this.overrideContext===true){return this.obj;}else{return this.overrideContext;}}return A;};YAHOO.util.Subscriber.prototype.contains=function(A,B){if(B){return(this.fn==A&&this.obj==B);}else{return(this.fn==A);}};YAHOO.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+this.obj+", overrideContext: "+(this.overrideContext||"no")+" }";};if(!YAHOO.util.Event){YAHOO.util.Event=function(){var H=false;var I=[];var J=[];var G=[];var E=[];var C=0;var F=[];var B=[];var A=0;var D={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9};var K=YAHOO.env.ua.ie?"focusin":"focus";var L=YAHOO.env.ua.ie?"focusout":"blur";return{POLL_RETRYS:2000,POLL_INTERVAL:20,EL:0,TYPE:1,FN:2,WFN:3,UNLOAD_OBJ:3,ADJ_SCOPE:4,OBJ:5,OVERRIDE:6,lastError:null,isSafari:YAHOO.env.ua.webkit,webkit:YAHOO.env.ua.webkit,isIE:YAHOO.env.ua.ie,_interval:null,_dri:null,DOMReady:false,throwErrors:false,startInterval:function(){if(!this._interval){var M=this;var N=function(){M._tryPreloadAttach();};this._interval=setInterval(N,this.POLL_INTERVAL);}},onAvailable:function(S,O,Q,R,P){var M=(YAHOO.lang.isString(S))?[S]:S;for(var N=0;N<M.length;N=N+1){F.push({id:M[N],fn:O,obj:Q,overrideContext:R,checkReady:P});}C=this.POLL_RETRYS;this.startInterval();},onContentReady:function(P,M,N,O){this.onAvailable(P,M,N,O,true);},onDOMReady:function(M,N,O){if(this.DOMReady){setTimeout(function(){var P=window;if(O){if(O===true){P=N;}else{P=O;}}M.call(P,"DOMReady",[],N);},0);}else{this.DOMReadyEvent.subscribe(M,N,O);}},_addListener:function(O,M,Y,S,W,b){if(!Y||!Y.call){return false;}if(this._isValidCollection(O)){var Z=true;for(var T=0,V=O.length;T<V;++T){Z=this.on(O[T],M,Y,S,W)&&Z;}return Z;}else{if(YAHOO.lang.isString(O)){var R=this.getEl(O);if(R){O=R;}else{this.onAvailable(O,function(){YAHOO.util.Event.on(O,M,Y,S,W);});return true;}}}if(!O){return false;}if("unload"==M&&S!==this){J[J.length]=[O,M,Y,S,W];return true;}var N=O;if(W){if(W===true){N=S;}else{N=W;}}var P=function(c){return Y.call(N,YAHOO.util.Event.getEvent(c,O),S);};var a=[O,M,Y,P,N,S,W];var U=I.length;I[U]=a;if(this.useLegacyEvent(O,M)){var Q=this.getLegacyIndex(O,M);if(Q==-1||O!=G[Q][0]){Q=G.length;B[O.id+M]=Q;G[Q]=[O,M,O["on"+M]];E[Q]=[];O["on"+M]=function(c){YAHOO.util.Event.fireLegacyEvent(YAHOO.util.Event.getEvent(c),Q);};}E[Q].push(a);}else{try{this._simpleAdd(O,M,P,b);}catch(X){this.lastError=X;this.removeListener(O,M,Y);return false;}}return true;},addListener:function(N,Q,M,O,P){return this._addListener(N,Q,M,O,P,false);},addFocusListener:function(N,M,O,P){return this._addListener(N,K,M,O,P,true);},removeFocusListener:function(N,M){return this.removeListener(N,K,M);},addBlurListener:function(N,M,O,P){return this._addListener(N,L,M,O,P,true);},removeBlurListener:function(N,M){return this.removeListener(N,L,M);},fireLegacyEvent:function(R,P){var T=true,M,V,U,N,S;V=E[P].slice();for(var O=0,Q=V.length;O<Q;++O){U=V[O];if(U&&U[this.WFN]){N=U[this.ADJ_SCOPE];S=U[this.WFN].call(N,R);T=(T&&S);}}M=G[P];if(M&&M[2]){M[2](R);}return T;},getLegacyIndex:function(N,O){var M=this.generateId(N)+O;if(typeof B[M]=="undefined"){return -1;}else{return B[M];}},useLegacyEvent:function(M,N){return(this.webkit&&this.webkit<419&&("click"==N||"dblclick"==N));},removeListener:function(N,M,V){var Q,T,X;if(typeof N=="string"){N=this.getEl(N);}else{if(this._isValidCollection(N)){var W=true;for(Q=N.length-1;Q>-1;Q--){W=(this.removeListener(N[Q],M,V)&&W);}return W;}}if(!V||!V.call){return this.purgeElement(N,false,M);}if("unload"==M){for(Q=J.length-1;Q>-1;Q--){X=J[Q];if(X&&X[0]==N&&X[1]==M&&X[2]==V){J.splice(Q,1);return true;}}return false;}var R=null;var S=arguments[3];if("undefined"===typeof S){S=this._getCacheIndex(N,M,V);}if(S>=0){R=I[S];}if(!N||!R){return false;}if(this.useLegacyEvent(N,M)){var P=this.getLegacyIndex(N,M);var O=E[P];if(O){for(Q=0,T=O.length;Q<T;++Q){X=O[Q];if(X&&X[this.EL]==N&&X[this.TYPE]==M&&X[this.FN]==V){O.splice(Q,1);break;}}}}else{try{this._simpleRemove(N,M,R[this.WFN],false);}catch(U){this.lastError=U;return false;}}delete I[S][this.WFN];delete I[S][this.FN];
I.splice(S,1);return true;},getTarget:function(O,N){var M=O.target||O.srcElement;return this.resolveTextNode(M);},resolveTextNode:function(N){try{if(N&&3==N.nodeType){return N.parentNode;}}catch(M){}return N;},getPageX:function(N){var M=N.pageX;if(!M&&0!==M){M=N.clientX||0;if(this.isIE){M+=this._getScrollLeft();}}return M;},getPageY:function(M){var N=M.pageY;if(!N&&0!==N){N=M.clientY||0;if(this.isIE){N+=this._getScrollTop();}}return N;},getXY:function(M){return[this.getPageX(M),this.getPageY(M)];},getRelatedTarget:function(N){var M=N.relatedTarget;if(!M){if(N.type=="mouseout"){M=N.toElement;}else{if(N.type=="mouseover"){M=N.fromElement;}}}return this.resolveTextNode(M);},getTime:function(O){if(!O.time){var N=new Date().getTime();try{O.time=N;}catch(M){this.lastError=M;return N;}}return O.time;},stopEvent:function(M){this.stopPropagation(M);this.preventDefault(M);},stopPropagation:function(M){if(M.stopPropagation){M.stopPropagation();}else{M.cancelBubble=true;}},preventDefault:function(M){if(M.preventDefault){M.preventDefault();}else{M.returnValue=false;}},getEvent:function(O,M){var N=O||window.event;if(!N){var P=this.getEvent.caller;while(P){N=P.arguments[0];if(N&&Event==N.constructor){break;}P=P.caller;}}return N;},getCharCode:function(N){var M=N.keyCode||N.charCode||0;if(YAHOO.env.ua.webkit&&(M in D)){M=D[M];}return M;},_getCacheIndex:function(Q,R,P){for(var O=0,N=I.length;O<N;O=O+1){var M=I[O];if(M&&M[this.FN]==P&&M[this.EL]==Q&&M[this.TYPE]==R){return O;}}return -1;},generateId:function(M){var N=M.id;if(!N){N="yuievtautoid-"+A;++A;M.id=N;}return N;},_isValidCollection:function(N){try{return(N&&typeof N!=="string"&&N.length&&!N.tagName&&!N.alert&&typeof N[0]!=="undefined");}catch(M){return false;}},elCache:{},getEl:function(M){return(typeof M==="string")?document.getElementById(M):M;},clearCache:function(){},DOMReadyEvent:new YAHOO.util.CustomEvent("DOMReady",this),_load:function(N){if(!H){H=true;var M=YAHOO.util.Event;M._ready();M._tryPreloadAttach();}},_ready:function(N){var M=YAHOO.util.Event;if(!M.DOMReady){M.DOMReady=true;M.DOMReadyEvent.fire();M._simpleRemove(document,"DOMContentLoaded",M._ready);}},_tryPreloadAttach:function(){if(F.length===0){C=0;if(this._interval){clearInterval(this._interval);this._interval=null;}return;}if(this.locked){return;}if(this.isIE){if(!this.DOMReady){this.startInterval();return;}}this.locked=true;var S=!H;if(!S){S=(C>0&&F.length>0);}var R=[];var T=function(V,W){var U=V;if(W.overrideContext){if(W.overrideContext===true){U=W.obj;}else{U=W.overrideContext;}}W.fn.call(U,W.obj);};var N,M,Q,P,O=[];for(N=0,M=F.length;N<M;N=N+1){Q=F[N];if(Q){P=this.getEl(Q.id);if(P){if(Q.checkReady){if(H||P.nextSibling||!S){O.push(Q);F[N]=null;}}else{T(P,Q);F[N]=null;}}else{R.push(Q);}}}for(N=0,M=O.length;N<M;N=N+1){Q=O[N];T(this.getEl(Q.id),Q);}C--;if(S){for(N=F.length-1;N>-1;N--){Q=F[N];if(!Q||!Q.id){F.splice(N,1);}}this.startInterval();}else{if(this._interval){clearInterval(this._interval);this._interval=null;}}this.locked=false;},purgeElement:function(Q,R,T){var O=(YAHOO.lang.isString(Q))?this.getEl(Q):Q;var S=this.getListeners(O,T),P,M;if(S){for(P=S.length-1;P>-1;P--){var N=S[P];this.removeListener(O,N.type,N.fn);}}if(R&&O&&O.childNodes){for(P=0,M=O.childNodes.length;P<M;++P){this.purgeElement(O.childNodes[P],R,T);}}},getListeners:function(O,M){var R=[],N;if(!M){N=[I,J];}else{if(M==="unload"){N=[J];}else{N=[I];}}var T=(YAHOO.lang.isString(O))?this.getEl(O):O;for(var Q=0;Q<N.length;Q=Q+1){var V=N[Q];if(V){for(var S=0,U=V.length;S<U;++S){var P=V[S];if(P&&P[this.EL]===T&&(!M||M===P[this.TYPE])){R.push({type:P[this.TYPE],fn:P[this.FN],obj:P[this.OBJ],adjust:P[this.OVERRIDE],scope:P[this.ADJ_SCOPE],index:S});}}}}return(R.length)?R:null;},_unload:function(T){var N=YAHOO.util.Event,Q,P,O,S,R,U=J.slice(),M;for(Q=0,S=J.length;Q<S;++Q){O=U[Q];if(O){M=window;if(O[N.ADJ_SCOPE]){if(O[N.ADJ_SCOPE]===true){M=O[N.UNLOAD_OBJ];}else{M=O[N.ADJ_SCOPE];}}O[N.FN].call(M,N.getEvent(T,O[N.EL]),O[N.UNLOAD_OBJ]);U[Q]=null;}}O=null;M=null;J=null;if(I){for(P=I.length-1;P>-1;P--){O=I[P];if(O){N.removeListener(O[N.EL],O[N.TYPE],O[N.FN],P);}}O=null;}G=null;N._simpleRemove(window,"unload",N._unload);},_getScrollLeft:function(){return this._getScroll()[1];},_getScrollTop:function(){return this._getScroll()[0];},_getScroll:function(){var M=document.documentElement,N=document.body;if(M&&(M.scrollTop||M.scrollLeft)){return[M.scrollTop,M.scrollLeft];}else{if(N){return[N.scrollTop,N.scrollLeft];}else{return[0,0];}}},regCE:function(){},_simpleAdd:function(){if(window.addEventListener){return function(O,P,N,M){O.addEventListener(P,N,(M));};}else{if(window.attachEvent){return function(O,P,N,M){O.attachEvent("on"+P,N);};}else{return function(){};}}}(),_simpleRemove:function(){if(window.removeEventListener){return function(O,P,N,M){O.removeEventListener(P,N,(M));};}else{if(window.detachEvent){return function(N,O,M){N.detachEvent("on"+O,M);};}else{return function(){};}}}()};}();(function(){var EU=YAHOO.util.Event;EU.on=EU.addListener;EU.onFocus=EU.addFocusListener;EU.onBlur=EU.addBlurListener;
/* DOMReady: based on work by: Dean Edwards/John Resig/Matthias Miller */
if(EU.isIE){YAHOO.util.Event.onDOMReady(YAHOO.util.Event._tryPreloadAttach,YAHOO.util.Event,true);var n=document.createElement("p");EU._dri=setInterval(function(){try{n.doScroll("left");clearInterval(EU._dri);EU._dri=null;EU._ready();n=null;}catch(ex){}},EU.POLL_INTERVAL);}else{if(EU.webkit&&EU.webkit<525){EU._dri=setInterval(function(){var rs=document.readyState;if("loaded"==rs||"complete"==rs){clearInterval(EU._dri);EU._dri=null;EU._ready();}},EU.POLL_INTERVAL);}else{EU._simpleAdd(document,"DOMContentLoaded",EU._ready);}}EU._simpleAdd(window,"load",EU._load);EU._simpleAdd(window,"unload",EU._unload);EU._tryPreloadAttach();})();}YAHOO.util.EventProvider=function(){};YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(A,C,F,E){this.__yui_events=this.__yui_events||{};var D=this.__yui_events[A];if(D){D.subscribe(C,F,E);
}else{this.__yui_subscribers=this.__yui_subscribers||{};var B=this.__yui_subscribers;if(!B[A]){B[A]=[];}B[A].push({fn:C,obj:F,overrideContext:E});}},unsubscribe:function(C,E,G){this.__yui_events=this.__yui_events||{};var A=this.__yui_events;if(C){var F=A[C];if(F){return F.unsubscribe(E,G);}}else{var B=true;for(var D in A){if(YAHOO.lang.hasOwnProperty(A,D)){B=B&&A[D].unsubscribe(E,G);}}return B;}return false;},unsubscribeAll:function(A){return this.unsubscribe(A);},createEvent:function(G,D){this.__yui_events=this.__yui_events||{};var A=D||{};var I=this.__yui_events;if(I[G]){}else{var H=A.scope||this;var E=(A.silent);var B=new YAHOO.util.CustomEvent(G,H,E,YAHOO.util.CustomEvent.FLAT);I[G]=B;if(A.onSubscribeCallback){B.subscribeEvent.subscribe(A.onSubscribeCallback);}this.__yui_subscribers=this.__yui_subscribers||{};var F=this.__yui_subscribers[G];if(F){for(var C=0;C<F.length;++C){B.subscribe(F[C].fn,F[C].obj,F[C].overrideContext);}}}return I[G];},fireEvent:function(E,D,A,C){this.__yui_events=this.__yui_events||{};var G=this.__yui_events[E];if(!G){return null;}var B=[];for(var F=1;F<arguments.length;++F){B.push(arguments[F]);}return G.fire.apply(G,B);},hasEvent:function(A){if(this.__yui_events){if(this.__yui_events[A]){return true;}}return false;}};(function(){var A=YAHOO.util.Event,C=YAHOO.lang;YAHOO.util.KeyListener=function(D,I,E,F){if(!D){}else{if(!I){}else{if(!E){}}}if(!F){F=YAHOO.util.KeyListener.KEYDOWN;}var G=new YAHOO.util.CustomEvent("keyPressed");this.enabledEvent=new YAHOO.util.CustomEvent("enabled");this.disabledEvent=new YAHOO.util.CustomEvent("disabled");if(C.isString(D)){D=document.getElementById(D);}if(C.isFunction(E)){G.subscribe(E);}else{G.subscribe(E.fn,E.scope,E.correctScope);}function H(O,N){if(!I.shift){I.shift=false;}if(!I.alt){I.alt=false;}if(!I.ctrl){I.ctrl=false;}if(O.shiftKey==I.shift&&O.altKey==I.alt&&O.ctrlKey==I.ctrl){var J,M=I.keys,L;if(YAHOO.lang.isArray(M)){for(var K=0;K<M.length;K++){J=M[K];L=A.getCharCode(O);if(J==L){G.fire(L,O);break;}}}else{L=A.getCharCode(O);if(M==L){G.fire(L,O);}}}}this.enable=function(){if(!this.enabled){A.on(D,F,H);this.enabledEvent.fire(I);}this.enabled=true;};this.disable=function(){if(this.enabled){A.removeListener(D,F,H);this.disabledEvent.fire(I);}this.enabled=false;};this.toString=function(){return"KeyListener ["+I.keys+"] "+D.tagName+(D.id?"["+D.id+"]":"");};};var B=YAHOO.util.KeyListener;B.KEYDOWN="keydown";B.KEYUP="keyup";B.KEY={ALT:18,BACK_SPACE:8,CAPS_LOCK:20,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,META:224,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PRINTSCREEN:44,RIGHT:39,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,UP:38};})();YAHOO.register("event",YAHOO.util.Event,{version:"2.7.0",build:"1799"});YAHOO.register("yahoo-dom-event", YAHOO, {version: "2.7.0", build: "1799"});
/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
YAHOO.util.CustomEvent=function(D,C,B,A){this.type=D;this.scope=C||window;this.silent=B;this.signature=A||YAHOO.util.CustomEvent.LIST;this.subscribers=[];if(!this.silent){}var E="_YUICEOnSubscribe";if(D!==E){this.subscribeEvent=new YAHOO.util.CustomEvent(E,this,true);}this.lastError=null;};YAHOO.util.CustomEvent.LIST=0;YAHOO.util.CustomEvent.FLAT=1;YAHOO.util.CustomEvent.prototype={subscribe:function(A,B,C){if(!A){throw new Error("Invalid callback for subscriber to '"+this.type+"'");}if(this.subscribeEvent){this.subscribeEvent.fire(A,B,C);}this.subscribers.push(new YAHOO.util.Subscriber(A,B,C));},unsubscribe:function(D,F){if(!D){return this.unsubscribeAll();}var E=false;for(var B=0,A=this.subscribers.length;B<A;++B){var C=this.subscribers[B];if(C&&C.contains(D,F)){this._delete(B);E=true;}}return E;},fire:function(){this.lastError=null;var K=[],E=this.subscribers.length;if(!E&&this.silent){return true;}var I=[].slice.call(arguments,0),G=true,D,J=false;if(!this.silent){}var C=this.subscribers.slice(),A=YAHOO.util.Event.throwErrors;for(D=0;D<E;++D){var M=C[D];if(!M){J=true;}else{if(!this.silent){}var L=M.getScope(this.scope);if(this.signature==YAHOO.util.CustomEvent.FLAT){var B=null;if(I.length>0){B=I[0];}try{G=M.fn.call(L,B,M.obj);}catch(F){this.lastError=F;if(A){throw F;}}}else{try{G=M.fn.call(L,this.type,I,M.obj);}catch(H){this.lastError=H;if(A){throw H;}}}if(false===G){if(!this.silent){}break;}}}return(G!==false);},unsubscribeAll:function(){var A=this.subscribers.length,B;for(B=A-1;B>-1;B--){this._delete(B);}this.subscribers=[];return A;},_delete:function(A){var B=this.subscribers[A];if(B){delete B.fn;delete B.obj;}this.subscribers.splice(A,1);},toString:function(){return"CustomEvent: "+"'"+this.type+"', "+"context: "+this.scope;}};YAHOO.util.Subscriber=function(A,B,C){this.fn=A;this.obj=YAHOO.lang.isUndefined(B)?null:B;this.overrideContext=C;};YAHOO.util.Subscriber.prototype.getScope=function(A){if(this.overrideContext){if(this.overrideContext===true){return this.obj;}else{return this.overrideContext;}}return A;};YAHOO.util.Subscriber.prototype.contains=function(A,B){if(B){return(this.fn==A&&this.obj==B);}else{return(this.fn==A);}};YAHOO.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+this.obj+", overrideContext: "+(this.overrideContext||"no")+" }";};if(!YAHOO.util.Event){YAHOO.util.Event=function(){var H=false;var I=[];var J=[];var G=[];var E=[];var C=0;var F=[];var B=[];var A=0;var D={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9};var K=YAHOO.env.ua.ie?"focusin":"focus";var L=YAHOO.env.ua.ie?"focusout":"blur";return{POLL_RETRYS:2000,POLL_INTERVAL:20,EL:0,TYPE:1,FN:2,WFN:3,UNLOAD_OBJ:3,ADJ_SCOPE:4,OBJ:5,OVERRIDE:6,lastError:null,isSafari:YAHOO.env.ua.webkit,webkit:YAHOO.env.ua.webkit,isIE:YAHOO.env.ua.ie,_interval:null,_dri:null,DOMReady:false,throwErrors:false,startInterval:function(){if(!this._interval){var M=this;var N=function(){M._tryPreloadAttach();};this._interval=setInterval(N,this.POLL_INTERVAL);}},onAvailable:function(S,O,Q,R,P){var M=(YAHOO.lang.isString(S))?[S]:S;for(var N=0;N<M.length;N=N+1){F.push({id:M[N],fn:O,obj:Q,overrideContext:R,checkReady:P});}C=this.POLL_RETRYS;this.startInterval();},onContentReady:function(P,M,N,O){this.onAvailable(P,M,N,O,true);},onDOMReady:function(M,N,O){if(this.DOMReady){setTimeout(function(){var P=window;if(O){if(O===true){P=N;}else{P=O;}}M.call(P,"DOMReady",[],N);},0);}else{this.DOMReadyEvent.subscribe(M,N,O);}},_addListener:function(O,M,Y,S,W,b){if(!Y||!Y.call){return false;}if(this._isValidCollection(O)){var Z=true;for(var T=0,V=O.length;T<V;++T){Z=this.on(O[T],M,Y,S,W)&&Z;}return Z;}else{if(YAHOO.lang.isString(O)){var R=this.getEl(O);if(R){O=R;}else{this.onAvailable(O,function(){YAHOO.util.Event.on(O,M,Y,S,W);});return true;}}}if(!O){return false;}if("unload"==M&&S!==this){J[J.length]=[O,M,Y,S,W];return true;}var N=O;if(W){if(W===true){N=S;}else{N=W;}}var P=function(c){return Y.call(N,YAHOO.util.Event.getEvent(c,O),S);};var a=[O,M,Y,P,N,S,W];var U=I.length;I[U]=a;if(this.useLegacyEvent(O,M)){var Q=this.getLegacyIndex(O,M);if(Q==-1||O!=G[Q][0]){Q=G.length;B[O.id+M]=Q;G[Q]=[O,M,O["on"+M]];E[Q]=[];O["on"+M]=function(c){YAHOO.util.Event.fireLegacyEvent(YAHOO.util.Event.getEvent(c),Q);};}E[Q].push(a);}else{try{this._simpleAdd(O,M,P,b);}catch(X){this.lastError=X;this.removeListener(O,M,Y);return false;}}return true;},addListener:function(N,Q,M,O,P){return this._addListener(N,Q,M,O,P,false);},addFocusListener:function(N,M,O,P){return this._addListener(N,K,M,O,P,true);},removeFocusListener:function(N,M){return this.removeListener(N,K,M);},addBlurListener:function(N,M,O,P){return this._addListener(N,L,M,O,P,true);},removeBlurListener:function(N,M){return this.removeListener(N,L,M);},fireLegacyEvent:function(R,P){var T=true,M,V,U,N,S;V=E[P].slice();for(var O=0,Q=V.length;O<Q;++O){U=V[O];if(U&&U[this.WFN]){N=U[this.ADJ_SCOPE];S=U[this.WFN].call(N,R);T=(T&&S);}}M=G[P];if(M&&M[2]){M[2](R);}return T;},getLegacyIndex:function(N,O){var M=this.generateId(N)+O;if(typeof B[M]=="undefined"){return -1;}else{return B[M];}},useLegacyEvent:function(M,N){return(this.webkit&&this.webkit<419&&("click"==N||"dblclick"==N));},removeListener:function(N,M,V){var Q,T,X;if(typeof N=="string"){N=this.getEl(N);}else{if(this._isValidCollection(N)){var W=true;for(Q=N.length-1;Q>-1;Q--){W=(this.removeListener(N[Q],M,V)&&W);}return W;}}if(!V||!V.call){return this.purgeElement(N,false,M);}if("unload"==M){for(Q=J.length-1;Q>-1;Q--){X=J[Q];if(X&&X[0]==N&&X[1]==M&&X[2]==V){J.splice(Q,1);return true;}}return false;}var R=null;var S=arguments[3];if("undefined"===typeof S){S=this._getCacheIndex(N,M,V);}if(S>=0){R=I[S];}if(!N||!R){return false;}if(this.useLegacyEvent(N,M)){var P=this.getLegacyIndex(N,M);var O=E[P];if(O){for(Q=0,T=O.length;Q<T;++Q){X=O[Q];if(X&&X[this.EL]==N&&X[this.TYPE]==M&&X[this.FN]==V){O.splice(Q,1);break;}}}}else{try{this._simpleRemove(N,M,R[this.WFN],false);}catch(U){this.lastError=U;return false;}}delete I[S][this.WFN];delete I[S][this.FN];
I.splice(S,1);return true;},getTarget:function(O,N){var M=O.target||O.srcElement;return this.resolveTextNode(M);},resolveTextNode:function(N){try{if(N&&3==N.nodeType){return N.parentNode;}}catch(M){}return N;},getPageX:function(N){var M=N.pageX;if(!M&&0!==M){M=N.clientX||0;if(this.isIE){M+=this._getScrollLeft();}}return M;},getPageY:function(M){var N=M.pageY;if(!N&&0!==N){N=M.clientY||0;if(this.isIE){N+=this._getScrollTop();}}return N;},getXY:function(M){return[this.getPageX(M),this.getPageY(M)];},getRelatedTarget:function(N){var M=N.relatedTarget;if(!M){if(N.type=="mouseout"){M=N.toElement;}else{if(N.type=="mouseover"){M=N.fromElement;}}}return this.resolveTextNode(M);},getTime:function(O){if(!O.time){var N=new Date().getTime();try{O.time=N;}catch(M){this.lastError=M;return N;}}return O.time;},stopEvent:function(M){this.stopPropagation(M);this.preventDefault(M);},stopPropagation:function(M){if(M.stopPropagation){M.stopPropagation();}else{M.cancelBubble=true;}},preventDefault:function(M){if(M.preventDefault){M.preventDefault();}else{M.returnValue=false;}},getEvent:function(O,M){var N=O||window.event;if(!N){var P=this.getEvent.caller;while(P){N=P.arguments[0];if(N&&Event==N.constructor){break;}P=P.caller;}}return N;},getCharCode:function(N){var M=N.keyCode||N.charCode||0;if(YAHOO.env.ua.webkit&&(M in D)){M=D[M];}return M;},_getCacheIndex:function(Q,R,P){for(var O=0,N=I.length;O<N;O=O+1){var M=I[O];if(M&&M[this.FN]==P&&M[this.EL]==Q&&M[this.TYPE]==R){return O;}}return -1;},generateId:function(M){var N=M.id;if(!N){N="yuievtautoid-"+A;++A;M.id=N;}return N;},_isValidCollection:function(N){try{return(N&&typeof N!=="string"&&N.length&&!N.tagName&&!N.alert&&typeof N[0]!=="undefined");}catch(M){return false;}},elCache:{},getEl:function(M){return(typeof M==="string")?document.getElementById(M):M;},clearCache:function(){},DOMReadyEvent:new YAHOO.util.CustomEvent("DOMReady",this),_load:function(N){if(!H){H=true;var M=YAHOO.util.Event;M._ready();M._tryPreloadAttach();}},_ready:function(N){var M=YAHOO.util.Event;if(!M.DOMReady){M.DOMReady=true;M.DOMReadyEvent.fire();M._simpleRemove(document,"DOMContentLoaded",M._ready);}},_tryPreloadAttach:function(){if(F.length===0){C=0;if(this._interval){clearInterval(this._interval);this._interval=null;}return;}if(this.locked){return;}if(this.isIE){if(!this.DOMReady){this.startInterval();return;}}this.locked=true;var S=!H;if(!S){S=(C>0&&F.length>0);}var R=[];var T=function(V,W){var U=V;if(W.overrideContext){if(W.overrideContext===true){U=W.obj;}else{U=W.overrideContext;}}W.fn.call(U,W.obj);};var N,M,Q,P,O=[];for(N=0,M=F.length;N<M;N=N+1){Q=F[N];if(Q){P=this.getEl(Q.id);if(P){if(Q.checkReady){if(H||P.nextSibling||!S){O.push(Q);F[N]=null;}}else{T(P,Q);F[N]=null;}}else{R.push(Q);}}}for(N=0,M=O.length;N<M;N=N+1){Q=O[N];T(this.getEl(Q.id),Q);}C--;if(S){for(N=F.length-1;N>-1;N--){Q=F[N];if(!Q||!Q.id){F.splice(N,1);}}this.startInterval();}else{if(this._interval){clearInterval(this._interval);this._interval=null;}}this.locked=false;},purgeElement:function(Q,R,T){var O=(YAHOO.lang.isString(Q))?this.getEl(Q):Q;var S=this.getListeners(O,T),P,M;if(S){for(P=S.length-1;P>-1;P--){var N=S[P];this.removeListener(O,N.type,N.fn);}}if(R&&O&&O.childNodes){for(P=0,M=O.childNodes.length;P<M;++P){this.purgeElement(O.childNodes[P],R,T);}}},getListeners:function(O,M){var R=[],N;if(!M){N=[I,J];}else{if(M==="unload"){N=[J];}else{N=[I];}}var T=(YAHOO.lang.isString(O))?this.getEl(O):O;for(var Q=0;Q<N.length;Q=Q+1){var V=N[Q];if(V){for(var S=0,U=V.length;S<U;++S){var P=V[S];if(P&&P[this.EL]===T&&(!M||M===P[this.TYPE])){R.push({type:P[this.TYPE],fn:P[this.FN],obj:P[this.OBJ],adjust:P[this.OVERRIDE],scope:P[this.ADJ_SCOPE],index:S});}}}}return(R.length)?R:null;},_unload:function(T){var N=YAHOO.util.Event,Q,P,O,S,R,U=J.slice(),M;for(Q=0,S=J.length;Q<S;++Q){O=U[Q];if(O){M=window;if(O[N.ADJ_SCOPE]){if(O[N.ADJ_SCOPE]===true){M=O[N.UNLOAD_OBJ];}else{M=O[N.ADJ_SCOPE];}}O[N.FN].call(M,N.getEvent(T,O[N.EL]),O[N.UNLOAD_OBJ]);U[Q]=null;}}O=null;M=null;J=null;if(I){for(P=I.length-1;P>-1;P--){O=I[P];if(O){N.removeListener(O[N.EL],O[N.TYPE],O[N.FN],P);}}O=null;}G=null;N._simpleRemove(window,"unload",N._unload);},_getScrollLeft:function(){return this._getScroll()[1];},_getScrollTop:function(){return this._getScroll()[0];},_getScroll:function(){var M=document.documentElement,N=document.body;if(M&&(M.scrollTop||M.scrollLeft)){return[M.scrollTop,M.scrollLeft];}else{if(N){return[N.scrollTop,N.scrollLeft];}else{return[0,0];}}},regCE:function(){},_simpleAdd:function(){if(window.addEventListener){return function(O,P,N,M){O.addEventListener(P,N,(M));};}else{if(window.attachEvent){return function(O,P,N,M){O.attachEvent("on"+P,N);};}else{return function(){};}}}(),_simpleRemove:function(){if(window.removeEventListener){return function(O,P,N,M){O.removeEventListener(P,N,(M));};}else{if(window.detachEvent){return function(N,O,M){N.detachEvent("on"+O,M);};}else{return function(){};}}}()};}();(function(){var EU=YAHOO.util.Event;EU.on=EU.addListener;EU.onFocus=EU.addFocusListener;EU.onBlur=EU.addBlurListener;
/* DOMReady: based on work by: Dean Edwards/John Resig/Matthias Miller */
if(EU.isIE){YAHOO.util.Event.onDOMReady(YAHOO.util.Event._tryPreloadAttach,YAHOO.util.Event,true);var n=document.createElement("p");EU._dri=setInterval(function(){try{n.doScroll("left");clearInterval(EU._dri);EU._dri=null;EU._ready();n=null;}catch(ex){}},EU.POLL_INTERVAL);}else{if(EU.webkit&&EU.webkit<525){EU._dri=setInterval(function(){var rs=document.readyState;if("loaded"==rs||"complete"==rs){clearInterval(EU._dri);EU._dri=null;EU._ready();}},EU.POLL_INTERVAL);}else{EU._simpleAdd(document,"DOMContentLoaded",EU._ready);}}EU._simpleAdd(window,"load",EU._load);EU._simpleAdd(window,"unload",EU._unload);EU._tryPreloadAttach();})();}YAHOO.util.EventProvider=function(){};YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(A,C,F,E){this.__yui_events=this.__yui_events||{};var D=this.__yui_events[A];if(D){D.subscribe(C,F,E);
}else{this.__yui_subscribers=this.__yui_subscribers||{};var B=this.__yui_subscribers;if(!B[A]){B[A]=[];}B[A].push({fn:C,obj:F,overrideContext:E});}},unsubscribe:function(C,E,G){this.__yui_events=this.__yui_events||{};var A=this.__yui_events;if(C){var F=A[C];if(F){return F.unsubscribe(E,G);}}else{var B=true;for(var D in A){if(YAHOO.lang.hasOwnProperty(A,D)){B=B&&A[D].unsubscribe(E,G);}}return B;}return false;},unsubscribeAll:function(A){return this.unsubscribe(A);},createEvent:function(G,D){this.__yui_events=this.__yui_events||{};var A=D||{};var I=this.__yui_events;if(I[G]){}else{var H=A.scope||this;var E=(A.silent);var B=new YAHOO.util.CustomEvent(G,H,E,YAHOO.util.CustomEvent.FLAT);I[G]=B;if(A.onSubscribeCallback){B.subscribeEvent.subscribe(A.onSubscribeCallback);}this.__yui_subscribers=this.__yui_subscribers||{};var F=this.__yui_subscribers[G];if(F){for(var C=0;C<F.length;++C){B.subscribe(F[C].fn,F[C].obj,F[C].overrideContext);}}}return I[G];},fireEvent:function(E,D,A,C){this.__yui_events=this.__yui_events||{};var G=this.__yui_events[E];if(!G){return null;}var B=[];for(var F=1;F<arguments.length;++F){B.push(arguments[F]);}return G.fire.apply(G,B);},hasEvent:function(A){if(this.__yui_events){if(this.__yui_events[A]){return true;}}return false;}};(function(){var A=YAHOO.util.Event,C=YAHOO.lang;YAHOO.util.KeyListener=function(D,I,E,F){if(!D){}else{if(!I){}else{if(!E){}}}if(!F){F=YAHOO.util.KeyListener.KEYDOWN;}var G=new YAHOO.util.CustomEvent("keyPressed");this.enabledEvent=new YAHOO.util.CustomEvent("enabled");this.disabledEvent=new YAHOO.util.CustomEvent("disabled");if(C.isString(D)){D=document.getElementById(D);}if(C.isFunction(E)){G.subscribe(E);}else{G.subscribe(E.fn,E.scope,E.correctScope);}function H(O,N){if(!I.shift){I.shift=false;}if(!I.alt){I.alt=false;}if(!I.ctrl){I.ctrl=false;}if(O.shiftKey==I.shift&&O.altKey==I.alt&&O.ctrlKey==I.ctrl){var J,M=I.keys,L;if(YAHOO.lang.isArray(M)){for(var K=0;K<M.length;K++){J=M[K];L=A.getCharCode(O);if(J==L){G.fire(L,O);break;}}}else{L=A.getCharCode(O);if(M==L){G.fire(L,O);}}}}this.enable=function(){if(!this.enabled){A.on(D,F,H);this.enabledEvent.fire(I);}this.enabled=true;};this.disable=function(){if(this.enabled){A.removeListener(D,F,H);this.disabledEvent.fire(I);}this.enabled=false;};this.toString=function(){return"KeyListener ["+I.keys+"] "+D.tagName+(D.id?"["+D.id+"]":"");};};var B=YAHOO.util.KeyListener;B.KEYDOWN="keydown";B.KEYUP="keyup";B.KEY={ALT:18,BACK_SPACE:8,CAPS_LOCK:20,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,META:224,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PRINTSCREEN:44,RIGHT:39,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,UP:38};})();YAHOO.register("event",YAHOO.util.Event,{version:"2.7.0",build:"1796"});/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
(function(){var B=YAHOO.util;var A=function(D,C,E,F){if(!D){}this.init(D,C,E,F);};A.NAME="Anim";A.prototype={toString:function(){var C=this.getEl()||{};var D=C.id||C.tagName;return(this.constructor.NAME+": "+D);},patterns:{noNegatives:/width|height|opacity|padding/i,offsetAttribute:/^((width|height)|(top|left))$/,defaultUnit:/width|height|top$|bottom$|left$|right$/i,offsetUnit:/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i},doMethod:function(C,E,D){return this.method(this.currentFrame,E,D-E,this.totalFrames);},setAttribute:function(C,F,E){var D=this.getEl();if(this.patterns.noNegatives.test(C)){F=(F>0)?F:0;}if("style" in D){B.Dom.setStyle(D,C,F+E);}else{if(C in D){D[C]=F;}}},getAttribute:function(C){var E=this.getEl();var G=B.Dom.getStyle(E,C);if(G!=="auto"&&!this.patterns.offsetUnit.test(G)){return parseFloat(G);}var D=this.patterns.offsetAttribute.exec(C)||[];var H=!!(D[3]);var F=!!(D[2]);if("style" in E){if(F||(B.Dom.getStyle(E,"position")=="absolute"&&H)){G=E["offset"+D[0].charAt(0).toUpperCase()+D[0].substr(1)];}else{G=0;}}else{if(C in E){G=E[C];}}return G;},getDefaultUnit:function(C){if(this.patterns.defaultUnit.test(C)){return"px";}return"";},setRuntimeAttribute:function(D){var I;var E;var F=this.attributes;this.runtimeAttributes[D]={};var H=function(J){return(typeof J!=="undefined");};if(!H(F[D]["to"])&&!H(F[D]["by"])){return false;}I=(H(F[D]["from"]))?F[D]["from"]:this.getAttribute(D);if(H(F[D]["to"])){E=F[D]["to"];}else{if(H(F[D]["by"])){if(I.constructor==Array){E=[];for(var G=0,C=I.length;G<C;++G){E[G]=I[G]+F[D]["by"][G]*1;}}else{E=I+F[D]["by"]*1;}}}this.runtimeAttributes[D].start=I;this.runtimeAttributes[D].end=E;this.runtimeAttributes[D].unit=(H(F[D].unit))?F[D]["unit"]:this.getDefaultUnit(D);return true;},init:function(E,J,I,C){var D=false;var F=null;var H=0;E=B.Dom.get(E);this.attributes=J||{};this.duration=!YAHOO.lang.isUndefined(I)?I:1;this.method=C||B.Easing.easeNone;this.useSeconds=true;this.currentFrame=0;this.totalFrames=B.AnimMgr.fps;this.setEl=function(M){E=B.Dom.get(M);};this.getEl=function(){return E;};this.isAnimated=function(){return D;};this.getStartTime=function(){return F;};this.runtimeAttributes={};this.animate=function(){if(this.isAnimated()){return false;}this.currentFrame=0;this.totalFrames=(this.useSeconds)?Math.ceil(B.AnimMgr.fps*this.duration):this.duration;if(this.duration===0&&this.useSeconds){this.totalFrames=1;}B.AnimMgr.registerElement(this);return true;};this.stop=function(M){if(!this.isAnimated()){return false;}if(M){this.currentFrame=this.totalFrames;this._onTween.fire();}B.AnimMgr.stop(this);};var L=function(){this.onStart.fire();this.runtimeAttributes={};for(var M in this.attributes){this.setRuntimeAttribute(M);}D=true;H=0;F=new Date();};var K=function(){var O={duration:new Date()-this.getStartTime(),currentFrame:this.currentFrame};O.toString=function(){return("duration: "+O.duration+", currentFrame: "+O.currentFrame);};this.onTween.fire(O);var N=this.runtimeAttributes;for(var M in N){this.setAttribute(M,this.doMethod(M,N[M].start,N[M].end),N[M].unit);}H+=1;};var G=function(){var M=(new Date()-F)/1000;var N={duration:M,frames:H,fps:H/M};N.toString=function(){return("duration: "+N.duration+", frames: "+N.frames+", fps: "+N.fps);};D=false;H=0;this.onComplete.fire(N);};this._onStart=new B.CustomEvent("_start",this,true);this.onStart=new B.CustomEvent("start",this);this.onTween=new B.CustomEvent("tween",this);this._onTween=new B.CustomEvent("_tween",this,true);this.onComplete=new B.CustomEvent("complete",this);this._onComplete=new B.CustomEvent("_complete",this,true);this._onStart.subscribe(L);this._onTween.subscribe(K);this._onComplete.subscribe(G);}};B.Anim=A;})();YAHOO.util.AnimMgr=new function(){var C=null;var B=[];var A=0;this.fps=1000;this.delay=1;this.registerElement=function(F){B[B.length]=F;A+=1;F._onStart.fire();this.start();};this.unRegister=function(G,F){F=F||E(G);if(!G.isAnimated()||F==-1){return false;}G._onComplete.fire();B.splice(F,1);A-=1;if(A<=0){this.stop();}return true;};this.start=function(){if(C===null){C=setInterval(this.run,this.delay);}};this.stop=function(H){if(!H){clearInterval(C);for(var G=0,F=B.length;G<F;++G){this.unRegister(B[0],0);}B=[];C=null;A=0;}else{this.unRegister(H);}};this.run=function(){for(var H=0,F=B.length;H<F;++H){var G=B[H];if(!G||!G.isAnimated()){continue;}if(G.currentFrame<G.totalFrames||G.totalFrames===null){G.currentFrame+=1;if(G.useSeconds){D(G);}G._onTween.fire();}else{YAHOO.util.AnimMgr.stop(G,H);}}};var E=function(H){for(var G=0,F=B.length;G<F;++G){if(B[G]==H){return G;}}return -1;};var D=function(G){var J=G.totalFrames;var I=G.currentFrame;var H=(G.currentFrame*G.duration*1000/G.totalFrames);var F=(new Date()-G.getStartTime());var K=0;if(F<G.duration*1000){K=Math.round((F/H-1)*G.currentFrame);}else{K=J-(I+1);}if(K>0&&isFinite(K)){if(G.currentFrame+K>=J){K=J-(I+1);}G.currentFrame+=K;}};};YAHOO.util.Bezier=new function(){this.getPosition=function(E,D){var F=E.length;var C=[];for(var B=0;B<F;++B){C[B]=[E[B][0],E[B][1]];}for(var A=1;A<F;++A){for(B=0;B<F-A;++B){C[B][0]=(1-D)*C[B][0]+D*C[parseInt(B+1,10)][0];C[B][1]=(1-D)*C[B][1]+D*C[parseInt(B+1,10)][1];}}return[C[0][0],C[0][1]];};};(function(){var A=function(F,E,G,H){A.superclass.constructor.call(this,F,E,G,H);};A.NAME="ColorAnim";A.DEFAULT_BGCOLOR="#fff";var C=YAHOO.util;YAHOO.extend(A,C.Anim);var D=A.superclass;var B=A.prototype;B.patterns.color=/color$/i;B.patterns.rgb=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i;B.patterns.hex=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i;B.patterns.hex3=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;B.patterns.transparent=/^transparent|rgba\(0, 0, 0, 0\)$/;B.parseColor=function(E){if(E.length==3){return E;}var F=this.patterns.hex.exec(E);if(F&&F.length==4){return[parseInt(F[1],16),parseInt(F[2],16),parseInt(F[3],16)];}F=this.patterns.rgb.exec(E);if(F&&F.length==4){return[parseInt(F[1],10),parseInt(F[2],10),parseInt(F[3],10)];}F=this.patterns.hex3.exec(E);if(F&&F.length==4){return[parseInt(F[1]+F[1],16),parseInt(F[2]+F[2],16),parseInt(F[3]+F[3],16)];
}return null;};B.getAttribute=function(E){var G=this.getEl();if(this.patterns.color.test(E)){var I=YAHOO.util.Dom.getStyle(G,E);var H=this;if(this.patterns.transparent.test(I)){var F=YAHOO.util.Dom.getAncestorBy(G,function(J){return !H.patterns.transparent.test(I);});if(F){I=C.Dom.getStyle(F,E);}else{I=A.DEFAULT_BGCOLOR;}}}else{I=D.getAttribute.call(this,E);}return I;};B.doMethod=function(F,J,G){var I;if(this.patterns.color.test(F)){I=[];for(var H=0,E=J.length;H<E;++H){I[H]=D.doMethod.call(this,F,J[H],G[H]);}I="rgb("+Math.floor(I[0])+","+Math.floor(I[1])+","+Math.floor(I[2])+")";}else{I=D.doMethod.call(this,F,J,G);}return I;};B.setRuntimeAttribute=function(F){D.setRuntimeAttribute.call(this,F);if(this.patterns.color.test(F)){var H=this.attributes;var J=this.parseColor(this.runtimeAttributes[F].start);var G=this.parseColor(this.runtimeAttributes[F].end);if(typeof H[F]["to"]==="undefined"&&typeof H[F]["by"]!=="undefined"){G=this.parseColor(H[F].by);for(var I=0,E=J.length;I<E;++I){G[I]=J[I]+G[I];}}this.runtimeAttributes[F].start=J;this.runtimeAttributes[F].end=G;}};C.ColorAnim=A;})();
/*
TERMS OF USE - EASING EQUATIONS
Open source under the BSD License.
Copyright 2001 Robert Penner All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

 * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
 * Neither the name of the author nor the names of contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
YAHOO.util.Easing={easeNone:function(B,A,D,C){return D*B/C+A;},easeIn:function(B,A,D,C){return D*(B/=C)*B+A;},easeOut:function(B,A,D,C){return -D*(B/=C)*(B-2)+A;},easeBoth:function(B,A,D,C){if((B/=C/2)<1){return D/2*B*B+A;}return -D/2*((--B)*(B-2)-1)+A;},easeInStrong:function(B,A,D,C){return D*(B/=C)*B*B*B+A;},easeOutStrong:function(B,A,D,C){return -D*((B=B/C-1)*B*B*B-1)+A;},easeBothStrong:function(B,A,D,C){if((B/=C/2)<1){return D/2*B*B*B*B+A;}return -D/2*((B-=2)*B*B*B-2)+A;},elasticIn:function(C,A,G,F,B,E){if(C==0){return A;}if((C/=F)==1){return A+G;}if(!E){E=F*0.3;}if(!B||B<Math.abs(G)){B=G;var D=E/4;}else{var D=E/(2*Math.PI)*Math.asin(G/B);}return -(B*Math.pow(2,10*(C-=1))*Math.sin((C*F-D)*(2*Math.PI)/E))+A;},elasticOut:function(C,A,G,F,B,E){if(C==0){return A;}if((C/=F)==1){return A+G;}if(!E){E=F*0.3;}if(!B||B<Math.abs(G)){B=G;var D=E/4;}else{var D=E/(2*Math.PI)*Math.asin(G/B);}return B*Math.pow(2,-10*C)*Math.sin((C*F-D)*(2*Math.PI)/E)+G+A;},elasticBoth:function(C,A,G,F,B,E){if(C==0){return A;}if((C/=F/2)==2){return A+G;}if(!E){E=F*(0.3*1.5);}if(!B||B<Math.abs(G)){B=G;var D=E/4;}else{var D=E/(2*Math.PI)*Math.asin(G/B);}if(C<1){return -0.5*(B*Math.pow(2,10*(C-=1))*Math.sin((C*F-D)*(2*Math.PI)/E))+A;}return B*Math.pow(2,-10*(C-=1))*Math.sin((C*F-D)*(2*Math.PI)/E)*0.5+G+A;},backIn:function(B,A,E,D,C){if(typeof C=="undefined"){C=1.70158;}return E*(B/=D)*B*((C+1)*B-C)+A;},backOut:function(B,A,E,D,C){if(typeof C=="undefined"){C=1.70158;}return E*((B=B/D-1)*B*((C+1)*B+C)+1)+A;},backBoth:function(B,A,E,D,C){if(typeof C=="undefined"){C=1.70158;}if((B/=D/2)<1){return E/2*(B*B*(((C*=(1.525))+1)*B-C))+A;}return E/2*((B-=2)*B*(((C*=(1.525))+1)*B+C)+2)+A;},bounceIn:function(B,A,D,C){return D-YAHOO.util.Easing.bounceOut(C-B,0,D,C)+A;},bounceOut:function(B,A,D,C){if((B/=C)<(1/2.75)){return D*(7.5625*B*B)+A;}else{if(B<(2/2.75)){return D*(7.5625*(B-=(1.5/2.75))*B+0.75)+A;}else{if(B<(2.5/2.75)){return D*(7.5625*(B-=(2.25/2.75))*B+0.9375)+A;}}}return D*(7.5625*(B-=(2.625/2.75))*B+0.984375)+A;},bounceBoth:function(B,A,D,C){if(B<C/2){return YAHOO.util.Easing.bounceIn(B*2,0,D,C)*0.5+A;}return YAHOO.util.Easing.bounceOut(B*2-C,0,D,C)*0.5+D*0.5+A;}};(function(){var A=function(H,G,I,J){if(H){A.superclass.constructor.call(this,H,G,I,J);}};A.NAME="Motion";var E=YAHOO.util;YAHOO.extend(A,E.ColorAnim);var F=A.superclass;var C=A.prototype;C.patterns.points=/^points$/i;C.setAttribute=function(G,I,H){if(this.patterns.points.test(G)){H=H||"px";F.setAttribute.call(this,"left",I[0],H);F.setAttribute.call(this,"top",I[1],H);}else{F.setAttribute.call(this,G,I,H);}};C.getAttribute=function(G){if(this.patterns.points.test(G)){var H=[F.getAttribute.call(this,"left"),F.getAttribute.call(this,"top")];}else{H=F.getAttribute.call(this,G);}return H;};C.doMethod=function(G,K,H){var J=null;if(this.patterns.points.test(G)){var I=this.method(this.currentFrame,0,100,this.totalFrames)/100;J=E.Bezier.getPosition(this.runtimeAttributes[G],I);}else{J=F.doMethod.call(this,G,K,H);}return J;};C.setRuntimeAttribute=function(P){if(this.patterns.points.test(P)){var H=this.getEl();var J=this.attributes;var G;var L=J["points"]["control"]||[];var I;var M,O;if(L.length>0&&!(L[0] instanceof Array)){L=[L];}else{var K=[];for(M=0,O=L.length;M<O;++M){K[M]=L[M];}L=K;}if(E.Dom.getStyle(H,"position")=="static"){E.Dom.setStyle(H,"position","relative");}if(D(J["points"]["from"])){E.Dom.setXY(H,J["points"]["from"]);
}else{E.Dom.setXY(H,E.Dom.getXY(H));}G=this.getAttribute("points");if(D(J["points"]["to"])){I=B.call(this,J["points"]["to"],G);var N=E.Dom.getXY(this.getEl());for(M=0,O=L.length;M<O;++M){L[M]=B.call(this,L[M],G);}}else{if(D(J["points"]["by"])){I=[G[0]+J["points"]["by"][0],G[1]+J["points"]["by"][1]];for(M=0,O=L.length;M<O;++M){L[M]=[G[0]+L[M][0],G[1]+L[M][1]];}}}this.runtimeAttributes[P]=[G];if(L.length>0){this.runtimeAttributes[P]=this.runtimeAttributes[P].concat(L);}this.runtimeAttributes[P][this.runtimeAttributes[P].length]=I;}else{F.setRuntimeAttribute.call(this,P);}};var B=function(G,I){var H=E.Dom.getXY(this.getEl());G=[G[0]-H[0]+I[0],G[1]-H[1]+I[1]];return G;};var D=function(G){return(typeof G!=="undefined");};E.Motion=A;})();(function(){var D=function(F,E,G,H){if(F){D.superclass.constructor.call(this,F,E,G,H);}};D.NAME="Scroll";var B=YAHOO.util;YAHOO.extend(D,B.ColorAnim);var C=D.superclass;var A=D.prototype;A.doMethod=function(E,H,F){var G=null;if(E=="scroll"){G=[this.method(this.currentFrame,H[0],F[0]-H[0],this.totalFrames),this.method(this.currentFrame,H[1],F[1]-H[1],this.totalFrames)];}else{G=C.doMethod.call(this,E,H,F);}return G;};A.getAttribute=function(E){var G=null;var F=this.getEl();if(E=="scroll"){G=[F.scrollLeft,F.scrollTop];}else{G=C.getAttribute.call(this,E);}return G;};A.setAttribute=function(E,H,G){var F=this.getEl();if(E=="scroll"){F.scrollLeft=H[0];F.scrollTop=H[1];}else{C.setAttribute.call(this,E,H,G);}};B.Scroll=D;})();YAHOO.register("animation",YAHOO.util.Anim,{version:"2.7.0",build:"1796"});D2L.PT.Auth={};
D2L.PT.Auth.SessionTimeout={m_init:false,m_sessionLength:108E5,m_expiry:"",m_expired:"",m_timeoutIsHandled:false,m_location:null,Init:function(b,c,e,f){var g=D2L.PT.Auth.SessionTimeout;g.m_init=true;g.m_sessionLength=b*6E4;g.m_expiry=c;g.m_expired=e;g.m_location=f;var h=null,k=function(j){try{if(j&&j.D2L!==undefined){if(j.D2L.PT.Auth.SessionTimeout.m_init)h=j.D2L.PT.Auth.SessionTimeout;j.parent&&j.parent!=j&&k(j.parent)}}catch(l){}};k(window);h!==null&&h.Reset()},Reset:function(){var b=D2L.PT.Auth.SessionTimeout,
c=3E5;if(b.m_sessionLength<=c)c=b.m_sessionLength>6E4?6E4:0;b.m_timeoutTime=(new Date).getTime()+b.m_sessionLength;b.m_timeoutIsHandled=false;setTimeout(function(){var e=new Date;if(!b.m_timeoutIsHandled&&e.getTime()+1E3>=b.m_timeoutTime-c){b.m_timeoutIsHandled=true;alert(b.m_expiry);b.Renew()}},b.m_sessionLength-c)}};
D2L.PT.Auth.SessionTimeout.Renew=function(){var b=D2L.PT.Auth.SessionTimeout;D2L.Rpc.Create("ExtendSession",function(c){if(c.GetType()==D2L.Rpc.ResponseType.Success)c.GetResult()?b.Reset():alert(b.m_expired)},"/d2l/lp/auth/sessionTimeout/extend.d2l").Call()};
D2L.PT.Auth.Logout=function(b){var c=document.createElement("form");c.target="_top";c.action=b;c.method="post";b=document.createElement("input");b.type="hidden";b.name="d2l_session";b.value=D2L.LP.Web.UI.Html.Form.GetSessionVal();c.appendChild(b);document.body.appendChild(c);c.submit()};
D2L.Notifiers={m_notifierKeys:[],m_pollLocation:null,m_refreshRate:12E4,m_isTemplateLegacy:false,GetSafeKey:function(b){return b.replace(new RegExp("\\.","g"),"_")},OnAlert:new D2L.LP.Web.UI.Events.Event,HandleResult:function(b){for(var c=D2L.Notifiers,e=0;e<c.m_notifierKeys.length;e++){var f=c.GetSafeKey(c.m_notifierKeys[e]),g=D2L.LP.Web.UI.Html.Dom.GetElementsByClassName("d_nb_n_"+f+"_0")[0];f=D2L.LP.Web.UI.Html.Dom.GetElementsByClassName("d_nb_n_"+f+"_1")[0];for(var h=0;h<b.length;h++)if(b[h]==
c.m_notifierKeys[e]){f.style.display=c.m_isTemplateLegacy?"inline":"block";g.style.display="none";D2L.Notifiers.OnAlert.Trigger(c.m_notifierKeys[e]);break}if(h==b.length){f.style.display="none";g.style.display=c.m_isTemplateLegacy?"inline":"block"}}},Init:function(b,c,e,f){var g=D2L.Notifiers;g.m_refreshRate=b*1E3;g.m_isTemplateLegacy=c;g.m_notifierKeys=e;g.m_pollLocation=f;D2L.LP.Web.UI.Events.OnLoad.AddListener(function(){for(var h=0;h<e.length;h++)D2L.LP.Web.UI.Html.Dom.GetElementsByClassName("d_nb_n_"+
g.GetSafeKey(e[h])+"_1")[0].style.display!="none"&&D2L.Notifiers.OnAlert.Trigger(e[h])});setTimeout(function(){g.Poll()},D2L.Notifiers.m_refreshRate)}};D2L.Notifiers.Poll=function(){var b=D2L.Notifiers,c=D2L.Rpc.Create("Poll",function(e){if(e.GetType()==D2L.Rpc.ResponseType.Success){b.HandleResult(e.GetResult());setTimeout(function(){b.Poll()},b.m_refreshRate)}},"/d2l/lp/navbars/rpc/notifier.d2l");c.SetSessionKeepAlive(false);c.Call()};window.D2L!==undefined&&D2L.LP.Web.Packaging!==undefined&&D2L.LP.Web.Packaging.Register("D2L.LP.Web.Core");
